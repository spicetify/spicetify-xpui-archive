"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[730],{14152:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var a=n(59496),r=n(77646),i=n(46439),c=n(88585),s=n.n(c),l=n(9251),o=n(84805),u=n(67679),f=n(45462),d=n(88668);const k=a.memo((function(){const e=(0,i.s0)(),t=(0,i.TH)(),n=(0,a.useContext)(d.ZF),c=(0,f.g)(),{trackId:k}=(0,i.UO)(),{isAnonymous:g}=(0,r.v9)(o.Gg),h=new URLSearchParams(t.search).get("context"),b=s().trackURI(k).toURI(),m=(0,l.QN)({uri:b},{cacheTime:30*u.y}),p=(0,a.useCallback)(((t,n)=>{const a=c.getState(),r=s().from(n)?.toURLPath(!0),i=`${r}?highlight=${b}`;g?e(i):(a&&!a.isPaused||t>-1&&c.play({uri:n},{featureIdentifier:"track",referrerIdentifier:"deeplink"},{skipTo:{index:t}}),e(i,{replace:!0}))}),[e,g,c,b]),U=(0,a.useCallback)((()=>{if(m.loading||!m.data?.trackUnion)return;const e=m.data.trackUnion;p(e.trackNumber-1,e?.albumOfTrack?.uri||"")}),[p,m?.data?.trackUnion,m.loading]);return(0,a.useEffect)((()=>{const e=s().isPlaylistV1OrV2(h);h&&e?n.getContents(h).then((e=>{const t=e.items.findIndex((e=>e?.uri===b));t<0?U():p(t,h)})):U()}),[h,U,p,n,b]),null})),g=k}}]);
//# sourceMappingURL=xpui-routes-track.js.map