"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[7704],{21680:(e,t,s)=>{s.r(t),s.d(t,{SKELETON_CARDS_COUNT:()=>ue,SKELETON_SHELVES_COUNT:()=>de,default:()=>he});var a=s(59496),n=s(84875),r=s.n(n),o=s(52529),i=s(54431),c=s(51748),l=s(50834),d=s(67497),u=s(38090),p=s(708),m=s(83635),h=s(57881),g=s(61301),f=s(65418),x=s(51458),y=s(85730),j=s(35529),v=s(50779),S=s(43390),b=s(21218),k=s(42778),C=s(89518),w=s(51418),D=s(30241),_=s(96586),N=s(35476),H=s(5088);const E="AaXwi9LLckdsxNwrosnQ",I="yX31EzBkHzNooefkSvT3",A="Z5xLXZofWXGooKRjW6kd",F="kM546dTx5cxDNH530zm8",M="mnhJCpUiriAb7Ay3HOTz",T="rRldspwHsrgo8DsecR2Q";var R=s(4637);const L=({prefersReducedMotion:e})=>(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)("video",{autoPlay:!e,loop:!0,muted:!0,playsInline:!0,disablePictureInPicture:!0,className:`${A} ${F}`,"aria-hidden":"true",children:[(0,R.jsx)("source",{src:(0,_.g)("videos/Sw23-Desktop-Left.webm"),type:"video/webm; codecs=vp09.01.41.08"}),(0,R.jsx)("source",{src:(0,_.g)("videos/Sw23-Desktop-Left.mp4"),type:"video/mp4"})]}),(0,R.jsxs)("video",{autoPlay:!e,loop:!0,muted:!0,playsInline:!0,disablePictureInPicture:!0,className:`${A} ${M}`,"aria-hidden":"true",children:[(0,R.jsx)("source",{src:(0,_.g)("videos/Sw23-Desktop-Right.webm"),type:"video/webm; codecs=vp09.01.41.08"}),(0,R.jsx)("source",{src:(0,_.g)("videos/Sw23-Desktop-Right.mp4"),type:"video/mp4"})]})]}),U=()=>(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("img",{className:`${A} ${F}`,src:(0,_.g)("images/Sw23-Desktop-Left.png"),alt:""}),(0,R.jsx)("img",{className:`${A} ${M}`,src:(0,_.g)("images/Sw23-Desktop-Right.png"),alt:""})]}),W=(0,a.forwardRef)((({linkUri:e,loggedIn:t,isStatic:s=!1,onClick:a},n)=>{const r=(0,N.jh)(),o=(0,H.T)();return(0,R.jsx)("div",{className:E,ref:n,children:(0,R.jsxs)("div",{className:(0,k.Mg)("invertedLight",I),children:[s?(0,R.jsx)(U,{}):(0,R.jsx)(L,{prefersReducedMotion:o}),(0,R.jsx)(C.D,{as:"h2",variant:"brio",semanticColor:"textBase",className:T,children:t?l.ag.get("shared.wrapped-banner.title"):l.ag.get("shared.wrapped-banner.title-loggedout")}),(0,R.jsx)(C.D,{as:"p",variant:r===N.Uo.SMALL?"mesto":"ballad",semanticColor:"textBase",children:t?l.ag.get("shared.wrapped-banner.body"):l.ag.get("shared.wrapped-banner.body-loggedout")}),(0,R.jsx)(w.D,{colorSet:"invertedDark",iconTrailing:D.T,href:e,target:"_blank",size:r===N.Uo.SMALL?"small":"medium",onClick:a,children:l.ag.get("shared.wrapped-banner.button")})]})})})),q=()=>{const e=(0,b.g)(),{spec:t,logger:s}=(0,y.fU)(S.e,{data:{identifier:"wrapped",uri:"spotify:2023wrapped"}}),n=(0,a.useMemo)((()=>t.campaignFactory({identifier:"wrapped",uri:"spotify:2023wrapped"}).bannerFactory({identifier:"home_wrapped_banner",uri:"desktop_banner"})),[t]),r=(0,y.Wi)(n),o="https://spotify.com/wrapped",i=(0,a.useCallback)((()=>{s.logInteraction(n.hitUiNavigate({destination:o}))}),[s,n]);return(0,R.jsx)(W,{linkUri:o,loggedIn:!e,onClick:i,ref:r})};var O=s(57273);const P=JSON.parse('{"uri":"spotify:section:0JQ5DAVAaDNAlq7hOF3StH","data":{"__typename":"HomeYourDJSectionData","title":{"text":"Meet DJ"}},"sectionItems":{"items":[{"uri":"spotify:playlist:37i9dQZF1EYkqdzj48dyYq","content":{"__typename":"PlaylistResponseWrapper","data":{"__typename":"Playlist","uri":"spotify:playlist:37i9dQZF1EYkqdzj48dyYq","name":"DJ","images":{"items":[{"sources":[{"url":"https://lexicon-assets.spotifycdn.com/DJ-Beta-CoverArt-300.jpg","width":null,"height":null}],"extractedColors":{"colorDark":{"hex":"#0858B8","isFallback":false}}}]},"description":"All kinds of music, picked by your own AI DJ.","ownerV2":{"data":{"__typename":"User","name":"Spotify"}}}},"data":null}],"totalCount":1}}');var J=s(90797),z=s(65944),Z=s(9915),$=s(46029),Y=s(9154),K=s(72910),Q=s(96135),B=s(21219);const V=({spec:e,section:t,index:s})=>{const n=(0,i.W6)(J.tyH,{loadingValue:!1})?K.N:Q.q;return(0,a.useMemo)((()=>t.sectionItems.items.some((e=>(0,B.d)(e.content)))),[t.sectionItems])?(0,R.jsx)(y.Nh,{spec:e.shelvesFactory(),children:(0,R.jsx)(n,{total:t.sectionItems.totalCount,seeAllUri:t.uri,pageId:t.uri,title:t.data.title?.text??"",index:s,id:t.uri,children:t.sectionItems.items.map(B.x).filter((e=>!!e))})}):null};var X=s(86001);const G=({spec:e,section:t,index:s})=>(0,R.jsx)(y.Nh,{spec:e.shelvesFactory(),children:(0,R.jsx)(X.default,{title:t.data.title?.text??void 0,showAll:!1,index:s})});var ee=s(77177),te=s(22292);const se=({spec:e,greeting:t,section:s,index:a})=>{const n=(0,$._n)();switch(s.data?.__typename){case"HomeGenericSectionData":return(0,R.jsx)(V,{spec:e,section:(0,te.f)(s,s.data),index:a});case"HomeShortsSectionData":return(0,R.jsx)(ee.s,{spec:e,greeting:t,section:(0,te.f)(s,s.data)});case"HomeRecentlyPlayedSectionData":return(0,R.jsx)(G,{spec:e,section:(0,te.f)(s,s.data),index:a});case"HomeFeedBaselineSectionData":case"HomeNativeAdsSectionData":case"HomeOnboardingSectionData":case"HomeOnboardingSectionDataV2":return null;case"HomeYourDJSectionData":{if(!n)return null;const e=(0,te.f)(s,s.data),{data:t,sectionItems:a}=e,r=a.items[0];if("PlaylistResponseWrapper"===r.content.__typename&&"Playlist"===r.content.data.__typename){const{data:e}=r.content;return(0,R.jsx)($.KE,{uri:$.rv,shelfTitle:t.title?.text??"",title:e.name,description:e.description??""})}return null}case"HomeFeatureActivationSectionDataV2":return(0,R.jsx)(Z.ZP,{features:(0,Z.rJ)(s.sectionItems.items),localStorageKey:s.data.localStorageKey,showAll:!1,uri:s.uri});case"HomeFeatureActivationSectionData":case null:case void 0:return null;default:return(0,Y._)(s.data),null}},ae=({spec:e,greeting:t,container:s})=>{const{spec:n,logger:r}=(0,y.fU)(O.createDesktopHomeFeatureActivationShelfEventFactory,{}),o=((e,t)=>t?[e.sections.items[0],P,...e.sections.items.slice(1)]:e.sections.items)(s,(0,i.W6)(J.iiT,{loadingValue:!1}));return(0,a.useEffect)((()=>{(0,z.wW)()&&r.logImpression(n.impressionElementFactory().impression())}),[n,r]),(0,R.jsx)(R.Fragment,{children:o.map(((s,a)=>(0,R.jsx)(se,{spec:e,greeting:t,section:s,index:a},`${a}-${s.uri}`)))})};var ne=s(4336),re=s(58386),oe=s(62291),ie=s(92263);const ce=()=>(0,i.W6)(J.Jw1)===J.pFI.ONHOME?(0,R.jsx)(ie.w,{children:(0,R.jsx)(oe.M,{onSearch:!1})}):null;var le=s(73732);const de=6,ue=6,pe=(0,a.memo)((({shelfCount:e,cardCount:t})=>(0,R.jsx)("section",{"data-testid":"home-page",children:(0,R.jsx)("div",{className:le.Z.home,children:(0,R.jsxs)("div",{className:r()(le.Z.content,"contentSpacing"),children:[(0,R.jsx)(u.H,{withTitle:!1}),[...new Array(e).keys()].map(((e,s)=>(0,R.jsx)(ne.e,{withTitle:!0,cardCount:t},s)))]})})}))),me=({spec:e})=>{(0,m.z)("home");const{subfeedId:t=null}=(0,o.UO)(),{data:s,error:a,loading:n}=(0,j.b3)({timeZone:(0,v.UE)(),sp_t:(0,f.vQ)("sp_t")??"",facet:t},{cacheTime:v.us,staleTime:v.fS}),c=(0,i.W6)(J._dp);if(n)return(0,R.jsx)(pe,{shelfCount:de,cardCount:ue});if(null!==a)return(0,R.jsx)(p.h,{hasError:!0,errorMessage:l.ag.get("error.generic")});const d=s?.home;return"HomeResponsePayload"!==d?.__typename||0===d.sectionContainer.sections.totalCount||0===d.sectionContainer.sections.items.length?(0,R.jsx)(p.h,{hasError:!0,errorMessage:l.ag.get("error.generic")}):(0,R.jsx)("section",{"data-testid":"home-page",children:(0,R.jsx)("div",{className:le.Z.home,children:(0,R.jsxs)("div",{className:r()(le.Z.content,"contentSpacing"),children:[c&&(0,R.jsx)(q,{}),(0,R.jsx)(ae,{spec:e,greeting:d.greeting?.text??null,container:d.sectionContainer})]})})})},he=()=>{const{spec:e}=(0,y.fU)(c.F,{data:{identifier:"home",uri:"spotify:home"}}),t=(0,i.W6)(J.ygs),s=(0,g.S)(t),n=(0,re.k)({type:"locale",uri:"home"});return(0,R.jsx)(y.Nh,{spec:e,children:(0,R.jsxs)(h.q,{config:s,children:[(0,R.jsx)(d.$,{children:(0,x.nW)({i18n:l.ag,shouldLocalize:n})}),(0,R.jsx)(a.Suspense,{fallback:null,children:(0,R.jsx)(ce,{})}),(0,R.jsx)(me,{spec:e})]})})}},98395:(e,t,s)=>{s.d(t,{Pd:()=>o,Wm:()=>r,i9:()=>n});var a=s(50834);const n=["artists","albums","episodes","genres","playlists","podcasts","audiobooks","tracks","users","topResults","podcastAndEpisodes"],r={artists:()=>a.ag.get("search.title.artists"),albums:()=>a.ag.get("search.title.albums"),playlists:()=>a.ag.get("search.title.playlists"),podcasts:()=>a.ag.get("search.title.shows"),episodes:()=>a.ag.get("search.title.episodes"),audiobooks:()=>a.ag.get("search.title.audiobooks"),users:()=>a.ag.get("search.title.profiles"),genres:()=>a.ag.get("search.title.genres-and-moods"),tracks:()=>a.ag.get("search.title.tracks"),podcastAndEpisodes:()=>a.ag.get("search.title.podcast-and-shows"),topResults:()=>a.ag.get("search.row.top-results")},o=["artists","albums","playlists","podcasts","episodes","audiobooks","users","genres"]},62291:(e,t,s)=>{s.d(t,{M:()=>H});var a=s(59496),n=s(84875),r=s.n(n),o=s(24106),i=s(52529),c=s(85830),l=s(52880),d=s(89518),u=s(98581),p=s(29510),m=s(32618),h=s(36820),g=s(50834),f=s(3277),x=s(17956),y=s(85730),j=s(25057),v=s(203);const S="g3Xinb8x23n81ejvS9Uj",b="H6jh9Xd7DNOq3NsLDmCB",k="QO9loc33XC50mMRUCIvf",C="XD3TMuMHmKsfbqieC6q_",w="ZtY42R4YSo_W7VMeAg9m",D="t2K4_iLmAyDtH7mcT5Wy",_="mOLTJ2mxkzHJj6Y9_na_";var N=s(4637);const H=a.memo((function({isSearchChipsEnabled:e=!1,onSearch:t=!0,onClick:s}){const n=(0,i.TH)(),H=(0,i.s0)(),E=(0,a.useRef)(null),I=(0,a.useRef)(null),A=(0,o.I0)(),[{category:F,query:M},T]=(0,v.l)(),[R,L]=(0,a.useState)(M),U=!!F,W=(0,x.Mi)(),q=n.pathname.startsWith("/recent-searches"),O=U||q,{spec:P,logger:J}=(0,y.fU)(m.createDesktopSearchInputEventFactory,{}),z=(0,c.y1)(((t,s,a)=>{let n;if(a){const{interactionId:e}=J.logInteraction(a);n=e}e?T(t,F,!1,n):T(t,null,s,n),W.current&&(W.current.scrollTop=0)}),200),Z=(0,a.useCallback)(((e=!1)=>{E.current!==document.activeElement&&(I.current=document.activeElement,E.current&&E.current.focus()),e&&E.current?.select()}),[]);(0,f.eY)(f.O4.SHOW_SEARCH,(()=>Z(!0)));const $=n.pathname.startsWith("/search");(0,a.useEffect)((()=>{!O&&t&&$&&(e&&M||Z())}),[M,Z,n.key,t,$,O,e]),(0,a.useEffect)((()=>{L($?M:"")}),[$,M]);return(0,N.jsxs)("div",{className:r()(S,{[C]:!t}),children:[(0,N.jsx)("form",{onSubmit:e=>{e.preventDefault(),R&&J.logInteraction(P.keyStrokeSearch());const t=(0,h.EC)(R);if(t?.type===h.JM.AD){const e=(0,h.HB)(t.id);if(t.id===e)return;A((0,j.HI)(t.id))}else t?H(t.toURLPath(!0),{state:{preventMoveFocus:!0}}):R||H("/search",{state:{preventMoveFocus:!0}});R&&W.current?.querySelector("h1, h2, h3, h4")?.focus()},role:"search",children:(0,N.jsx)(d.D,{variant:"mesto",as:"input",style:{color:l.Snx},ref:E,className:r()(k),value:R,maxLength:800,autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,onChange:e=>{const t=e.currentTarget.value,s=P.keyStrokeChangeSearchQuery({searchQueryString:t});L(t),z(t,O,s)},onKeyDown:e=>{if("Escape"===e.key)if(R){const e=P.hitTextClear();L(""),z("",O,e)}else E.current&&E.current.blur(),I.current instanceof HTMLElement&&I.current.focus()},placeholder:t?g.ag.get("search.search-for-label"):g.ag.get("navbar.search"),onFocus:()=>{e||!O&&t||z(R,O,null)},"data-testid":"search-input",onClick:s})}),(0,N.jsxs)("div",{className:D,children:[(0,N.jsx)("span",{className:b,children:(0,N.jsx)(u.j,{className:_,"aria-hidden":!0,iconSize:16})}),R&&(0,N.jsx)("button",{className:w,onClick:()=>{E.current&&E.current.focus();const e=P.hitTextClear();L(""),z("",O,e)},"aria-label":g.ag.get("search.a11y.clear-input"),children:(0,N.jsx)(p.k,{className:_,iconSize:16})})]})]})}))},203:(e,t,s)=>{s.d(t,{l:()=>i});var a=s(59496),n=s(52529),r=s(98395);const o=e=>r.i9.find((t=>t===e));function i(){const e=(0,n.s0)(),t=(0,n.bS)("/search/:query"),s=(0,n.bS)("/search/:query/:category"),r=(0,a.useCallback)((function(t,s,a,n){const r=n?{interactionId:n,preventMoveFocus:!0}:{preventMoveFocus:!0},o=["/search"];t&&(o.push(encodeURIComponent(t)),s&&o.push(s));const i=o.join("/");e(i,a?{state:r}:{state:r,replace:!0})}),[e]);return[{query:function(e){try{return decodeURIComponent(e)}catch{return e}}(t?.params.query??s?.params?.query??""),category:o(s?.params.category)},r]}}}]);
//# sourceMappingURL=home-v2.js.map