"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[9092],{54663:(e,n,i)=>{i.d(n,{y:()=>H});i(55330),i(14534),i(99801);var a=i(50959),t=i(87190),l=i(82654),r=i(5898),s=i(5701),d=i(22038),c=i(11024),o=i(91733),m=i(90880),u=i(44870),k=i(42885),p=i(7637),v=i(28053),x=i(69767),y=i(67808),g=i(22362),N=i(76685),h=i(92389),S=i(18561),b=i(21355),j=i(29611),F=i(90763),f=i(84726),T=i(43206),I=i(28307),C=i(90343),_=i(65939),R=i(47001);var P=i(49857);var A=i(4704),U=i(90950),D=i(51537),L=i(34722),E=i(73806),M=i(52734),w=i(8516);const O="Z9Dr8PkXFtlO8KnnDcxp",V="Bm0LUMlhVIcF5qusgdUP",B="GIyB7JDkRwjtVL6PSBbg",G="whTIka0YYAkqhqrs26Wa";var K=i(11527);const Q=a.memo((function({uri:e,name:n,imgUrl:i,artists:t,isExplicit:l,index:r,albumUri:d,contextUri:c,isPlayable:o,usePlayContextItem:O,isMOGEFRestricted:V,totalMilliseconds:Q,playcount:Z,parentUri:$}){const{isActive:Y,isPlaying:J,triggerPlay:W,togglePlay:z}=O({uri:e,index:r}),q=(0,y._)(e),H=(0,U.k)(e,o),X=t.map((e=>e.name)).join(s.ag.getSeparator()),{badges:ee,hasBadges:ne}=(0,g.r)({isMOGEFRestricted:V,downloadAvailability:q,isExplicit:l}),ie=t.map((e=>e.name)).join(s.ag.getSeparator()),ae=(0,A.E)(),te=(({parentUri:e,destinationUrl:n})=>{const i=(0,f.g)(),t=(0,T.s4)(),l=(0,j.W6)(C.t2x),r=(0,h.v9)(R.n5),s=(0,h.v9)(_.rZ);return(0,a.useCallback)((async()=>{if(!(0,m.YF)(e))return;const a={category:"album_ilr_clicks_on_link",action:"click",variant:l,label:"dwp",os:(0,I.y)(),destination_url:n,context:`${e}|ilr`,country:r?s:"",sp_t:(0,F.vQ)("sp_t")};i?t.send((0,b.k)(a)):t.send((0,S.x)(a))}),[e,s,n,t,i,r,l])})({parentUri:$,destinationUrl:(0,m.EC)(e)?.toURL()}),le=(({parentUri:e,streamedUri:n,usePlayContextItem:i})=>{const a=(0,f.g)(),t=(0,T.s4)(),l=(0,j.W6)(C.t2x),r=(0,h.v9)(R.n5),s=(0,h.v9)(_.rZ),{isPlaying:d}=i({uri:n}),c=d?"play":"pause";return(0,P.y1)((()=>{if(!(0,m.YF)(e))return;const i={category:"album_ilr_streamed",action:a?"clicked":c,variant:l,label:"dwp",os:(0,I.y)(),context:`${e}|${n}`,country:r?s:"",sp_t:(0,F.vQ)("sp_t")};a?t.send((0,b.k)(i)):t.send((0,S.x)(i))}),1500)})({parentUri:$,streamedUri:e,usePlayContextItem:O});return(0,K.jsx)(x.JL,{value:"row",index:r,children:(0,K.jsx)(u._,{menu:(0,K.jsx)(D.$,{uri:e,albumUri:d,artists:t,contextUri:c}),children:(0,K.jsxs)(w.c,{uri:e,contextUri:c,isPlayable:H,onTriggerPlay:(e,n)=>{W({loggingParams:n}),le()},isActive:Y,index:r,ariaRowIndex:r,dragMetadata:{name:n,createdBy:X},children:[(0,K.jsxs)(E.vZ,{ariaColIndex:0,children:[(0,K.jsx)(E.VG,{uri:e,src:i,onClick:(e,n)=>{z({loggingParams:n}),le()},isLocked:!1,isPlaying:J,isActive:Y,playAriaLabel:s.ag.get("tracklist.a11y.play",n,X)}),(0,K.jsxs)(E.vm,{children:[(0,K.jsx)(L.G,{uri:e,enabled:ae,className:B,onClick:te,children:(0,K.jsx)(E.Wh,{titleText:n,children:n})}),ne&&(0,K.jsxs)(E.g3,{children:[ee.download&&(0,K.jsx)(k.G,{}),ee.explicit&&(0,K.jsx)(p.N,{}),ee.nineteen&&(0,K.jsx)(v.X,{className:G,size:16})]}),(0,K.jsx)(E.K9,{children:(0,K.jsx)(E.T6,{artists:t})})]})]}),(0,K.jsx)(E.UA,{ariaColIndex:1,children:(0,K.jsx)(M.B,{playcount:Z})}),(0,K.jsxs)(E.mU,{ariaColIndex:2,children:[(0,K.jsx)(N.f,{uri:e}),(0,K.jsx)(E.A$,{duration:Q}),(0,K.jsx)(E.Zv,{menu:(0,K.jsx)(D.$,{uri:e,albumUri:d,contextUri:c,artists:t}),label:s.ag.get("more.label.track",n,ie)})]})]})})})}),((e,n)=>e.uri===n.uri&&e.index===n.index));var Z=i(1620);const $={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"internalLinkRecommenderTrack"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"strategy"}},type:{kind:"NamedType",name:{kind:"Name",value:"SEORankingStrategy"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"seoRecommended"},arguments:[{kind:"Argument",name:{kind:"Name",value:"seoRecommendedInput"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"strategy"},value:{kind:"Variable",name:{kind:"Name",value:"strategy"}}},{kind:"ObjectField",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GenericError"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"message"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NotFound"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"message"}},{kind:"Field",name:{kind:"Name",value:"uri"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ilrTrackData"}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ilrTrackData"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}}]}},{kind:"Field",name:{kind:"Name",value:"playcount"}},{kind:"Field",name:{kind:"Name",value:"albumOfTrack"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}}]}}]}}]}}]};var Y=i(65348),J=i(10750),W=i(41812);const z=e=>{return n=e,"NotFound"!==n?.__typename&&"GenericError"!==n?.__typename&&"Track"===e.__typename;var n},q=a.memo((function({inViewRef:e,subtitle:n,uri:i}){const{data:r}=(u={uri:i,strategy:c.JI.ContentOnly},(0,Z.a)($,u,k));var u,k;const p=r?.seoRecommended.items,v=(0,a.useMemo)((()=>p?.slice(0,Math.min(p.length,5))),[p]),x=(0,a.useCallback)((e=>({uri:"uri"in e.data?e.data.uri:""})),[]),y=(0,a.useMemo)((()=>[W.QD.TITLE_AND_ARTIST,W.QD.ALBUM,W.QD.DURATION]),[]),g=(e=>e?e.filter((e=>z(e.data))).map((e=>e.data.uri)):[])(p);(({uri:e,recommendationUris:n})=>{const i=(0,f.g)(),t=(0,h.v9)(R.n5),l=(0,h.v9)(_.rZ),r=(0,T.s4)(),s=(0,j.W6)(C.t2x),d=`${e}|${n}`;(0,a.useEffect)((()=>{const a={category:"album_ilr_exposures",action:"album_page_visit",variant:s,label:"dwp",os:(0,I.y)(),context:d,country:t?l:"",sp_t:(0,F.vQ)("sp_t")};(0,m.YF)(e)&&0!==n.length&&(i?r.send((0,b.k)(a)):r.send((0,S.x)(a)))}),[d,l,r,i,n.length,e,t,s])})({uri:i,recommendationUris:g});const N=(p||[])?.map((e=>z(e.data)?{...e.data,provider:null,type:o.p.TRACK,uid:null}:{type:o.p.TRACK,uri:"",uid:null,provider:null})),P=(0,Y.Y)(i),{usePlayContextItem:A}=(0,d.n)({uri:P,pages:[{items:N}]},{featureIdentifier:"track"}),U=(0,a.useCallback)(((e,n)=>{if(!z(e.data))return(0,K.jsx)(a.Fragment,{});const t=e.data;return(0,K.jsx)(Q,{index:n,contextUri:i,uri:t.uri,name:t.name,totalMilliseconds:t.duration.totalMilliseconds,imgUrl:t.albumOfTrack?.coverArt?.sources[0]?.url,isPlayable:t.playability.playable,artists:t.artists.items.map((e=>({uri:e.uri,id:e.id,name:e.profile.name}))),albumUri:t?.albumOfTrack?.uri||"",isExplicit:t.contentRating?.label===c.KS.Explicit,isMOGEFRestricted:t.contentRating?.label===c.KS.NineteenPlus,usePlayContextItem:A,playcount:parseInt(t.playcount||"0",10),parentUri:i},`${n}-${t.uri}`)}),[i,A]);return p?.length?(0,K.jsxs)("div",{className:O,ref:e,children:[(0,K.jsxs)("div",{className:V,children:[(0,K.jsx)(t.D,{variant:"canon",semanticColor:"textBase",children:s.ag.get("playlist.extender.recommended.title")}),(0,K.jsx)(t.D,{variant:"mesto",paddingBottom:l.o7,children:n})]}),(0,K.jsx)(W.Pv,{ariaLabel:s.ag.get("playlist.extender.recommended.title"),nrTracks:Math.min(p.length,5),rowPlaceholder:W.hU,tracks:v,renderRow:U,resolveItem:x,columns:y},"internal-link-recommender-track-list")]}):null})),H=e=>(0,K.jsx)(J.L,{onError:()=>{(0,r.sendMetric)({metric_type:r.MetricTypes.COUNTER,what:"dwp-ilr-component-error",value:1,tags:{entityType:e.entityType}})},children:(0,K.jsx)(q,{...e})})},74753:(e,n,i)=>{i.d(n,{I:()=>m});var a=i(92389),t=i(76917),l=i(29611),r=i(19916),s=i(57409),d=i(52483),c=i(90343),o=i(20982);const m=(e,n)=>{const i=(0,t.TH)(),m=(0,l.W6)(c._ci),u=(0,r.vI)(s.k.LFC,i),k="track"===n?o.aj:o.M4,p=(0,a.v9)(k);return(0,d.y)(p||{},e)||m===c.nm0.VARIANT||u}},76371:(e,n,i)=>{i.d(n,{k:()=>r});i(55330);var a=i(87190);const t="rTMkDBDp47Eo12ZEQv4U";var l=i(11527);const r=({copyrights:e,courtesyLine:n})=>{const i=(e||[]).map(((e,n)=>{const i=e.text.replace(/^(\(C\)\s+)/,"").replace(/^(\(P\)\s+)/,"").replace(/^(©\s+)/,"").replace(/^(℗\s+)/,"");let t;return t="C"===e.type?"©":"P"===e.type?"℗":`(${e.type})`,(0,l.jsx)(a.D,{as:"p",variant:"finale",dir:"auto",children:`${t} ${i}`},n)}));return n&&i.unshift((0,l.jsx)(a.D,{as:"p",variant:"finale",dir:"auto",children:n},i.length)),(0,l.jsx)("div",{className:t,children:i})}},59543:(e,n,i)=>{i.d(n,{J:()=>I});var a=i(50959),t=i(71029),l=i(87190),r=i(5701);i(55330);const s="expandable-description-for-seo";var d=i(84875),c=i.n(d);const o="kJFJjpbeZmhT7WG2KjAM",m="gPrYeH86UvcjOx_NQYwp",u="Zf6ONkng2h6eGJg9d4l_",k="G2RRgu_U4ZPugC9x8Vuh",p="BmLmBhY6zS0mTzoMTvQA",v="dvKxmtfViMbQHGD2OUYz",x="LzDWAa70LpBOSMc_ATzA",y="Z5EIr8RoSgmXMt0y9VsS";var g=i(11527);const N=({open:e,content:n})=>{const i=n.slice(0,3),a=n.slice(3);return(0,g.jsxs)(l.D,{as:"ul",className:k,children:[i.map((e=>(0,g.jsxs)(l.D,{as:"li",className:p,variant:"ballad",children:[e,"‎"]},e))),a.map((n=>(0,g.jsxs)(l.D,{as:"li",variant:"ballad",className:c()(p,v,{[x]:e}),"aria-hidden":!e,children:[n,"‎"]},n)))]})},h=({open:e,handleClick:n})=>(0,g.jsx)("button",{className:u,onClick:n,"aria-controls":s,"aria-owns":s,children:(0,g.jsx)(l.D,{variant:"balladBold",className:y,children:e?r.ag.get("show_less"):`…${r.ag.get("show_more")}`})}),S=a.memo((function({content:e}){const[n,i]=(0,a.useState)(!1),t=JSON.parse(e);return t.length<=3?(0,g.jsx)("div",{className:o,children:(0,g.jsx)("ul",{className:m,children:t.map((e=>(0,g.jsx)("li",{children:(0,g.jsx)(l.D,{as:"p",semanticColor:"textSubdued",variant:"ballad",children:e})},e)))})}):(0,g.jsxs)("div",{className:o,"aria-expanded":n,id:s,children:[(0,g.jsx)(N,{open:n,content:t}),(0,g.jsx)(h,{open:n,handleClick:()=>{i(!n)}})]})}));var b=i(89057),j=i(30101);const F="tVC0kqa47RaVQswbGMlb",f="MuJCRvpejZ78QxtxndMr",T="zFSqh4BTsowiCKPrd1EN",I=({title:e,uri:n})=>{const[i,s]=(0,a.useState)(""),d=(e=>{const n=(0,j.Ob)();return(0,a.useCallback)((async()=>b.rd.getGeneratedContent(n,e).then((e=>e.body.content))),[n,e])})(n);return(0,a.useEffect)((()=>{!async function(){try{const e=await d();s(e)}catch(e){}}()}),[d]),i&&0!==i.length?(0,g.jsxs)("div",{className:F,children:[(0,g.jsxs)("div",{className:f,children:[(0,g.jsx)(t.W,{size:"small",semanticColor:"textSubdued",className:T}),(0,g.jsx)(l.D,{variant:"mesto",as:"p",children:r.ag.get("lfc.disclaimer")})]}),(0,g.jsx)(l.D,{variant:"canon",as:"h1",semanticColor:"textBase",children:e}),(0,g.jsx)(S,{content:i})]}):null}},42955:(e,n,i)=>{i.d(n,{W:()=>d});var a=i(50959),t=i(92389),l=i(4704),r=i(94834),s=i(20982);const d=e=>{const n=(0,t.I0)(),i=(0,l.E)(),d=(0,t.v9)(s.KQ);(0,a.useEffect)((()=>{i&&e!==d&&n((0,r.jZ)(e))}),[e,d,n,i])}},20982:(e,n,i)=>{i.d(n,{KQ:()=>r,M4:()=>d,aj:()=>s,eZ:()=>c});var a=i(23055),t=i(91733);const l=e=>e.seoExperiment,r=(0,a.P1)(l,(e=>e?.uri)),s=(0,a.P1)(l,(e=>e?.[t.p.TRACK])),d=(0,a.P1)(l,(e=>e?.[t.p.ALBUM])),c=(0,a.P1)(l,(e=>({...e?.[t.p.PLAYLISTV2],...e?.[t.p.PLAYLIST]})))},19916:(e,n,i)=>{i.d(n,{vI:()=>a});i(55330);const a=(e,n)=>{const i=n?new URLSearchParams(n.search):void 0;return"1"===i?.get(e)}},57409:(e,n,i)=>{i.d(n,{k:()=>a});let a=function(e){return e.I18nSEO="i18nSEO",e.RTPTrackCredits="rtpv2p2",e.I18nAdditionalPages="i18nap",e.RichPlaylistPages="rpp",e.LFC="lfc",e.ILRAlbum="ilra",e.ILRAlbumAbove="ilraa",e.ILRAlbumBelow="ilrab",e}({})},52483:(e,n,i)=>{i.d(n,{y:()=>r,J:()=>s});i(14534),i(53261);let a=function(e){return e.LFC="lfc",e.TRACK_INTERNAL_LINK_RECOMMENDER="track-ilr",e.RPP="rich-playlist-pages-2",e}({}),t=function(e){return e.CONTROL="0",e.VARIANT="1",e}({});const l=({treatment:e,entityId:n,experimentId:i,treatmentVariation:a})=>{if(e&&e[n]){const t=e[n].find((e=>e.experimentId===i));return t?.treatment===a}return!1},r=(e,n)=>l({treatment:e,entityId:n,experimentId:a.LFC,treatmentVariation:t.VARIANT}),s=(e,n)=>l({treatment:e,entityId:n,experimentId:a.RPP,treatmentVariation:t.VARIANT})}}]);
//# sourceMappingURL=9092.js.map