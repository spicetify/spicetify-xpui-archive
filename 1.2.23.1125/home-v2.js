"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[7704],{93309:(e,t,s)=>{s.r(t),s.d(t,{SKELETON_CARDS_COUNT:()=>de,SKELETON_SHELVES_COUNT:()=>le,SKELETON_SHORTCUTS_COUNT:()=>ce,default:()=>he});var a=s(59496),n=s(84875),r=s.n(n),o=s(31752),i=s(36032),c=s(16253),l=s(86961),d=s(84265),u=s(19435),p=s(14043),h=s(67157),m=s(66813),g=s(95806),f=s(8441),y=s(15322),x=s(90266),v=s(70975),S=s(35711),j=s(62522),b=s(34122),_=s(10328),C=s(66258),k=s(59819),w=s(99490),D=s(28307),N=s(44419),E=s(10632);const H="AaXwi9LLckdsxNwrosnQ",I="yX31EzBkHzNooefkSvT3",A="wZUOa8gqS7gAuIJqv80Q",T="KYe4m_4IXlE1quZCFGuz",F="r3BoQJS7ivHbIM2SBSiq",M="rRldspwHsrgo8DsecR2Q";var U=s(4637);const q=(0,a.forwardRef)((({linkUri:e,loggedIn:t,onClick:s},a)=>{const n=(0,N.jh)(),r=(0,E.T)();return(0,U.jsx)("div",{className:H,ref:a,children:(0,U.jsxs)("div",{className:(0,_.Mg)("invertedLight",I),children:[(0,U.jsx)("video",{autoPlay:!r,loop:!0,muted:!0,playsInline:!0,className:`${A} ${T}`,src:(0,D.g)("videos/SW23_Entry_Points_Announce_Desktop_Box_Left.webm"),"aria-hidden":"true"}),(0,U.jsx)("video",{autoPlay:!r,loop:!0,muted:!0,playsInline:!0,className:`${A} ${F}`,src:(0,D.g)("videos/SW23_Entry_Points_Announce_Desktop_Box_Right.webm"),"aria-hidden":"true"}),(0,U.jsx)(C.D,{as:"h2",variant:"brio",semanticColor:"textBase",className:M,children:t?l.ag.get("shared.wrapped-banner.title"):l.ag.get("shared.wrapped-banner.title-loggedout")}),(0,U.jsx)(C.D,{as:"p",variant:n===N.Uo.SMALL?"mesto":"ballad",semanticColor:"textBase",children:t?l.ag.get("shared.wrapped-banner.body"):l.ag.get("shared.wrapped-banner.body-loggedout")}),(0,U.jsx)(k.D,{colorSet:"invertedDark",iconTrailing:w.T,href:e,target:"_blank",size:n===N.Uo.SMALL?"small":"medium",onClick:s,children:l.ag.get("shared.wrapped-banner.button")})]})})})),O=()=>{const e=(0,b.g)(),{spec:t,logger:s}=(0,x.fU)(j.e,{data:{identifier:"wrapped",uri:"spotify:2023wrapped"}}),n=(0,a.useMemo)((()=>t.campaignFactory({identifier:"wrapped",uri:"spotify:2023wrapped"}).bannerFactory({identifier:"home_wrapped_banner",uri:"desktop_banner"})),[t]),r=(0,x.Wi)(n),o="https://spotify.com/wrapped",i=(0,a.useCallback)((()=>{s.logInteraction(n.hitUiNavigate({destination:o}))}),[s,n]);return(0,U.jsx)(q,{linkUri:o,loggedIn:!e,onClick:i,ref:r})};var R=s(46720);const L=JSON.parse('{"uri":"spotify:section:0JQ5DAVAaDNAlq7hOF3StH","data":{"__typename":"HomeYourDJSectionData","title":{"text":"Meet DJ"}},"sectionItems":{"items":[{"uri":"spotify:playlist:37i9dQZF1EYkqdzj48dyYq","content":{"__typename":"PlaylistResponseWrapper","data":{"__typename":"Playlist","uri":"spotify:playlist:37i9dQZF1EYkqdzj48dyYq","name":"DJ","images":{"items":[{"sources":[{"url":"https://lexicon-assets.spotifycdn.com/DJ-Beta-CoverArt-300.jpg","width":null,"height":null}],"extractedColors":{"colorDark":{"hex":"#0858B8","isFallback":false}}}]},"description":"All kinds of music, picked by your own AI DJ.","ownerV2":{"data":{"__typename":"User","name":"Spotify"}}}},"data":null}],"totalCount":1}}');var W=s(49520),J=s(6894),P=s(33898),z=s(27595),B=s(67960),Q=s(52107),Y=s(96462),Z=s(3709);const K=({spec:e,section:t,index:s})=>{const n=(0,i.W6)(W.tyH,{loadingValue:!1})?Q.N:Y.q;return(0,a.useMemo)((()=>t.sectionItems.items.some((e=>(0,Z.d)(e.content)))),[t.sectionItems])?(0,U.jsx)(x.Nh,{spec:e.shelvesFactory(),children:(0,U.jsx)(n,{total:t.sectionItems.totalCount,seeAllUri:t.uri,pageId:t.uri,title:t.data.title?.text??"",index:s,id:t.uri,children:t.sectionItems.items.map(Z.x).filter((e=>!!e))})}):null};var V=s(40757);const X=({spec:e,section:t,index:s})=>(0,U.jsx)(x.Nh,{spec:e.shelvesFactory(),children:(0,U.jsx)(V.default,{title:t.data.title?.text??void 0,showAll:!1,index:s})});var $=s(21298),G=s(23939);const ee=({spec:e,greeting:t,section:s,index:a})=>{const n=(0,z._n)();switch(s.data?.__typename){case"HomeGenericSectionData":return(0,U.jsx)(K,{spec:e,section:(0,G.f)(s,s.data),index:a});case"HomeShortsSectionData":return(0,U.jsx)($.s,{spec:e,greeting:t,section:(0,G.f)(s,s.data)});case"HomeRecentlyPlayedSectionData":return(0,U.jsx)(X,{spec:e,section:(0,G.f)(s,s.data),index:a});case"HomeFeedBaselineSectionData":case"HomeNativeAdsSectionData":case"HomeOnboardingSectionData":case"HomeOnboardingSectionDataV2":return null;case"HomeYourDJSectionData":{if(!n)return null;const e=(0,G.f)(s,s.data),{data:t,sectionItems:a}=e,r=a.items[0];if("PlaylistResponseWrapper"===r.content.__typename&&"Playlist"===r.content.data.__typename){const{data:e}=r.content;return(0,U.jsx)(z.KE,{uri:z.rv,shelfTitle:t.title?.text??"",title:e.name,description:e.description??""})}return null}case"HomeFeatureActivationSectionDataV2":return(0,U.jsx)(P.ZP,{features:(0,P.rJ)(s.sectionItems.items),localStorageKey:s.data.localStorageKey,showAll:!1,uri:s.uri});case"HomeFeatureActivationSectionData":case null:case void 0:return null;default:return(0,B._)(s.data),null}},te=({spec:e,greeting:t,container:s})=>{const{spec:n,logger:r}=(0,x.fU)(R.createDesktopHomeFeatureActivationShelfEventFactory,{}),o=((e,t)=>t?[e.sections.items[0],L,...e.sections.items.slice(1)]:e.sections.items)(s,(0,i.W6)(W.iiT,{loadingValue:!1}));return(0,a.useEffect)((()=>{(0,J.wW)()&&r.logImpression(n.impressionElementFactory().impression())}),[n,r]),(0,U.jsx)(U.Fragment,{children:o.map(((s,a)=>(0,U.jsx)(ee,{spec:e,greeting:t,section:s,index:a},`${a}-${s.uri}`)))})};var se=s(23260),ae=s(10615),ne=s(71238),re=s(58674);const oe=()=>(0,i.W6)(W.Jw1)===W.pFI.ONHOME?(0,U.jsx)(re.w,{children:(0,U.jsx)(ne.M,{onSearch:!1})}):null;var ie=s(32359);const ce=6,le=6,de=6,ue=(0,a.memo)((({shortcutCount:e,shelfCount:t,cardCount:s})=>(0,U.jsx)("section",{"data-testid":"home-page",children:(0,U.jsx)("div",{className:ie.Z.home,children:(0,U.jsxs)("div",{className:r()(ie.Z.content,"contentSpacing"),children:[(0,U.jsx)(u.H,{withTitle:!0,shortcutCount:e}),[...new Array(t).keys()].map(((e,t)=>(0,U.jsx)(se.e,{withTitle:!0,cardCount:s},t)))]})})}))),pe=({spec:e})=>{(0,h.z)("home");const{subfeedId:t=null}=(0,o.UO)(),{data:s,error:a,loading:n}=(0,v.b3)({timeZone:(0,S.UE)(),sp_t:(0,f.vQ)("sp_t")??"",facet:t},{cacheTime:S.us,staleTime:S.fS}),c=(0,i.W6)(W._dp);if(n)return(0,U.jsx)(ue,{shortcutCount:ce,shelfCount:le,cardCount:de});if(null!==a)return(0,U.jsx)(p.h,{hasError:!0,errorMessage:l.ag.get("error.generic")});const d=s?.home;return"HomeResponsePayload"!==d?.__typename||0===d.sectionContainer.sections.totalCount||0===d.sectionContainer.sections.items.length?(0,U.jsx)(p.h,{hasError:!0,errorMessage:l.ag.get("error.generic")}):(0,U.jsx)("section",{"data-testid":"home-page",children:(0,U.jsx)("div",{className:ie.Z.home,children:(0,U.jsxs)("div",{className:r()(ie.Z.content,"contentSpacing"),children:[c&&(0,U.jsx)(O,{}),(0,U.jsx)(te,{spec:e,greeting:d.greeting?.text??null,container:d.sectionContainer})]})})})},he=()=>{const{spec:e}=(0,x.fU)(c.F,{data:{identifier:"home",uri:"spotify:home"}}),t=(0,i.W6)(W.ygs),s=(0,g.S)(t),n=(0,ae.k)({type:"locale",uri:"home"});return(0,U.jsx)(x.Nh,{spec:e,children:(0,U.jsxs)(m.q,{config:s,children:[(0,U.jsx)(d.$,{children:(0,y.nW)({i18n:l.ag,shouldLocalize:n})}),(0,U.jsx)(a.Suspense,{fallback:null,children:(0,U.jsx)(oe,{})}),(0,U.jsx)(pe,{spec:e})]})})}},41540:(e,t,s)=>{s.d(t,{Pd:()=>o,Wm:()=>r,i9:()=>n});var a=s(86961);const n=["artists","albums","episodes","genres","playlists","podcasts","audiobooks","tracks","users","topResults","podcastAndEpisodes"],r={artists:()=>a.ag.get("search.title.artists"),albums:()=>a.ag.get("search.title.albums"),playlists:()=>a.ag.get("search.title.playlists"),podcasts:()=>a.ag.get("search.title.shows"),episodes:()=>a.ag.get("search.title.episodes"),audiobooks:()=>a.ag.get("search.title.audiobooks"),users:()=>a.ag.get("search.title.profiles"),genres:()=>a.ag.get("search.title.genres-and-moods"),tracks:()=>a.ag.get("search.title.tracks"),podcastAndEpisodes:()=>a.ag.get("search.title.podcast-and-shows"),topResults:()=>a.ag.get("search.row.top-results")},o=["artists","albums","playlists","podcasts","episodes","audiobooks","users","genres"]},71238:(e,t,s)=>{s.d(t,{M:()=>E});var a=s(59496),n=s(84875),r=s.n(n),o=s(24106),i=s(31752),c=s(85830),l=s(5709),d=s(66258),u=s(57498),p=s(84282),h=s(52362),m=s(17499),g=s(86961),f=s(51711),y=s(29137),x=s(90266),v=s(88860),S=s(36238);const j="g3Xinb8x23n81ejvS9Uj",b="H6jh9Xd7DNOq3NsLDmCB",_="QO9loc33XC50mMRUCIvf",C="XD3TMuMHmKsfbqieC6q_",k="ZtY42R4YSo_W7VMeAg9m",w="t2K4_iLmAyDtH7mcT5Wy",D="mOLTJ2mxkzHJj6Y9_na_";var N=s(4637);const E=a.memo((function({isSearchChipsEnabled:e=!1,onSearch:t=!0,onClick:s}){const n=(0,i.TH)(),E=(0,i.s0)(),H=(0,a.useRef)(null),I=(0,a.useRef)(null),A=(0,o.I0)(),[{category:T,query:F},M]=(0,S.l)(),[U,q]=(0,a.useState)(F),O=!!T,R=(0,y.Mi)(),L=n.pathname.startsWith("/recent-searches"),W=O||L,{spec:J,logger:P}=(0,x.fU)(h.createDesktopSearchInputEventFactory,{}),z=(0,c.y1)(((t,s,a)=>{let n;if(a){const{interactionId:e}=P.logInteraction(a);n=e}e?M(t,T,!1,n):M(t,null,s,n),R.current&&(R.current.scrollTop=0)}),200),B=(0,a.useCallback)(((e=!1)=>{H.current!==document.activeElement&&(I.current=document.activeElement,H.current&&H.current.focus()),e&&H.current?.select()}),[]);(0,f.eY)(f.O4.SHOW_SEARCH,(()=>B(!0)));const Q=n.pathname.startsWith("/search");(0,a.useEffect)((()=>{!W&&t&&Q&&(e&&F||B())}),[F,B,n.key,t,Q,W,e]),(0,a.useEffect)((()=>{q(Q?F:"")}),[Q,F]);return(0,N.jsxs)("div",{className:r()(j,{[C]:!t}),children:[(0,N.jsx)("form",{onSubmit:e=>{e.preventDefault(),U&&P.logInteraction(J.keyStrokeSearch());const t=(0,m.EC)(U);if(t?.type===m.JM.AD){const e=(0,m.HB)(t.id);if(t.id===e)return;A((0,v.HI)(t.id))}else t?E(t.toURLPath(!0),{state:{preventMoveFocus:!0}}):U||E("/search",{state:{preventMoveFocus:!0}});U&&R.current?.querySelector("h1, h2, h3, h4")?.focus()},role:"search",children:(0,N.jsx)(d.D,{variant:"mesto",as:"input",style:{color:l.Snx},ref:H,className:r()(_),value:U,maxLength:800,autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,onChange:e=>{const t=e.currentTarget.value,s=J.keyStrokeChangeSearchQuery({searchQueryString:t});q(t),z(t,W,s)},onKeyDown:e=>{if("Escape"===e.key)if(U){const e=J.hitTextClear();q(""),z("",W,e)}else H.current&&H.current.blur(),I.current instanceof HTMLElement&&I.current.focus()},placeholder:t?g.ag.get("search.search-for-label"):g.ag.get("navbar.search"),onFocus:()=>{e||!W&&t||z(U,W,null)},"data-testid":"search-input",onClick:s})}),(0,N.jsxs)("div",{className:w,children:[(0,N.jsx)("span",{className:b,children:(0,N.jsx)(u.j,{className:D,"aria-hidden":!0,iconSize:16})}),U&&(0,N.jsx)("button",{className:k,onClick:()=>{H.current&&H.current.focus();const e=J.hitTextClear();q(""),z("",W,e)},"aria-label":g.ag.get("search.a11y.clear-input"),children:(0,N.jsx)(p.k,{className:D,iconSize:16})})]})]})}))},36238:(e,t,s)=>{s.d(t,{l:()=>i});var a=s(59496),n=s(31752),r=s(41540);const o=e=>r.i9.find((t=>t===e));function i(){const e=(0,n.s0)(),t=(0,n.bS)("/search/:query"),s=(0,n.bS)("/search/:query/:category"),r=(0,a.useCallback)((function(t,s,a,n){const r=n?{interactionId:n,preventMoveFocus:!0}:{preventMoveFocus:!0},o=["/search"];t&&(o.push(encodeURIComponent(t)),s&&o.push(s));const i=o.join("/");e(i,a?{state:r}:{state:r,replace:!0})}),[e]);return[{query:function(e){try{return decodeURIComponent(e)}catch{return e}}(t?.params.query??s?.params?.query??""),category:o(s?.params.category)},r]}}}]);
//# sourceMappingURL=home-v2.js.map