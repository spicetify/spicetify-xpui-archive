"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[7393],{97393:(e,t,s)=>{s.r(t),s.d(t,{default:()=>_});var a=s(59496),r=s(36820),n=s(7223),u=s(2154),i=s(7431),l=s(92780),c=s(51918),d=s(4810),o=s(37252),f=s(39921),h=s(60191),b=s(4637);const v=d.Tg.EPISODE_PAGE,g=({leavebehinds:e,uri:t,seeAllPath:s})=>(0,b.jsx)(l.w,{entityType:"podcast",leavebehinds:e,surface:v,uri:t,seeAllButton:e.length>h.d9?(0,b.jsx)(c.j,{leavebehinds:e,surface:v,uri:t,pathname:s,state:{uri:t}}):null});function _(e){const t=(0,n.x)(),s=(0,r.EC)(e.uri)?.id,l=(0,o.e)(s),{data:c,error:d,getLeavebehinds:_}=(0,f.Z)({surface:v,uri:e.uri}),p=(m=t?.item.type,(0,u.D)(m)===i.p.AD&&m===i.p.EPISODE);var m;(0,a.useEffect)((()=>{_()}),[_]),(0,a.useEffect)((()=>{p&&_()}),[p]);const y=(0,a.useMemo)((()=>c?(0,h.D7)(c,e.uri):[]),[c?.requestId]);return y.length<1||d?null:(0,b.jsx)(g,{uri:e.uri,leavebehinds:y,seeAllPath:l})}},51918:(e,t,s)=>{s.d(t,{j:()=>o});var a=s(57598),r=s(66863),n=s(50786),u=s(50834),i=s(6686),l=s(4810),c=s(60191),d=s(4637);const o=({leavebehinds:e,surface:t,uri:s,pathname:o,state:f})=>{const h=(0,i.s4)(),b=`${u.ag.get("view.see-all")} (${e.length<=c.fz?u.ag.formatNumber(e.length):u.ag.formatNumber(c.fz)})`;return(0,d.jsx)(a.rU,{to:o,state:f,children:(0,d.jsx)(r.o,{"data-testid":"leavebehinds-see-all",buttonSize:"sm",onClick:()=>{h.send((0,n.a)({leavebehind_request_id:e[0].requestId,event:"event_clicked",event_reason:"cta_see_all",surface:(0,l.OO)(t),uri:s}))},children:b})})}},39921:(e,t,s)=>{s.d(t,{Z:()=>d});var a=s(59496),r=s(22848),n=s(6686),u=s(31731),i=s(14918),l=s(4810),c=s(60191);const d=function(e){const[t,s]=(0,a.useState)(),[d,o]=(0,a.useState)(!1),f=(0,n.s4)();return{data:t,error:d,getLeavebehinds:(0,a.useCallback)((async()=>{try{const t=await i.fi.getLeavebehindsData(u.b.getInstance(),(0,l.OO)(e.surface),e.uri);s(t.body)}catch(t){const s=t;f.send((0,r.v)({error_type:"fetchAdsFailure",error_message:s.name,http_error_code:s.status,surface:(0,l.OO)(e.surface),request_url:(0,c.eh)(),request_type:"leavebehindAds",ad_content_origin:"podcast"})),o(!0)}}),[f,e.surface,e.uri])}}}}]);
//# sourceMappingURL=7393.js.map