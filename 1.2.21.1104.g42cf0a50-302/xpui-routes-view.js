"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[6450],{15241:(e,s,i)=>{i.d(s,{Z:()=>o});var r=i(16111),n=i(41832),t=i(29154),a=i(4637);const o=({name:e,uri:s,images:i,isHero:o,testId:c,description:d,index:l,requestId:u,color:m})=>(0,a.jsx)(r.C,{index:l,featureIdentifier:"artist_concerts",headerText:e,uri:s,isPlayable:!1,renderCardImage:()=>(0,a.jsx)(n.x,{isHero:o,images:i,color:m}),renderSubHeaderContent:()=>(0,a.jsx)(t.i,{isHero:o,children:(0,a.jsx)("span",{children:d||""})}),testId:c,requestId:u})},5641:(e,s,i)=>{i.d(s,{q:()=>w});var r=i(46721),n=i(36589),t=i(16111),a=i(41832),o=i(29154),c=i(60219),d=i(39192),l=i(4637);const u=({name:e="",uri:s="",images:i=[],isHero:r,onClick:n,testId:u,index:m})=>r?(0,l.jsx)(c.Z,{featureIdentifier:"unknown",index:m,onClick:n,headerText:e,uri:s,isPlayable:!1,renderCardImage:()=>(0,l.jsx)(a.x,{isHero:r,images:i}),renderSubHeaderContent:()=>(0,l.jsx)(o.i,{isHero:!0,children:(0,l.jsx)(d.k,{})}),testId:u}):(0,l.jsx)(t.C,{index:m,featureIdentifier:"unknown",onClick:n,headerText:e,uri:s,isPlayable:!1,renderCardImage:()=>(0,l.jsx)(a.x,{isHero:r,images:i}),renderSubHeaderContent:()=>(0,l.jsx)(o.i,{children:(0,l.jsx)("span",{})}),testId:u});var m=i(32704),g=i(70213),x=i(75729),h=i(8592),p=i(15241),j=i(56805),f=i(40638),I=i(76026),b=i(95343),v=i(360),y=i(88004),C=i(69127),k=i(29446);const w=({entity:e,index:s,testId:i,isHero:t=!1})=>{const a=((0,r.EC)(e.uri)||{}).type,o={testId:i,isHero:t,index:s,sharingInfo:e.sharingInfo};if(("string"==typeof e.uri||e.uri instanceof String)&&e.uri.startsWith("spotify:merch:")){const s=e.description?e.description.split("â€¢")[0]:"";return(0,l.jsx)(f.T,{...o,name:e.name,uri:e.uri,href:e.href,images:e.images,price:s,artists:e.artists||{items:[]}})}if(("string"==typeof e.uri||e.uri instanceof String)&&e.uri.startsWith("spotify:artist:")&&e.uri.endsWith(":concerts"))return(0,l.jsx)(p.Z,{...o,name:e.name,uri:e.uri,images:e.images,description:e.description});switch(a){case r.JM.ALBUM:case r.JM.COLLECTION_ALBUM:{const s=e;return(0,l.jsx)(x.r,{...o,name:s.name,uri:s.uri,images:s.images,artists:s.artists})}case r.JM.ARTIST:{const s=e;return(0,l.jsx)(h.I,{...o,name:s.name,uri:s.uri,images:s.images})}case r.JM.EPISODE:{const s=e;return(0,l.jsx)(j.B,{...o,name:s.name,uri:s.uri,images:s.images,showImages:s.show?.images||[],durationMilliseconds:s.duration_ms,releaseDate:s.release_date,resume_point:s.resume_point,description:s.description,isExplicit:s.explicit,is19PlusOnly:!!s.tags?.includes("MOGEF-19+")})}case r.JM.PLAYLIST:case r.JM.PLAYLIST_V2:{const s=e,i=s.owner?.display_name||e.owner?.displayName||"";return(0,l.jsx)(I.Z,{...o,name:s.name,uri:s.uri,images:s.images,description:s.description,authorName:i})}case r.JM.PROFILE:return(0,l.jsx)(b.P,{...o,name:e.name,uri:e.uri,images:e.images});case r.JM.SHOW:{const s=e;return(0,l.jsx)(y._,{...o,name:s.name,uri:s.uri,images:s.images,publisher:s.publisher,mediaType:{audio:g.E.AUDIO,video:g.E.VIDEO,mixed:g.E.MIXED}[s.media_type]??g.E.AUDIO})}case r.JM.APPLICATION:return(0,l.jsx)(n.s,{...o,name:e.name,uri:e.uri,images:e.images,description:e.description});case r.JM.RADIO:return(0,l.jsx)(v.I,{testId:i,index:s,name:e.name,uri:e.uri,images:e.images});case r.JM.TRACK:{const s=e;return(0,l.jsx)(C.G,{...o,name:s.name,uri:s.uri,images:s.album?.images||[],artists:s.artists,album:s.album,isExplicit:s.explicit,is19PlusOnly:s.tags?.includes("MOGEF-19+")})}case r.JM.COLLECTION:return e.uri.endsWith("your-episodes")?(0,l.jsx)(k.T,{index:s}):(0,l.jsx)(m.p,{index:s});default:return console.warn("Rendering a generic Card for unknown type:",a),(0,l.jsx)(u,{...o,name:e.name,uri:e.uri,images:e.images})}}},36589:(e,s,i)=>{i.d(s,{s:()=>l});var r=i(13803),n=i(16111),t=i(41832),a=i(29154),o=i(60219),c=i(39192),d=i(4637);const l=({name:e,uri:s,images:i,isHero:l,onClick:u,testId:m,description:g,index:x,requestId:h,color:p})=>l?(0,d.jsx)(o.Z,{featureIdentifier:"genre",index:x,onClick:u,headerText:e,uri:s,isPlayable:!1,renderCardImage:()=>(0,d.jsx)(t.x,{isHero:l,images:i,color:p}),renderSubHeaderContent:()=>(0,d.jsx)(a.i,{isHero:!0,children:(0,d.jsx)(c.k,{children:g||r.ag.get("card.tag.genre")})}),testId:m,requestId:h}):(0,d.jsx)(n.C,{index:x,featureIdentifier:"genre",onClick:u,headerText:e,uri:s,isPlayable:!1,renderCardImage:()=>(0,d.jsx)(t.x,{isHero:l,images:i,color:p}),renderSubHeaderContent:()=>(0,d.jsx)(a.i,{children:(0,d.jsx)("span",{children:g||""})}),testId:m,requestId:h})},40638:(e,s,i)=>{i.d(s,{T:()=>j});var r=i(59496),n=i(64559),t=i(26446),a=i(75186),o=i(57174),c=i(72221),d=i(13803),l=i(30549),u=i(59737);const m="iSdDcgYotxUpyRSGLR62",g="EqZ5uEZ02bJiKlZNijVQ",x="UroGtnEGQiwN1yKyNXjC",h="Tv3tod8ggHvNrrRzE1Kg";var p=i(4637);const j=({name:e,uri:s,href:i,images:j,index:f,price:I,testId:b,artists:v})=>{const y=(0,r.useMemo)((()=>v.items.map((e=>"uri"in e.data?e.data.uri:"")).join(d.ag.getSeparator())),[v.items]),{spec:C,logger:k}=(0,l.fU)(c.I,{data:{position:f,uri:s,reason:y}}),w=(0,l.Wi)(C),E=(0,u.X)(j,{desiredSize:300}),N=(0,r.useCallback)((()=>{k.logInteraction(C.cardLinkFactory({position:0}).hitNavigateToExternalUri({destination:i})),window.open(i,"_blank")}),[i,k,C]);return(0,p.jsx)(n.Z,{id:s,ref:w,"data-testid":b,title:(0,p.jsx)(t.l,{className:h,children:e}),media:(0,p.jsx)("div",{className:m,children:E?(0,p.jsx)(a.x,{size:"sm",src:E?.url,alt:e}):(0,p.jsx)("div",{className:g,children:(0,p.jsx)("div",{className:x,children:(0,p.jsx)(o.C,{size:"xxlarge","aria-hidden":!0,"data-testid":"card-image-fallback"})})})}),onClick:N,size:"sm",subtitle:I},s)}},95343:(e,s,i)=>{i.d(s,{P:()=>x});var r=i(59496),n=i(5615),t=i(13803),a=i(27815),o=i(16111),c=i(41832),d=i(29154),l=i(60219),u=i(39192),m=i(34377),g=i(4637);const x=r.memo((function(e){const{images:s,name:i,uri:x,onClick:h,isHero:p,testId:j,index:f,requestId:I,color:b}=e;let v;const y=(0,r.useCallback)((()=>(0,g.jsx)(c.x,{isCircular:!0,isHero:p,images:s,color:b,FallbackComponent:e=>(0,g.jsx)(n.a,{iconSize:64,...e})})),[b,s,p]),C=(0,r.useCallback)((()=>(0,g.jsx)(d.i,{isHero:p,children:p?(0,g.jsx)(u.k,{children:t.ag.get("card.tag.profile")}):t.ag.get("card.tag.profile")})),[p]);return v=p?(0,g.jsx)(l.Z,{index:f,onClick:h,headerText:i,featureIdentifier:"profile",uri:x,isPlayable:!1,renderCardImage:y,renderSubHeaderContent:C,testId:j,requestId:I}):(0,g.jsx)(o.C,{index:f,onClick:h,headerText:i,featureIdentifier:"profile",uri:x,isPlayable:!1,renderCardImage:y,renderSubHeaderContent:C,testId:j,requestId:I}),(0,g.jsx)(a._,{menu:(0,g.jsx)(m.I,{uri:x}),children:v})}))},11626:(e,s,i)=>{i.r(s),i.d(s,{DISALLOWED_VIEWS:()=>z,View:()=>Q,default:()=>V});var r=i(59496),n=i(84875),t=i.n(n),a=i(55411),o=i(64329),c=i(13803),d=i(15267),l=i(25494),u=i(73060),m=i(56161),g=i(60527),x=i(30549),h=i(23218),p=i(94190),j=i(4533),f=i(86857),I=i(92142),b=i(57064),v=i(5641),y=i(25561),C=i(99714),k=i(2988),w=i(97533),E=i(54940),N=i(93058);const P="EPMDgp7znILo0hvyirzv",M="noUm6pjQ6KWq7mVxYDor",A="PqnKjxzJ1Zvr9qKRlRbO",H="uuBQS9Ym_VPmAQrLhPQb";var L=i(4637);const S=e=>(0,w.W6)(E.sEQ)?(0,L.jsxs)(N.default,{to:e.uri,target:"_blank",className:P,children:[(0,L.jsx)("div",{className:M}),(0,L.jsx)(k.D,{className:A,as:"h2",variant:"alto",children:e.label}),(0,L.jsx)(k.D,{className:H,as:"p",variant:"mesto",children:e.tagline})]}):null,T=e=>(0,L.jsx)(r.Suspense,{fallback:null,children:(0,L.jsx)(S,{...e})}),D=e=>e.id?.startsWith("scc-corona"),q=({spaces:e,viewName:s,viewId:i,isAnonymous:n})=>{const t=(0,r.useCallback)(((e,s)=>{const r=((e,s)=>{let{uri:i}=e;return e.href.includes("https://api.spotify.com/v1/views/")&&(i=e.href.replace("https://api.spotify.com/v1/views/","spotify:genre:"),"hub-browse-grid"===s&&(i=i.replace(":view:",":genre:"))),i})(e,i);return(0,L.jsx)(v.q,{index:s,entity:{...e,uri:r}},e.href)}),[i]),a=(0,r.useCallback)(((e,s)=>(0,L.jsx)(C.JL,{value:"card",index:s,children:(0,L.jsx)(v.q,{index:s,entity:e})},e.uri||s)),[]),o=(0,r.useCallback)(((e,s)=>"link"===e.type?t(e,s):a(e,s)),[a,t]),c=(0,r.useCallback)((e=>!!D(e)||!((e=>"HEADER"===e.rendering)(e)||0===e.content.total||n&&"uniquely-yours-shelf"===e.id)),[n]);return e&&0!==e.length?e[0].content?(0,L.jsx)(L.Fragment,{children:e.filter(c).map(((e,s)=>{const r=e.content&&(0,h.p)((0,h.S)(e.href));if(D(e)){const s=e.content.items[0];return s&&s.name&&s.description&&s.href?(0,L.jsx)(T,{label:s.name,tagline:s.description,uri:s.href},"corona-banner"):null}return(0,L.jsx)(C.JL,{value:"headered-grid",index:s,children:(0,L.jsx)(y.q,{total:e.content.total,seeAllUri:r,pageId:i,title:e.name,tagline:e.tag_line||void 0,index:s,id:e.id,children:e.content.items.map(o)})},e.id)}))}):(0,L.jsx)(C.JL,{value:"headered-grid",children:(0,L.jsx)(y.q,{showAll:!0,title:s,total:e?.length||0,index:0,id:i??"spaces-see-all-grid",children:e?.map(o)})}):null};var _=i(64111);const O="XD65NhAD6ebYxMaW9cZZ",J="AJqEY1gblQDvIgjU0jAH",F="Ft1cMGlqDsCbqmXQyeKN",R="zlBEnsMyvUhuHSEtst4Q",W="INYpiFRlwWIZ0vH30xW2",U=e=>"HEADER"===e.rendering,Z=(e,s=[],i)=>{if(!e)return(0,L.jsx)("div",{className:W});const r=s.filter((e=>"background"===e.name));return(0,L.jsxs)(j.gF,{backgroundImages:r,backgroundColor:i,size:0===r.length?j.fR.SMALL:j.fR.DEFAULT,children:[(0,L.jsx)(f.W,{children:(0,L.jsx)(I.i,{text:e})}),(0,L.jsx)(j.sP,{children:(0,L.jsx)(j.xd,{children:e})})]})},G=e=>{const{title:s,images:i,backgroundColor:r}=e;return(0,L.jsx)(L.Fragment,{children:Z(s,i,r)})},z=["ginger-genre-affinity"],Q=r.memo((function({viewData:e,viewId:s,backgroundColor:i,isFullyLoaded:n,isGenre:a,isAnonymous:u,getNextPage:h}){const f=e?.name,{spec:I,UBIFragment:v}=(0,x.fU)(o.createDesktopGenreEventFactory,{data:{identifier:s,uri:`spotify:genre:${s}`}}),y=(0,r.useCallback)((()=>z.some((s=>e?.href?.includes(s)))),[e]),C=(0,r.useCallback)((()=>{if(!e)return;const s=y();n||s||h()}),[e,y,n,h]),k=(0,r.useMemo)((()=>{const{content:{items:s=[]}={}}=e||{},i=s.filter(U);return i.length>0?i[0]:null}),[e]),w=(0,r.useMemo)((()=>{const{name:s}=e||{};return k?k.name:i&&s}),[i,k,e]),E=(0,r.useMemo)((()=>a||Boolean(w)),[a,w]),N=(0,r.useMemo)((()=>!(!e||!Array.isArray(e.content.items))&&E),[E,e]),P=(0,j.oX)(s)?(0,L.jsx)(j.YD,{isAnonymous:u}):(0,L.jsx)(G,{title:k?.name||w,images:k?.images||[],backgroundColor:i}),M=e?.content.items,A=(0,r.useMemo)((()=>I.shelvesFactory()),[I]);return e?(0,L.jsxs)(L.Fragment,{children:[f?(0,L.jsx)(p.$,{children:(0,g.cT)({genreName:f})}):null,(0,L.jsx)(m.C,{onReachBottom:C,children:(0,L.jsxs)("section",{className:O,children:[N&&(0,L.jsx)(l.H,{color:i||null}),E?P:(0,L.jsx)("div",{className:W}),(0,L.jsxs)("div",{className:F,children:[E&&P&&(0,L.jsx)(d.I,{backgroundColor:i}),(0,L.jsx)("div",{className:t()(J,"contentSpacing",{[R]:a}),children:(0,L.jsx)(v,{spec:A,children:(0,L.jsx)(q,{spaces:M,viewName:e.name,viewId:s,isAnonymous:u})})})]})]})})]}):(0,L.jsx)(b.h,{hasError:!1,errorMessage:c.ag.get("error.not_found.title.page")})})),V=r.memo((function({viewId:e}){const{isAnonymous:s}=(0,a.v9)(_.Gg),{view:i,getNextPage:r}=(0,u.P)(e),n=!i||null===i.content.next,t=e.endsWith("-page")?e:`${e}-page`,o=(0,a.v9)((e=>e.browse.allItemsStyle?.[t]?.color||"")),c=s=>s.viewId===e||"href"in s&&s.href===(0,h.p)(e),d=(0,a.v9)((e=>e?.browse?.browseAll?.items.some(c)||e?.browse?.topGenres?.items.some(c)||!!o));return(0,L.jsx)(Q,{viewData:i,isFullyLoaded:n,viewId:e,backgroundColor:o,isGenre:d,isAnonymous:s,getNextPage:r})}))},73060:(e,s,i)=>{i.d(s,{P:()=>g});var r=i(59496),n=i(9102),t=i(48702),a=i(79357),o=i(55411),c=i(97533),d=i(13803),l=i(81351),u=i(64111),m=i(67855);const g=(e,s)=>{const i=(()=>{const e=(0,c.W6)(m.Xf),s=(0,o.v9)(l.rZ),{overrides:i}=(0,o.v9)(u.Gg),n=d.ag.getLocale(),t=i?.country||s,a=i?.locale||n;return(0,r.useMemo)((()=>{const s=["album","playlist","artist","show","station","episode","merch","artist_concerts"];return e&&s.push("uri_link"),{country:t,locale:a,types:s.join(",")}}),[t,e,a])})(),{data:g,fetchNextPage:x}=(0,n.useInfiniteQuery)(["useView",e,i],(async({pageParam:s})=>void 0===s?async function(e,s){const{body:i}=await a.kO.getView(t.b.getInstance(),e,s);return i}(e,i):async function(e){const s=new URL(e),i=s.origin,r=s.pathname,n=Object.fromEntries(s.searchParams.entries()),{body:o}=await a.TV.getGeneric(t.b.getInstance(),i,r,n,"/useView/fetchNext/{next}");return o}(s)),{cacheTime:s?.cacheTime??18e5,staleTime:s?.staleTime??3e5,getNextPageParam:e=>e.content.next??void 0,getPreviousPageParam:e=>e.content.previous??void 0});return{view:(0,r.useMemo)((()=>g?.pages.reduce(((e,s)=>({...e,content:{...e.content,href:s.content.href,next:s.content.next,offset:s.content.offset,previous:s.content.previous,total:s.content.total,items:e.content.items.concat(s.content.items)}})))),[g?.pages]),getNextPage:x}}}}]);
//# sourceMappingURL=xpui-routes-view.js.map