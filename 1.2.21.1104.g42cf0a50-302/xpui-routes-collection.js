"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[6309],{26036:(e,t,s)=>{s.d(t,{n:()=>N});var a=s(59496),n=s(84875),r=s.n(n),i=s(31752),l=s(2988),o=s(63733),c=s(64267),u=s(13803),d=s(85830),m=s(2885),g=s(69860);var h=s(6068),p=s(89300),x=s(39178);const f="BkpKedcdaMGbvgXMlmcg",j="muYk5XIwKmqR9iNibk_f",b="OEFWODerafYHGp09iLlA",y="m20ShRDiGGDpJ5LSABTi",C="Hvv0e7WKQ4kyftgSQJhg",k="yxf_6IsQEmHjijEBUMTP",v="oaNVBli46GtVjaQKB15g",I="JdlKTdpMquftpMwwegZo",S="Nts_ArOCGeROTDZND3M6",A="FvDsfgxSvLvL3q8d7nQv";var L=s(4637);const w=({items:e,activeItemId:t})=>(0,L.jsx)(p.v,{children:e.map((e=>e.disabled?(0,L.jsx)(x.s,{disabled:!0,role:"menuitemradio",className:k,onClick:e.handleClick,children:e.title},e.uri):(0,L.jsx)(x.s,{role:"menuitemradio",to:e.to,end:!0,"aria-checked":e.itemId===t,className:({isActive:e})=>r()(k,{[v]:e}),onClick:e.handleClick,children:e.title},e.uri)))});var R=s(14189);const N=(0,a.memo)((function({isCentered:e,links:t,landmarkLabel:s,className:n}){const p=(0,a.useRef)(null),[x,k]=(0,a.useState)([]),[N,O]=(0,a.useState)(0),[E,P]=(0,a.useState)([]),B=function(){const[e,t]=(0,a.useState)(window.innerWidth),{scrollNodeChildRef:s}=(0,a.useContext)(m.VX),n=(0,d.y1)((e=>{e?.width&&t(e.width)}),250);return(0,g.y)({refOrElement:s,observeOnly:"width",onResize:n}),e}()??1/0,{pathname:F}=(0,i.TH)(),T=t.find((e=>e.to===F));return(0,a.useEffect)((()=>{p.current&&O(p.current.clientWidth)}),[B]),(0,a.useEffect)((()=>{if(!p.current)return;const e=Array.from(p.current.children).map((e=>e.clientWidth));k(e)}),[t]),(0,a.useEffect)((()=>{if(!p.current)return;if(x.slice(0,-1).reduce(((e,t)=>e+t),0)<=N)return void P([]);const e=x.reduce(((e,t)=>e>t?e:t),0),t=[];let s=e;x.forEach(((e,a)=>{N>=s+e?s+=e:t.push(a)})),P(t)}),[N,x]),(0,L.jsx)("nav",{className:r()(n,f),"aria-label":s,children:(0,L.jsxs)("ul",{className:e?j:S,ref:p,children:[t.filter(((e,t)=>!E.includes(t))).map((e=>{const t=e?.render??(e=>e);return(0,L.jsx)(a.Fragment,{children:t((0,L.jsx)("li",{className:b,children:e.disabled?(0,L.jsx)("div",{className:I,children:(0,L.jsx)(l.D,{variant:"mestoBold",children:e.title})}):(0,L.jsx)(R.O,{end:!0,className:({isActive:e})=>r()(I,{[v]:e}),to:e.to,onClick:e.handleClick,children:(0,L.jsx)(l.D,{variant:"mestoBold",children:e.title})})}))},e.to)})),E.length||0===x.length?(0,L.jsx)("li",{className:b,children:(0,L.jsx)(h.xV,{renderInline:!0,menu:(0,L.jsx)(w,{items:t.filter(((e,t)=>E.includes(t))),activeItemId:T?.itemId}),children:(e,t,s)=>(0,L.jsxs)("button",{className:r()(y,{[C]:T}),type:"button",onClick:t,ref:s,children:[(0,L.jsx)(l.D,{variant:"mestoBold",children:T?T.title:u.ag.get("more")}),e?(0,L.jsx)(o.U,{iconSize:16,className:A,"aria-hidden":"true"}):(0,L.jsx)(c.i,{iconSize:16,className:A,"aria-hidden":"true"})]})})}):null]})})}))},88552:(e,t,s)=>{s.d(t,{h:()=>g});var a=s(59496),n=s(80576),r=s(88618),i=s(30549),l=s(18173),o=s(49594),c=s(40952),u=s(4637);const d=a.memo((function({sortOptions:e,onSort:t}){const{sortState:s,setSortState:n}=(0,a.useContext)(o.Q),r=(0,a.useCallback)((e=>{const s=c.ei[e];t?.(s),n(s)}),[t,n]),i=e.map((e=>c.MY[e])),d=c.MY[s];return(0,u.jsx)(l.A,{options:i,onSelect:r,selected:d})})),m="VuUpAVlUW_OfMfOcDEID",g=a.memo((function({canSort:e,canFilter:t,filterPlaceholder:s,sortOptions:l}){const{spec:o,logger:c}=(0,i.fU)(n.createDesktopSearchBarEventFactory,{}),g=(0,a.useCallback)((()=>{c.logInteraction(o.filterFieldFactory().keyStrokeFilter())}),[c,o]),h=(0,a.useCallback)((()=>{c.logInteraction(o.filterFieldFactory().hitClearFilter())}),[c,o]),p=(0,a.useCallback)((()=>{c.logInteraction(o.sortButtonFactory().hitSort())}),[c,o]);return(0,u.jsxs)("div",{className:m,children:[t?(0,u.jsx)(a.Suspense,{fallback:null,children:(0,u.jsx)(r.K,{placeholder:s,onFilter:g,onClear:h})}):null,e?(0,u.jsx)(d,{sortOptions:l,onSort:p}):null]})}))},32069:(e,t,s)=>{s.r(t),s.d(t,{default:()=>$e});var a=s(59496),n=s(55411),r=s(31752),i=s(97533),l=s(37148),o=s(13803),c=s(94190),u=s(84274),d=s(54940),m=s(89823),g=s(2988),h=s(55187),p=s(75729),x=s(84875),f=s.n(x),j=s(12741),b=s(2885),y=s(22037),C=s(16111),k=s(41832),v=s(4637);const I=(0,a.memo)((function({index:e}){return(0,v.jsx)(C.C,{index:e,headerText:"",uri:"",renderCardImage:()=>(0,v.jsx)(k.x,{images:[]}),featureIdentifier:"unknown"})})),S="lA3jnNwnLc3CoYKT06Vz";function A({renderCard:e,nrCards:t,fetchData:s,limit:n=50,cardGridApiRef:r}){const i=(0,b.Mi)(),{getItems:l,nrValidItems:o,invalidateCache:c,hasItems:u}=(0,y.Q)({nrItems:t,fetch:s,limit:n});(0,a.useImperativeHandle)(r,(()=>({update:()=>c()})));return(0,v.jsx)("div",{className:f()({[S]:!u}),children:(0,v.jsx)(j.u,{renderItems:(t,s,a)=>l(t,s).map(((s,n)=>(s?e(s,t+n,a):null)??(0,v.jsx)(I,{index:n},t+n))),scrollNodeRef:i,nrItems:o,estimatedItemMaxHeight:250})})}var L=s(31929),w=s(57064),R=s(19805),N=s(98865),O=s(99714),E=s(24919),P=s(30549),B=s(74938),F=s(57458);const T={offset:0,limit:1},D=()=>{const e=(0,a.useContext)(E.H);return(e=>{const[t,s]=(0,a.useState)(null),n=(0,a.useCallback)((async()=>{if(!e)return;const t=await e();s(t?.totalLength||0)}),[e]);return(0,a.useEffect)((()=>{null===t&&n()}),[t,n]),{total:t}})((0,a.useCallback)((()=>e?e?.getShows(T):Promise.resolve({totalLength:0})),[e]))},U=()=>{const e=(0,a.useContext)(E.H),[t,s]=(0,a.useState)(null),n=(0,a.useCallback)((async()=>{if(!e)return;const t=await(e?.getBooks(T));s(t?.totalLength||0)}),[e]);return(0,a.useEffect)((()=>{null===t&&n()}),[t,n]),(0,F.b)(B.EW.UPDATE,n),{total:t}};var Y=s(88552),_=s(83997),M=s(45846),W=s(22690);const H=a.memo((function({nrAlbums:e}){const t=(0,a.useContext)(E.H),{filter:s}=(0,a.useContext)(R.fo),{sortState:n}=(0,a.useContext)(_.Q),r=(0,a.useRef)(null),{spec:i,UBIFragment:c}=(0,P.fU)(h.createDesktopLibraryEventFactory,{data:{uri:"spotify:app:collection:albums",identifier:l.Wg.YOURLIBRARY_ALBUMS}}),u=(0,a.useMemo)((()=>i.headerFactory()),[i]),d=(0,a.useCallback)((async(e,a)=>{const r=await t.getAlbums({offset:e,limit:a,filter:s,sort:(0,M.Aq)(n)});return{items:r.items,totalLength:r.totalLength}}),[t,s,n]),m=(0,a.useCallback)(((e,t)=>(0,v.jsx)(O.ZP,{value:"card",index:t,children:(0,v.jsx)(p.r,{index:t,uri:e.uri,name:e.name,images:e.images,artists:e.artists,sharingInfo:e.sharingInfo})},e.uri)),[]);return(0,v.jsxs)(c,{spec:i,children:[(0,v.jsx)(c,{spec:u,children:(0,v.jsxs)("div",{className:W.Z.header,children:[(0,v.jsx)(g.D,{as:"h1",variant:"canon",children:o.ag.get("albums")}),(0,v.jsx)(a.Suspense,{fallback:null,children:(0,v.jsx)(Y.h,{canSort:t.getCapabilities().canSort,canFilter:t.getCapabilities().canFilter,filterPlaceholder:o.ag.get("collection.filter.albums"),sortOptions:M.Ru})})]})}),(0,v.jsx)(A,{nrCards:e,renderCard:m,fetchData:d,cardGridApiRef:r})]})})),Z=a.memo((function(){const{total:e}=(()=>{const e=(0,a.useContext)(E.H),[t,s]=(0,a.useState)(null),n=(0,a.useCallback)((async()=>{if(!e)return;const t=await(e?.getAlbums(T));s(t?.totalLength||0)}),[e]);return(0,a.useEffect)((()=>{null===t&&n()}),[t,n]),(0,F.b)(B.EW.UPDATE,n),{total:t}})();return null===e?(0,v.jsx)(w.h,{hasError:!1,errorMessage:o.ag.get("error.request-collection-albums-failure")}):e?(0,v.jsx)(H,{nrAlbums:e}):(0,v.jsx)(L.u,{linkTo:"/search",linkTitle:o.ag.get("collection.empty-page.albums-cta"),message:o.ag.get("collection.empty-page.albums-subtitle"),title:o.ag.get("collection.empty-page.albums-title"),children:(0,v.jsx)(N.t,{type:"album"})})})),G=a.memo((function(){return(0,v.jsx)(_.$,{uri:"collection/albums",defaultSortOption:M.aY,children:(0,v.jsx)(R.hz,{uri:"collection/albums",children:(0,v.jsx)(Z,{})})})}));var K=s(8592);const V=a.memo((function({nrArtists:e}){const t=(0,a.useContext)(E.H),{filter:s}=(0,a.useContext)(R.fo),{sortState:n}=(0,a.useContext)(_.Q),r=(0,a.useRef)(null),{spec:i,UBIFragment:c}=(0,P.fU)(h.createDesktopLibraryEventFactory,{data:{uri:"spotify:app:collection:artists",identifier:l.Wg.YOURLIBRARY_ARTISTS}}),u=(0,a.useMemo)((()=>i.headerFactory()),[i]),d=(0,a.useCallback)((async(e,a)=>{const r=await t.getArtists({offset:e,limit:a,filter:s,sort:(0,M.e3)(n)});return{items:r.items,totalLength:r.totalLength}}),[t,s,n]),m=(0,a.useCallback)(((e,t)=>(0,v.jsx)(O.ZP,{value:"card",index:t,children:(0,v.jsx)(K.I,{index:t,name:e.name,uri:e.uri,images:e.images})},e.uri)),[]);return(0,a.useEffect)((()=>{r.current&&r.current.update()}),[n,s,e]),(0,v.jsxs)(c,{spec:i,children:[(0,v.jsx)(c,{spec:u,children:(0,v.jsxs)("div",{className:W.Z.header,children:[(0,v.jsx)(g.D,{as:"h1",variant:"canon",children:o.ag.get("artists")}),(0,v.jsx)(a.Suspense,{fallback:null,children:(0,v.jsx)(Y.h,{canSort:t.getCapabilities().canSort,canFilter:t.getCapabilities().canFilter,filterPlaceholder:o.ag.get("collection.filter.artists"),sortOptions:M.o$})})]})}),(0,v.jsx)(A,{nrCards:e,renderCard:m,fetchData:d,cardGridApiRef:r})]})})),z=a.memo((function(){const{total:e}=(()=>{const e=(0,a.useContext)(E.H),[t,s]=(0,a.useState)(null),n=(0,a.useCallback)((async()=>{if(!e)return;const t=await(e?.getArtists(T));s(t?.totalLength||0)}),[e]);return(0,a.useEffect)((()=>{null===t&&n()}),[t,n]),(0,F.b)(B.EW.UPDATE,n),{total:t}})();return null===e?(0,v.jsx)(w.h,{hasError:!1,errorMessage:o.ag.get("error.request-collection-artists-failure")}):e>0?(0,v.jsx)(V,{nrArtists:e}):(0,v.jsx)(L.u,{message:o.ag.get("collection.empty-page.artists-subtitle"),title:o.ag.get("collection.empty-page.artists-title"),linkTo:"/search",linkTitle:o.ag.get("collection.empty-page.artists-cta"),children:(0,v.jsx)(N.t,{type:"artist"})})})),Q=a.memo((function(){return(0,v.jsx)(_.$,{uri:"collection/artists",defaultSortOption:M.u3,children:(0,v.jsx)(R.hz,{uri:"collection/artists",children:(0,v.jsx)(z,{})})})}));var q=s(96576);const J=a.memo((function({nrBooks:e}){const t=(0,a.useContext)(E.H),{filter:s}=(0,a.useContext)(R.fo),{sortState:n}=(0,a.useContext)(_.Q),{spec:r,UBIFragment:i}=(0,P.fU)(h.createDesktopLibraryEventFactory,{data:{uri:"spotify:app:collection:audiobooks",identifier:l.Wg.YOURLIBRARY_AUDIOBOOKS}}),c=(0,a.useMemo)((()=>r.headerFactory()),[r]),u=(0,a.useRef)(null),d=(0,a.useCallback)((async(e,a)=>{const r=await t.getBooks({offset:e,limit:a,filter:s,sort:(0,M.G5)(n)});return{items:r.items.map((e=>(e=>""===e.authorName&&""===e.name)(e)?null:e)),totalLength:r.totalLength}}),[t,s,n]),m=(0,a.useCallback)(((e,t)=>(0,v.jsx)(O.ZP,{value:"card",index:t,children:(0,v.jsx)(q.c,{index:t,uri:e.uri,name:e.name,images:e.images,authorName:e.authorName,isLocked:e.isLocked})},e.uri)),[]);return(0,v.jsxs)(i,{spec:r,children:[(0,v.jsx)(i,{spec:c,children:(0,v.jsxs)("div",{className:W.Z.header,children:[(0,v.jsx)(g.D,{as:"h1",variant:"canon",children:o.ag.get("search.title.audiobooks")}),(0,v.jsx)(Y.h,{canSort:t.getCapabilities().canSort,canFilter:t.getCapabilities().canFilter,filterPlaceholder:"Search in Audiobooks",sortOptions:M.ZP})]})}),(0,v.jsx)(A,{nrCards:e,renderCard:m,fetchData:d,cardGridApiRef:u})]})})),$=a.memo((function(){const{total:e}=U();return null===e?(0,v.jsx)(w.h,{hasError:!1,errorMessage:o.ag.get("error.request-collection-albums-failure")}):e>0?(0,v.jsx)(J,{nrBooks:e}):(0,v.jsx)(L.u,{linkTo:"/search",linkTitle:o.ag.get("collection.empty-page.books-cta"),message:o.ag.get("collection.empty-page.books-subtitle"),title:o.ag.get("collection.empty-page.books-title"),children:(0,v.jsx)(N.t,{type:"book"})})})),X=a.memo((function(){return(0,v.jsx)(_.$,{uri:"collection/books",defaultSortOption:M.JV,children:(0,v.jsx)(R.hz,{uri:"collection/books",children:(0,v.jsx)($,{})})})}));var ee=s(76026),te=s(32704),se=s(18924),ae=s(42299),ne=s(29446),re=s(25742),ie=s(89562),le=s(64111),oe=s(98500),ce=s(21277),ue=s(43273),de=s(11874),me=s(25225),ge=s(60219),he=s(44949),pe=s(29154),xe=s(18505);const fe="NGSgqDuaOH2VDApkzoxN",je="ZzUvBwE6uj5CAU2pjlQX",be="kST1INfbHSxzydJffBq_",ye="DY2YrJ5MH3ddIhZGORBq",Ce="ZXOyJPokUIObMnvTOJvc",ke="lBs1v3T3HAPrOxfyWemr",ve="xhPzQCyks9pfizJj_PVK",Ie="d8ifuAZX8mK644AwlRZK";function Se(e,t){return Array.from(new Array(e).keys()).map((e=>(0,v.jsx)(xe.C,{as:"div",className:ke,charCount:t,isLoading:!0},e)))}const Ae=({index:e,onClick:t})=>{const s=(0,he.MY)({limit:7}),{user:a}=(0,n.v9)(le.Gg),r=(0,ie.I2)(a?.id);return r?(0,v.jsx)(ge.Z,{index:e,className:f()(fe,je),onClick:t,headerText:r.name,featureIdentifier:"your_library",uri:r.uri,ariaPlayLabel:o.ag.get("playlist.a11y.play",r.name),ariaPauseLabel:o.ag.get("playlist.a11y.pause",r.name),renderCardImage:()=>{return(0,v.jsx)("div",{className:ye,children:(0,v.jsx)("div",{className:Ce,children:s?(e=s,e.items.map((({uri:e,name:t,artists:[s]},a)=>(0,v.jsxs)("span",{children:[(0,v.jsx)("span",{className:Ie,children:a?" • ":""}),(0,v.jsx)("span",{dir:"auto",children:s.name}),(0,v.jsx)("span",{dir:"auto",className:Ie,children:t})]},e)))):Se(3)})});var e},renderSubHeaderContent:()=>(0,v.jsx)(pe.i,{isHero:!0,children:(0,v.jsx)("div",{className:ve,children:s?`${s.totalLength} ${r.name}`:Se(1,r.name.length)})})}):null},Le=(e,t,s)=>(0,v.jsx)(O.ZP,{value:"card",index:t,children:s},`${e.uri}`??0),we=(e,t,s)=>{switch(e.type){case de.p.LIKED_SONGS:return Le(e,t,s>1?(0,v.jsx)(Ae,{index:t},e.uri):(0,v.jsx)(te.p,{index:t},e.uri));case de.p.YOUR_EPISODES:return Le(e,t,(0,v.jsx)(ne.T,{index:t},e.uri));case de.p.LOCAL_FILES:return Le(e,t,(0,v.jsx)(se.P,{index:t},e.uri));case de.p.PLAYLIST:return Le(e,t,(0,v.jsx)(ee.Z,{index:t,name:e.name,uri:e.uri,images:e.images,description:e.description,authorName:e.owner?.displayName,isPlayable:e.totalLength>0},e.uri));case"placeholder":return Le(e,t,(0,v.jsx)(ee.Z,{index:t,uri:e.uri,name:"",images:[],description:"",authorName:""},e.uri));case"empty":return(0,v.jsx)(a.Fragment,{},t);case"folder":return null;default:return(0,me._)(e),null}},Re=a.memo((function({nrPlaylists:e,showYourEpisodesCard:t,showLocalFilesCard:s}){const{filter:r}=(0,a.useContext)(R.fo),{sortState:i}=(0,a.useContext)(_.Q),c=(0,a.useContext)(ue.BS),u=(0,a.useRef)(null),d=(0,n.v9)(le.Gg).user,{spec:m,UBIFragment:p}=(0,P.fU)(h.createDesktopLibraryEventFactory,{data:{uri:"spotify:app:collection:playlists",identifier:l.Wg.YOURLIBRARY_PLAYLISTS}}),x=(0,a.useMemo)((()=>m.headerFactory()),[m]),f=(0,a.useMemo)((()=>{const e=[];if(r)return e;const a=(0,ie.I2)(d?.id);a&&(e.push(a),e.push({uri:"",type:"empty"}));const n=t?(0,ie.bl)(d?.id):null;n&&e.push(n);const i=s?(0,ie.gB)():null;return i&&e.push(i),e}),[r,s,t,d]),j=(0,a.useCallback)((()=>{u?.current&&u.current.update()}),[u]);(0,ue.iu)(j);const b=(0,a.useCallback)((async(e,t)=>{const s=f.slice(e),a=e-(f.length-s.length),n=await c.getContents({offset:a,limit:t,filter:r,sort:(0,M.pT)(i),flatten:!0,decorateImagesAndOwner:!0}),l=n.items.map((e=>"placeholder"===e.type?null:e));return{items:[...s,...l],totalLength:n.totalItemCount+f.length}}),[f,c,r,i]);return(0,v.jsxs)(p,{spec:m,children:[(0,v.jsx)(p,{spec:x,children:(0,v.jsxs)("div",{className:W.Z.header,children:[(0,v.jsx)(g.D,{as:"h1",variant:"canon",children:o.ag.get("playlists")}),(0,v.jsx)(a.Suspense,{fallback:null,children:(0,v.jsx)(Y.h,{canSort:c.getCapabilities().canSort,canFilter:c.getCapabilities().canFilter,filterPlaceholder:o.ag.get("collection.filter.playlists"),sortOptions:M.w0})})]})}),(0,v.jsx)(A,{nrCards:e+f.length,renderCard:we,fetchData:b,cardGridApiRef:u})]})})),Ne=a.memo((function(){const e=(0,ue.Rt)(),t=(0,ae.x)(),s=(0,oe.u)(),{createPlaylist:n}=(0,re.K)(),r=(0,ce.I)(),i=(0,a.useCallback)((()=>{n()}),[n]);return null===e||null===t?(0,v.jsx)(w.h,{hasError:!1,errorMessage:o.ag.get("error.request-collection-albums-failure")}):e?.playlistCount?(0,v.jsx)(Re,{nrPlaylists:e.playlistCount,showYourEpisodesCard:t.totalLength>0,showLocalFilesCard:s.canFetchAllTracks&&r}):(0,v.jsx)(L.u,{linkTitle:o.ag.get("collection.empty-page.playlists-cta"),onClick:i,title:o.ag.get("collection.empty-page.playlists-title"),message:o.ag.get("collection.empty-page.playlists-subtitle"),children:(0,v.jsx)(N.t,{type:"playlist"})})})),Oe=a.memo((function(){return(0,v.jsx)(_.$,{uri:"collection/playlists",defaultSortOption:M.Bf,children:(0,v.jsx)(R.hz,{uri:"collection/playlists",children:(0,v.jsx)(Ne,{})})})}));var Ee=s(88004),Pe=s(73060),Be=s(23218),Fe=s(70213),Te=s(83984);const De=()=>{const e="ginger-audio-shows-top-20-web",{view:t}=(0,Pe.P)(e);if(!t)return null;const{content:s,name:a}=t,{total:n=0,items:r}=s;return(0,v.jsx)(Te.P,{title:a,total:n,seeAllUri:(0,Be.p)(e),children:r.filter((e=>"show"===e.type)).map(((e,t)=>(0,v.jsx)(Ee._,{name:e.name,uri:e.uri,images:e.images,publisher:e.publisher,mediaType:{audio:Fe.E.AUDIO,video:Fe.E.VIDEO,mixed:Fe.E.MIXED}[e.media_type]??Fe.E.AUDIO,sharingInfo:null,index:t},e.uri)))})};var Ue=s(91639),Ye=s(56161),_e=s(31438);function Me(e,t){return Array.from(new Array(e).keys()).map((e=>(0,v.jsx)(xe.C,{as:"div",className:ke,charCount:t,isLoading:!0},e)))}const We=({index:e})=>{const t=(0,he.j$)({limit:7}),{user:s}=(0,n.v9)(le.Gg),a=(0,ie.bl)(s?.id);return a?(0,v.jsx)(ge.Z,{index:e,className:f()(fe,be),headerText:a.name,featureIdentifier:"your_library",uri:a.uri,ariaPlayLabel:o.ag.get("playlist.a11y.play",a.name),ariaPauseLabel:o.ag.get("playlist.a11y.pause",a.name),renderCardImage:()=>{return(0,v.jsx)("div",{className:ye,children:(0,v.jsx)("div",{className:Ce,children:t?(e=t,e.items.map((({uri:e,name:t,show:s},a)=>(0,v.jsxs)("span",{children:[(0,v.jsx)("span",{className:Ie,children:a?" • ":""}),(0,v.jsx)("span",{dir:"auto",children:t}),s&&(0,v.jsx)("span",{dir:"auto",className:Ie,children:s.name})]},e)))):Me(3)})});var e},renderSubHeaderContent:()=>(0,v.jsx)(pe.i,{isHero:!0,children:(0,v.jsx)("div",{className:ve,children:t?o.ag.get("tracklist-header.episodes-counter",t.totalLength):Me(1,a.name.length)})})}):null},He=a.memo((function({nrShows:e}){const t=(0,a.useContext)(E.H),{filter:s}=(0,a.useContext)(R.fo),{sortState:r}=(0,a.useContext)(_.Q),i=(0,a.useRef)(!1),c=(0,a.useRef)({entities:[],total:e}),[u,d]=(0,a.useState)(0),{user:m}=(0,n.v9)(le.Gg),{spec:p,UBIFragment:x}=(0,P.fU)(h.createDesktopLibraryEventFactory,{data:{uri:"spotify:app:collection:podcasts",identifier:l.Wg.YOURLIBRARY_SHOWS}}),f=(0,a.useMemo)((()=>p.headerFactory()),[p]),j=(0,a.useCallback)((async(e,a,n=!1)=>{if(!i.current){i.current=!n;const l=await t.getShows({offset:e,limit:a,filter:s,sort:(0,M.EY)(r)});c.current=function(e,t,s){const a={...s};return a.entities=t?e.items||[]:a.entities.concat(e.items||[]),a.total=e.totalLength,a}(l,n,c.current),i.current=!1,d((e=>e+1))}}),[t,s,r,c]),b=(0,a.useCallback)((e=>{c.current=function(e,t){const s={...t},a=t.entities.filter((t=>t.uri!==e));return s.total=(t.total||0)-(t.entities.length-a.length),s.entities=a,s}(e,c.current),d((e=>e+1))}),[]);(0,a.useEffect)((()=>{j(0,50,!!u)}),[s,r]);const y=(0,a.useCallback)((()=>{c.current.entities.length!==c.current.total&&j(c.current.entities.length,50)}),[j,c]);return(0,v.jsx)(x,{spec:p,children:(0,v.jsxs)(Ye.C,{onReachBottom:y,children:[(0,v.jsx)(x,{spec:f,children:(0,v.jsxs)("div",{className:W.Z.header,children:[(0,v.jsx)(g.D,{as:"h1",variant:"canon",children:o.ag.get("podcasts")}),(0,v.jsx)(a.Suspense,{fallback:null,children:(0,v.jsx)(Y.h,{canSort:t.getCapabilities().canSort,canFilter:t.getCapabilities().canFilter,filterPlaceholder:o.ag.get("collection.filter.podcasts"),sortOptions:M.a6})})]})}),(0,v.jsx)(_e.r,{onLibraryItemRemove:b,children:(0,v.jsx)(O.ZP,{value:"EntitiesGrid",children:(0,v.jsx)(Ue.T,{render:()=>{const e=(0,ie.bl)(m?.id),t=s||!e||0===c.current.entities.length?[]:[(0,v.jsx)(a.Suspense,{fallback:null,children:(0,v.jsx)(We,{index:0})},"your-episodes-card")],n=t.length>0;return t.concat(c.current.entities.map(((e,t)=>{const s=n?t+1:t;return(0,v.jsx)(O.ZP,{value:"card",index:s,children:(0,v.jsx)(Ee._,{index:s,name:e.name,uri:e.uri,images:e.images,publisher:e.publisher,sharingInfo:null})},e.uri)})))}})})})]})})})),Ze=a.memo((function(){const{total:e}=D(),{productState:t}=(0,n.v9)(le.Gg),s=!!t&&parseInt(t.ads,10)>0;return null===e?(0,v.jsx)(w.h,{hasError:!1,errorMessage:o.ag.get("error.request-collection-shows-failure")}):e?(0,v.jsx)(He,{nrShows:e}):(0,v.jsxs)("div",{className:f()(W.Z.emptyStateContainer,{[W.Z.adBarEnabled]:s}),children:[(0,v.jsx)(L.u,{linkTo:"/genre/podcasts-web",linkTitle:o.ag.get("collection.empty-page.shows-cta"),message:o.ag.get("collection.empty-page.shows-subtitle"),title:o.ag.get("collection.empty-page.shows-title"),renderInline:!0,children:(0,v.jsx)(N.t,{type:"show"})}),(0,v.jsx)(De,{})]})})),Ge=a.memo((function(){return(0,v.jsx)(_.$,{uri:"collection/podcasts",defaultSortOption:M.rJ,children:(0,v.jsx)(R.hz,{uri:"collection/podcasts",children:(0,v.jsx)(Ze,{})})})}));var Ke=s(82536),Ve=s(26036),ze=s(67804);const Qe=({isAudiobooksEnabled:e})=>{const t=(0,n.v9)(m.rH),{spec:s,logger:r}=(0,P.fU)(Ke.createDesktopLibraryTopbarEventFactory,{}),i=(0,a.useMemo)((()=>[{title:o.ag.get("playlists"),itemId:"collection.tab-playlists",to:"/collection/playlists",uri:"spotify:app:collection:playlists"},...t?[{title:o.ag.get("podcasts"),itemId:"collection.tab-podcasts",to:"/collection/podcasts",uri:"spotify:app:collection:podcasts"}]:[],...e?[{title:o.ag.get("search.title.audiobooks"),itemId:"collection.tab-audiobooks",to:"/collection/audiobooks",uri:"spotify:app:collection:audiobooks"}]:[],{title:o.ag.get("artists"),itemId:"collection.tab-artists",to:"/collection/artists",uri:"spotify:app:collection:artists"},{title:o.ag.get("albums"),itemId:"collection.tab-albums",to:"/collection/albums",uri:"spotify:app:collection:albums"}].map(((e,t)=>{const a=e.uri;return{...e,handleClick:()=>{const e=s.linkFactory({position:t,uri:a}).hitUiNavigate({destination:a});r.logInteraction(e)}}}))),[t,e,r,s]);return(0,v.jsx)(ze.w,{children:(0,v.jsx)(Ve.n,{className:W.Z.tabBar,links:i})})};var qe=s(69233);const Je=a.lazy((async()=>await s.e(4246).then(s.bind(s,77719)))),$e=()=>{const e=(0,n.v9)(m.rH),t=(0,i.W6)(d.uBj);(0,u.z)("your_library");const{total:s}=U(),a=!!(s&&s>0);return(0,v.jsxs)("section",{className:"contentSpacing",children:[(0,v.jsx)(c.$,{children:o.ag.get("collection.page-title")}),(0,v.jsxs)(r.Z5,{children:[(0,v.jsx)(r.AW,{path:"artists",element:(0,v.jsx)(qe.K,{pageId:l.Wg.YOURLIBRARY_ARTISTS,children:(0,v.jsx)(Q,{})})}),(0,v.jsx)(r.AW,{path:"albums",element:(0,v.jsx)(qe.K,{pageId:l.Wg.YOURLIBRARY_ALBUMS,children:(0,v.jsx)(G,{})})}),(0,v.jsx)(r.AW,{path:"playlists",element:(0,v.jsx)(qe.K,{pageId:l.Wg.YOURLIBRARY_PLAYLISTS,children:(0,v.jsx)(Oe,{})})}),e&&(0,v.jsx)(r.AW,{path:"podcasts",element:(0,v.jsx)(qe.K,{pageId:l.Wg.YOURLIBRARY_SHOWS,children:(0,v.jsx)(Ge,{})})}),(t||a)&&(0,v.jsx)(r.AW,{path:"audiobooks",element:(0,v.jsx)(qe.K,{pageId:l.Wg.YOURLIBRARY_AUDIOBOOKS,children:(0,v.jsx)(X,{})})}),(0,v.jsx)(r.AW,{path:"music-downloads",element:(0,v.jsx)(qe.K,{pageId:l.Wg.YOURLIBRARY_DOWNLOADS,children:(0,v.jsx)(Je,{})})})]}),(0,v.jsx)(Qe,{isAudiobooksEnabled:t||a})]})}},18924:(e,t,s)=>{s.d(t,{P:()=>y});var a=s(59496),n=s(85830),r=s(13803),i=s(16111),l=s(41832),o=s(89562),c=s(66386),u=s(68050),d=s(98500),m=s(93041),g=s(21277),h=s(67674),p=s(33622),x=s(44961),f=s(29154),j=s(4637);const b=function({uri:e,name:t,images:s,index:o}){const b=(0,d.u)(),y=(0,a.useRef)(null),C=(0,a.useRef)(!0),k=(0,a.useContext)(m.t),{isPlaying:v}=(0,p.cR)(u.b),{togglePlay:I}=(0,h.n)({uri:u.b,pages:[{items:y.current?.map((e=>({...e,provider:null})))||[]}]},{featureIdentifier:"local_files"});(0,a.useEffect)((()=>(C.current=!0,()=>{C.current=!1})),[]);const S=(0,g.I)(),A=(0,n.y1)((async(e,t)=>{if(!y.current){const e=await k.getTracks();y.current=e}C&&I({loggingParams:t},{uri:u.b,pages:[{items:y.current?.map((e=>({...e,provider:null})))||[]}]})}),c.s_,{leading:!0,trailing:!1});return b.canFetchAllTracks&&S?(0,j.jsx)(i.Z,{index:o,delegatePlayback:!0,delegateLogging:!0,isPlaying:v,onPlay:A,headerText:t,featureIdentifier:"local_files",uri:e,renderCardImage:()=>(0,j.jsx)(l.x,{images:s,FallbackComponent:x.S}),renderSubHeaderContent:()=>(0,j.jsx)(f.i,{children:r.ag.get("local-files.description")})}):null},y=({index:e})=>{const t=(0,o.gB)();return(0,j.jsx)(a.Suspense,{fallback:null,children:(0,j.jsx)(b,{index:e,name:t.name,uri:t.uri,images:t.images})})}},42299:(e,t,s)=>{s.d(t,{x:()=>a.x});var a=s(24786)},73060:(e,t,s)=>{s.d(t,{P:()=>g});var a=s(59496),n=s(9102),r=s(48702),i=s(79357),l=s(55411),o=s(97533),c=s(13803),u=s(81351),d=s(64111),m=s(67855);const g=(e,t)=>{const s=(()=>{const e=(0,o.W6)(m.Xf),t=(0,l.v9)(u.rZ),{overrides:s}=(0,l.v9)(d.Gg),n=c.ag.getLocale(),r=s?.country||t,i=s?.locale||n;return(0,a.useMemo)((()=>{const t=["album","playlist","artist","show","station","episode","merch","artist_concerts"];return e&&t.push("uri_link"),{country:r,locale:i,types:t.join(",")}}),[r,e,i])})(),{data:g,fetchNextPage:h}=(0,n.useInfiniteQuery)(["useView",e,s],(async({pageParam:t})=>void 0===t?async function(e,t){const{body:s}=await i.kO.getView(r.b.getInstance(),e,t);return s}(e,s):async function(e){const t=new URL(e),s=t.origin,a=t.pathname,n=Object.fromEntries(t.searchParams.entries()),{body:l}=await i.TV.getGeneric(r.b.getInstance(),s,a,n,"/useView/fetchNext/{next}");return l}(t)),{cacheTime:t?.cacheTime??18e5,staleTime:t?.staleTime??3e5,getNextPageParam:e=>e.content.next??void 0,getPreviousPageParam:e=>e.content.previous??void 0});return{view:(0,a.useMemo)((()=>g?.pages.reduce(((e,t)=>({...e,content:{...e.content,href:t.content.href,next:t.content.next,offset:t.content.offset,previous:t.content.previous,total:t.content.total,items:e.content.items.concat(t.content.items)}})))),[g?.pages]),getNextPage:h}}},22690:(e,t,s)=>{s.d(t,{Z:()=>a});const a={header:"fLqEiE5HwKr9eFCbJgeu",tabBar:"tUg9tRrSVbtjHJ4WHnxw",AddToPlaylistIcon:"Hbwta1_s02edtdkgJ7qZ",emptyStateContainer:"nHGnfkVXCk9YYVitV6eu",adBarEnabled:"YV8aNrRwNwFaMozM_Bfo"}}}]);
//# sourceMappingURL=xpui-routes-collection.js.map