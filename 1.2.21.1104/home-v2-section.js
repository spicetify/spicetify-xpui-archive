"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[5070],{95343:(e,a,r)=>{r.d(a,{P:()=>g});var t=r(59496),s=r(5615),n=r(13803),i=r(27815),o=r(16111),c=r(41832),u=r(29154),l=r(60219),d=r(39192),m=r(34377),p=r(4637);const g=t.memo((function(e){const{images:a,name:r,uri:g,onClick:h,isHero:f,testId:x,index:_,requestId:y,color:b}=e;let j;const C=(0,t.useCallback)((()=>(0,p.jsx)(c.x,{isCircular:!0,isHero:f,images:a,color:b,FallbackComponent:e=>(0,p.jsx)(s.a,{iconSize:64,...e})})),[b,a,f]),k=(0,t.useCallback)((()=>(0,p.jsx)(u.i,{isHero:f,children:f?(0,p.jsx)(d.k,{children:n.ag.get("card.tag.profile")}):n.ag.get("card.tag.profile")})),[f]);return j=f?(0,p.jsx)(l.Z,{index:_,onClick:h,headerText:r,featureIdentifier:"profile",uri:g,isPlayable:!1,renderCardImage:C,renderSubHeaderContent:k,testId:x,requestId:y}):(0,p.jsx)(o.C,{index:_,onClick:h,headerText:r,featureIdentifier:"profile",uri:g,isPlayable:!1,renderCardImage:C,renderSubHeaderContent:k,testId:x,requestId:y}),(0,p.jsx)(i._,{menu:(0,p.jsx)(m.I,{uri:g}),children:j})}))},86966:(e,a,r)=>{r.d(a,{X:()=>l});var t=r(59496),s=r(84875),n=r.n(s),i=r(91639),o=r(18505),c=r(89342),u=r(4637);const l=(0,t.memo)((({children:e,isLoading:a,showAll:r})=>{const s=(0,t.useCallback)((({columnCount:a})=>(0,u.jsx)(u.Fragment,{children:r?e:Array.isArray(e)&&e.filter(((e,r)=>r<a))})),[e,r]);return Array.isArray(e)&&0===e.length?null:(0,u.jsxs)("section",{className:c.Z.skeletonShelf,"data-testid":"skeleton-shelf",children:[(0,u.jsx)("div",{className:c.Z.header,children:(0,u.jsx)("div",{className:c.Z.topRow,children:(0,u.jsx)("div",{className:c.Z.titleWrapper,children:(0,u.jsx)(o.C,{as:"span",charCount:25,className:c.Z.title,isLoading:a})})})}),(0,u.jsx)(i.T,{className:n()(c.Z.shelfGrid,{[c.Z.showAll]:r}),render:s})]})}))},92613:(e,a,r)=>{r.r(a),r.d(a,{SKELETON_CARDS_COUNT:()=>T,default:()=>P});var t=r(84875),s=r.n(t),n=r(97533),i=r(13803),o=r(94190),c=r(57064),u=r(37902),l=r(21843),d=r(64402),m=r(91006),p=r(1028),g=r(25225),h=r(25561),f=r(15585),x=r(4637);const _=({section:e})=>(0,x.jsx)(h.q,{pageId:e.uri,title:e.data.title?.text??"",showAll:!0,index:0,id:e.uri,children:e.sectionItems.items.map(f.x)});var y=r(8268);const b=({section:e})=>{switch(e.data?.__typename){case"HomeGenericSectionData":return(0,x.jsx)(_,{section:(0,y.f)(e,e.data)});case"HomeShortsSectionData":case"HomeRecentlyPlayedSectionData":case"HomeFeedBaselineSectionData":case"HomeNativeAdsSectionData":case"HomeOnboardingSectionData":case null:case void 0:case"HomeFeatureActivationSectionData":case"HomeOnboardingSectionDataV2":case"HomeYourDJSectionData":return null;case"HomeFeatureActivationSectionDataV2":return(0,x.jsx)(p.Jt,{features:(0,p.rJ)(e.sectionItems.items),showAll:!0,uri:e.uri});default:return(0,g._)(e.data),null}};var j=r(59496),C=r(85882),k=r(86966);const A=(0,j.memo)((({cardCount:e})=>(0,x.jsx)(k.X,{isLoading:!0,showAll:!0,children:[...new Array(e).keys()].map(((e,a)=>(0,x.jsx)(C.A,{isLoading:!0},a)))})));var v=r(29929),S=r(54940),I=r(57360);const T=10,w=({uri:e})=>{const{data:a,error:r,loading:t}=(0,m.xf)({uri:e,timeZone:(0,v.L7)(),sp_t:(0,d.vQ)("sp_t")??""},{cacheTime:v.us,staleTime:v.fS});if(t)return(0,x.jsx)("section",{"data-testid":"home-page",children:(0,x.jsx)("div",{className:I.Z.home,children:(0,x.jsx)("div",{className:s()(I.Z.content,"contentSpacing"),children:(0,x.jsx)(A,{cardCount:T})})})});if(null!==r)return(0,x.jsx)(c.h,{hasError:!0,errorMessage:i.ag.get("error.generic")});const n=a?.homeSections;if("HomeSectionCollection"!==n?.__typename||0===n.sections.length)return(0,x.jsx)(c.h,{hasError:!0,errorMessage:i.ag.get("error.generic")});const o=n.sections[0];return"HomeSection"!==o.__typename?(0,x.jsx)(c.h,{hasError:!0,errorMessage:i.ag.get("error.generic")}):(0,x.jsx)("section",{"data-testid":"home-section-page",children:(0,x.jsx)("div",{className:I.Z.home,children:(0,x.jsx)("div",{className:s()(I.Z.content,"contentSpacing"),children:(0,x.jsx)(b,{section:o})})})})},P=({uri:e})=>{const a=(0,n.W6)(S.ygs),r=(0,l.S)(a);return(0,x.jsxs)(u.q,{config:r,children:[(0,x.jsx)(o.$,{children:i.ag.get("page.generic-title")}),(0,x.jsx)(w,{uri:e})]})}},27141:(e,a,r)=>{r.d(a,{Cn:()=>u,D3:()=>d,_k:()=>l,lh:()=>p});var t=r(46721),s=r(89562),n=r(66832),i=r(80295),o=r(25225);function c(e){return{url:e.url,width:e.width,height:e.height}}function u(e){if("Episode"===e.__typename){const a=e.podcastV2.data;return"Podcast"!==a.__typename?[]:a.coverArt?.sources.map(c)??[]}return[]}function l(e){switch(e.__typename){case"Artist":return e.visuals.avatarImage?.sources.map(c)??[];case"Album":case"Audiobook":case"Podcast":case"Episode":case"Chapter":return e.coverArt?.sources.map(c)??[];case"Track":return e.albumOfTrack?.coverArt?.sources.map(c)??[];case"Playlist":return e.images.items[0]?.sources.map(c)??[];case"User":return e.avatar?.sources.map(c)??[];case"GenericError":case"NotFound":case"RestrictedContent":return[];default:return(0,o._)(e),[]}}function d(e){switch(e.__typename){case"Artist":return(0,n.bS)(e.visuals.avatarImage?.extractedColors);case"Album":case"Audiobook":case"Podcast":case"Episode":case"Chapter":return(0,n.bS)(e.coverArt?.extractedColors);case"Track":return(0,n.bS)(e.albumOfTrack?.coverArt?.extractedColors);case"Playlist":return(0,n.bS)(e.images.items[0]?.extractedColors);case"User":return(0,n.bS)(e.avatar?.extractedColors);case"GenericError":case"NotFound":case"RestrictedContent":return;default:return void(0,o._)(e)}}function m(e){return{uri:e??"",name:"",images:[],error:!0}}function p(e){const a=function(e){if("UnknownType"===e.content.__typename){const a=(0,t.EC)(e.uri);if((0,t.zO)(e.uri)||a?.id===t.JM.COLLECTION)return e.uri.endsWith("your-episodes")?(0,s.bl)(a?.username):e.uri.endsWith("local-files")?(0,s.gB)():(0,s.I2)(a?.username)}return null}(e);return null!==a?a:function(e){if(null===e||"UnknownType"===e.content.__typename)return m(e?.uri??null);const a=e.content.data;switch(a.__typename){case"Artist":return{uri:e.uri,name:a.profile.name??"",images:l(a)};case"Album":case"Audiobook":case"Podcast":case"Track":case"User":return{uri:e.uri,name:a.name??"",images:l(a)};case"Playlist":return{uri:e.uri,name:a.name??"",images:l(a),formatListAttributes:a.attributes??[]};case"Episode":return{uri:e.uri,name:a.name??"",images:l(a),release_date:a.releaseDate?.isoString,resume_point:{resume_position_ms:a.playedState.playPositionMilliseconds,fully_played:a.playedState.state===i.sY.Completed},podcast:"Podcast"===a.podcastV2.data.__typename?{uri:a.podcastV2.data.uri,name:a.podcastV2.data.name,images:l(a.podcastV2.data)}:void 0,duration_ms:a.duration.totalMilliseconds};case"Chapter":return"Audiobook"===a.audiobookV2.data.__typename?{uri:a.audiobookV2.data.uri,name:a.audiobookV2.data.name??"",images:l(a.audiobookV2.data)}:{uri:e.uri,name:a.name??"",images:l(a)};case"GenericError":case"NotFound":case"RestrictedContent":return m(e.uri);default:return(0,o._)(a),m(e?.uri??null)}}(e)}},8268:(e,a,r)=>{function t(e,a){return{...e,data:a}}r.d(a,{f:()=>t})},15585:(e,a,r)=>{r.d(a,{d:()=>_,x:()=>x});var t=r(75729),s=r(8592),n=r(96576),i=r(56805),o=r(76026),c=r(95343),u=r(88004),l=r(69127),d=r(22616),m=r(80295),p=r(90421),g=r(25225),h=r(27141),f=r(4637);function x(e,a){return _(e.content)?function(e,a){if("GenericError"===e.__typename||"NotFound"===e.__typename||"RestrictedContent"===e.__typename)return null;const r=`${a}-${e.uri}`,x=(0,h._k)(e),_=(0,h.D3)(e);switch(e.__typename){case"Album":return(0,f.jsx)(t.r,{uri:e.uri,name:e.name,images:x,color:_,sharingInfo:null,artists:(0,p.BH)(e.artists),index:a},r);case"Artist":return(0,f.jsx)(s.I,{uri:e.uri,name:e.profile.name,images:x,color:_,index:a},r);case"Audiobook":return(0,f.jsx)(n.c,{uri:e.uri,name:e.name,images:x,color:_,authorName:e.authors?.[0]?.name??"",index:a,signifierText:e.accessInfo?.signifier?.text??void 0},r);case"Chapter":{if("Audiobook"!==e.audiobookV2.data.__typename)return null;const t=e.audiobookV2.data;return(0,f.jsx)(n.c,{uri:t.uri,name:t.name,images:x,color:_,authorName:t.authors?.[0]?.name??"",index:a,signifierText:t.accessInfo?.signifier?.text??void 0},r)}case"Episode":return(0,f.jsx)(i.B,{uri:e.uri,name:e.name,images:x,color:_,showImages:(0,h.Cn)(e),description:e.description??"",durationMilliseconds:e.duration.totalMilliseconds,releaseDate:(0,p.Bq)(e.releaseDate),resume_point:{resume_position_ms:e.playedState.playPositionMilliseconds,fully_played:e.playedState.state===m.sY.Completed},isExplicit:(0,p.sW)(e.contentRating),is19PlusOnly:(0,p.R7)(e.contentRating),sharingInfo:null,index:a},r);case"Playlist":{let t="";return"User"===e.ownerV2.data.__typename&&(t=e.ownerV2.data.name),(0,f.jsx)(o.Z,{uri:e.uri,name:e.name,images:x,color:_,description:e.description,authorName:t,index:a,isPlayable:!(0,d.T)(e?.attributes)},r)}case"Podcast":return(0,f.jsx)(u._,{uri:e.uri,name:e.name,images:x,color:_,publisher:e.publisher?.name??"",sharingInfo:null,mediaType:(0,p.x7)(e.mediaType),index:a},r);case"Track":return(0,f.jsx)(l.G,{uri:e.uri,name:e.name,images:x,color:_,artists:(0,p.mQ)(e.artists),album:e.albumOfTrack?{uri:e.albumOfTrack.uri,name:e.albumOfTrack.name}:null,isExplicit:(0,p.sW)(e.contentRating),is19PlusOnly:(0,p.R7)(e.contentRating),sharingInfo:null,index:a},r);case"User":return(0,f.jsx)(c.P,{uri:e.uri,name:e.name,images:x,color:_,index:a},r);default:return(0,g._)(e),null}}(e.content.data,a):null}function _(e){switch(e.__typename){case"AlbumResponseWrapper":case"ArtistResponseWrapper":case"EpisodeOrChapterResponseWrapper":case"PlaylistResponseWrapper":case"PodcastOrAudiobookResponseWrapper":case"TrackResponseWrapper":case"UserResponseWrapper":return!0;case"UnknownType":return!1;default:return(0,g._)(e),!1}}},57360:(e,a,r)=>{r.d(a,{Z:()=>t});const t={home:"uIJTvxFOg2izOY7aRRiU",content:"I3EivnXTjYMpSbPUiYEg"}}}]);
//# sourceMappingURL=home-v2-section.js.map