"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[7704],{95343:(e,t,s)=>{s.d(t,{P:()=>h});var a=s(59496),n=s(5615),r=s(13803),i=s(27815),o=s(16111),c=s(41832),l=s(29154),u=s(60219),d=s(39192),m=s(34377),p=s(4637);const h=a.memo((function(e){const{images:t,name:s,uri:h,onClick:g,isHero:x,testId:f,index:y,requestId:j,color:v}=e;let C;const _=(0,a.useCallback)((()=>(0,p.jsx)(c.x,{isCircular:!0,isHero:x,images:t,color:v,FallbackComponent:e=>(0,p.jsx)(n.a,{iconSize:64,...e})})),[v,t,x]),k=(0,a.useCallback)((()=>(0,p.jsx)(l.i,{isHero:x,children:x?(0,p.jsx)(d.k,{children:r.ag.get("card.tag.profile")}):r.ag.get("card.tag.profile")})),[x]);return C=x?(0,p.jsx)(u.Z,{index:y,onClick:g,headerText:s,featureIdentifier:"profile",uri:h,isPlayable:!1,renderCardImage:_,renderSubHeaderContent:k,testId:f,requestId:j}):(0,p.jsx)(o.C,{index:y,onClick:g,headerText:s,featureIdentifier:"profile",uri:h,isPlayable:!1,renderCardImage:_,renderSubHeaderContent:k,testId:f,requestId:j}),(0,p.jsx)(i._,{menu:(0,p.jsx)(m.I,{uri:h}),children:C})}))},86966:(e,t,s)=>{s.d(t,{X:()=>u});var a=s(59496),n=s(84875),r=s.n(n),i=s(91639),o=s(18505),c=s(89342),l=s(4637);const u=(0,a.memo)((({children:e,isLoading:t,showAll:s})=>{const n=(0,a.useCallback)((({columnCount:t})=>(0,l.jsx)(l.Fragment,{children:s?e:Array.isArray(e)&&e.filter(((e,s)=>s<t))})),[e,s]);return Array.isArray(e)&&0===e.length?null:(0,l.jsxs)("section",{className:c.Z.skeletonShelf,"data-testid":"skeleton-shelf",children:[(0,l.jsx)("div",{className:c.Z.header,children:(0,l.jsx)("div",{className:c.Z.topRow,children:(0,l.jsx)("div",{className:c.Z.titleWrapper,children:(0,l.jsx)(o.C,{as:"span",charCount:25,className:c.Z.title,isLoading:t})})})}),(0,l.jsx)(i.T,{className:r()(c.Z.shelfGrid,{[c.Z.showAll]:s}),render:n})]})}))},2033:(e,t,s)=>{s.r(t),s.d(t,{SKELETON_CARDS_COUNT:()=>wt,SKELETON_SHELVES_COUNT:()=>Pt,SKELETON_SHORTCUTS_COUNT:()=>Et,default:()=>Mt});var a=s(59496),n=s(84875),r=s.n(n),i=s(31752),o=s(97533),c=s(26443),l=s(13803),u=s(94190),d=s(35916),m=s(18505);const p="rPV8BmHZXaGIGT2HwvBB",h="sLw5dxB32cAxVxqiar7J",g="nlOU1unbFAd7ZHyeSMTH",x="jb9xD5ECTqKFK02qe3HZ",f="Z35BWOA10YGn5uc9YgAp",y="g3f_cI5usQX7ZOQyDtA9",j="jvWzgRWM_y_9FFTYRCcB",v="zXwER4Lsqq_e7fVVaPkZ",C="DqAHiYCkcPCcDorezUKI",_="WWDxafTPs4AgThdcX5jN",k="Tzzq1pG_inwo_oSOdyjb",b="TbrIq3NG2VYFoAUMSmp9",S="JFDEiqT_8B5zeG_CDSdK",N="EzRmGRncgnv1zFgF4dqE",I="bPmmKmSPLKMhtJSaUJRX",T="vpQWUBWS_lXRLZMRJT7w",A="GSv7K805J9Jw7LB9tn2A",E="Kcb74zm1aMqGfPxTwO5s",P="s9c9x_mJq197U2hBzGtV",w="zUf7jtv9GPOKC1jYO5TO",D="T8QLel3PoQTgJUpGYj7Q";var L=s(4637);const M=(0,a.memo)((({isLoading:e})=>{const t=(0,d.h)("shimmer");return(0,L.jsx)("div",{className:j,children:(0,L.jsx)("div",{ref:t,className:r()(v,{[D]:e})})})})),O=(0,a.memo)((({isLoading:e})=>(0,L.jsx)("div",{className:r()(f,w),"data-testid":"skeleton-shortcut",children:(0,L.jsxs)("div",{className:y,children:[(0,L.jsx)(M,{isLoading:e}),(0,L.jsx)("div",{className:k,children:(0,L.jsx)(m.C,{as:"p",variant:"balladBold",className:N,isLoading:e})})]})}))),R=(0,a.memo)((({shortcutCount:e})=>(0,L.jsxs)("section",{className:p,children:[(0,L.jsx)("div",{className:h,children:(0,L.jsx)(m.C,{as:"h2",variant:"alto",charCount:25,isLoading:!0})}),(0,L.jsx)("div",{className:g,children:[...new Array(e).keys()].slice(0,6).map(((e,t)=>(0,L.jsx)(O,{isLoading:!0},t)))})]})));var U=s(57064),B=s(11892),H=s(84274),W=s(37902),F=s(21843),J=s(45627),q=s(2988),z=s(43030),V=s(70952),Y=s(58485),Z=s(12171);const G="AaXwi9LLckdsxNwrosnQ",Q="yX31EzBkHzNooefkSvT3",X="rRldspwHsrgo8DsecR2Q",K=({loggedIn:e,onClick:t})=>{const s=(0,Z.jh)();return(0,L.jsx)("div",{className:G,children:(0,L.jsxs)("div",{className:(0,J.Mg)("invertedLight",Q),style:{backgroundImage:`url(${(0,Y.g)("images/SW23_Entry-Points_Announcement_Box-Left.svg")}),url(${(0,Y.g)("images/SW23_Entry-Points_Announcement_Box-Right.svg")})`},children:[(0,L.jsx)(q.D,{as:"h2",variant:"brio",semanticColor:"textBase",className:X,children:e?l.ag.get("shared.wrapped-banner.title"):l.ag.get("shared.wrapped-banner.title-loggedout")}),(0,L.jsx)(q.D,{as:"p",variant:s===Z.Uo.SMALL?"mesto":"ballad",semanticColor:"textBase",children:e?l.ag.get("shared.wrapped-banner.body"):l.ag.get("shared.wrapped-banner.body-loggedout")}),(0,L.jsx)(z.D,{colorSet:"invertedDark",iconTrailing:V.T,href:"https://spotify.com/wrapped",target:"_blank",size:s===Z.Uo.SMALL?"small":"medium",onClick:t,children:l.ag.get("shared.wrapped-banner.button")})]})})};var $=s(64402),ee=s(60527),te=s(30549),se=s(91006),ae=s(29929),ne=s(68906);const re=JSON.parse('{"uri":"spotify:section:0JQ5DAVAaDNAlq7hOF3StH","data":{"__typename":"HomeYourDJSectionData","title":{"text":"Meet DJ"}},"sectionItems":{"items":[{"uri":"spotify:playlist:37i9dQZF1EYkqdzj48dyYq","content":{"__typename":"PlaylistResponseWrapper","data":{"__typename":"Playlist","uri":"spotify:playlist:37i9dQZF1EYkqdzj48dyYq","name":"DJ","images":{"items":[{"sources":[{"url":"https://lexicon-assets.spotifycdn.com/DJ-Beta-CoverArt-300.jpg","width":null,"height":null}],"extractedColors":{"colorDark":{"hex":"#0858B8","isFallback":false}}}]},"description":"All kinds of music, picked by your own AI DJ.","ownerV2":{"data":{"__typename":"User","name":"Spotify"}}}},"data":null}],"totalCount":1}}');var ie=s(54940),oe=s(15487),ce=s(1028),le=s(79726),ue=s(25225),de=s(93090),me=s(25561),pe=s(15585);const he=({spec:e,section:t,index:s})=>{const n=(0,o.W6)(ie.tyH,{loadingValue:!1})?de.N:me.q;return(0,a.useMemo)((()=>t.sectionItems.items.some((e=>(0,pe.d)(e.content)))),[t.sectionItems])?(0,L.jsx)(te.Nh,{spec:e.shelvesFactory(),children:(0,L.jsx)(n,{total:t.sectionItems.totalCount,seeAllUri:t.uri,pageId:t.uri,title:t.data.title?.text??"",index:s,id:t.uri,children:t.sectionItems.items.map(pe.x).filter((e=>!!e))})}):null};var ge=s(31624);const xe=({spec:e,section:t,index:s})=>(0,L.jsx)(te.Nh,{spec:e.shelvesFactory(),children:(0,L.jsx)(ge.default,{title:t.data.title?.text??void 0,showAll:!1,index:s})});var fe=s(99789),ye=s(22616),je=s(5830),ve=s(11874),Ce=s(73982),_e=s(75706),ke=s(46721),be=s(88678),Se=s(38352),Ne=s(67674),Ie=s(49425),Te=s(80786),Ae=s(98004),Ee=s(90179),Pe=s(51009),we=s(93058);const De=a.memo((function({index:e,item:t,image:s,showPlayButton:n,extraContent:o,playInsteadOfNavigating:c=!1,onContextMenu:l=(()=>{}),onTouchStart:u=(()=>{}),onTouchEnd:d=(()=>{})}){const m=(0,i.s0)(),p=(0,Pe.o)(),{setColorFromUri:h,resetColor:g,clearColor:j}=(0,Te.WQ)(),v=(0,Se.G3)(t.uri,t.release_date,t.resume_point?.resume_position_ms,t.resume_point?.fully_played),{spec:C,logger:_}=(0,te.fU)(_e.createDesktopShortcutsPlayNavCardEventFactory,{data:{position:e,uri:t.uri}}),{isPlaying:T,isActive:A,togglePlay:w}=(0,Ne.n)({uri:t.uri},{featureIdentifier:"home",referrerIdentifier:"home"}),D=(0,ke.EC)(t.uri),M=(0,Ee.k)({type:"link",uri:t.uri}),O=(0,a.useCallback)((()=>{p({targetUri:t.uri,intent:T?"pause":"play",type:"click"});const e=C.playButtonFactory();let s;s=T?e.hitPause({itemToBePaused:t.uri}):A?e.hitResume({itemToBeResumed:t.uri}):e.hitPlay({itemToBePlayed:t.uri});const a=_.logInteraction(s);w({loggingParams:a})}),[A,T,t.uri,_,p,C,w]),R=(0,a.useCallback)((()=>{p({targetUri:t.uri,intent:"navigate",type:"click"});const e=C.hitUiNavigate({destination:t.uri});_.logInteraction(e)}),[t.uri,_,p,C]),U=(0,a.useCallback)((()=>{if(c)return void O();let e;R(),D&&(e=D.toURLPath(!0));const t=M?(0,Ie.is)(e||""):e;t&&m(t)}),[c,R,D,M,O,m]),B=(0,a.useCallback)((()=>{h(t.uri)}),[t.uri,h]);(0,a.useEffect)((()=>()=>{j()}),[j]);const H=(0,te.Wi)(C),W=(0,Ae.O)([t.uri],t.name);return(0,L.jsx)("div",{ref:H,className:f,onContextMenu:l,onTouchStart:u,onTouchEnd:d,onMouseEnter:B,onMouseLeave:g,children:(0,L.jsxs)("div",{className:y,draggable:!0,onDragStart:W,children:[s,(0,L.jsxs)("div",{className:k,children:[(0,L.jsxs)("div",{className:b,children:[(0,L.jsxs)("div",{className:S,children:[v&&(0,L.jsx)(Se.Rd,{className:I}),(0,L.jsx)(we.Link,{to:t.uri,onClick:R,title:t.name,children:(0,L.jsx)(q.D,{as:"p",variant:"balladBold",className:N,children:t.name})})]}),o||null]}),n&&(0,L.jsx)("div",{className:r()(E,{[P]:T}),children:(0,L.jsx)(be.f,{isPlaying:T,onClick:O})})]}),(0,L.jsx)("div",{onClick:U,className:x})]})})})),Le=a.memo((function(e){const t={uri:"spotify:app:history",name:l.ag.get("collection.sort.recently-played"),images:[]};return(0,L.jsx)(De,{...e,index:8,item:t,image:(0,L.jsx)("div",{className:j,children:(0,L.jsx)("div",{className:r()(v,C),children:(0,L.jsx)(Ce.a,{size:"large"})})})})}));var Me=s(21062),Oe=s(48699),Re=s(5615),Ue=s(23355),Be=s(27815),He=s(73449),We=s(74390),Fe=s(5779),Je=s(80110),qe=s(70933),ze=s(33622);const Ve=(0,a.memo)((function({item:e}){const t=(0,Je._)(e.uri),s=e.duration_ms??0,{isPlaying:a,isActive:n}=(0,ze.$o)(e.uri),[r]=(0,qe.z)(1e4,(t=>t.item?.uri===e.uri)),i=e.resume_point?.resume_position_ms??0,o=a||n?r:i,c=Math.round(100/(s/o)),l=t===Fe.Om.YES,u=s&&o>0;return l||u?(0,L.jsxs)("div",{className:T,children:[l?(0,L.jsx)(He.E,{iconSize:16,semanticColor:"textSubdued"}):null,u?(0,L.jsx)(We.k,{className:A,value:c,semanticColor:"essentialBase"}):null]}):null}));var Ye=s(64173),Ze=s(59737);const Ge=(0,a.memo)((function({images:e=[],fallbackIcon:t=Me.U}){const s=(0,Ze.X)(e);return(0,L.jsx)("div",{className:j,children:(0,L.jsx)("div",{className:v,children:(0,L.jsx)(Ye.E,{className:_,src:s?.url,loading:"lazy",testid:"shortcut-image",children:(0,L.jsx)(t,{"aria-hidden":!0})})})})}));var Qe=s(21039),Xe=s(28316),Ke=s(94564),$e=s(52361),et=s(15613);const tt=a.memo((function(e){return(0,ke.zO)(e.item.uri)?(0,L.jsx)(De,{...e,image:(0,L.jsx)(Ge,{images:e.item.images,fallbackIcon:Me.U}),showPlayButton:e.showPlayButton}):(0,le.xn)(e.item.uri)?(0,L.jsx)(Be._,{menu:(0,L.jsx)(le.XL,{}),children:(0,L.jsx)(De,{...e,image:(0,L.jsx)(Ge,{images:e.item.images,fallbackIcon:Me.U}),playInsteadOfNavigating:!0})}):(0,L.jsx)(Be._,{menu:(0,L.jsx)($e.X,{uri:e.item.uri}),children:(0,L.jsx)(De,{...e,image:(0,L.jsx)(Ge,{images:e.item.images,fallbackIcon:Me.U})})})})),st=a.memo((function(e){return(0,L.jsx)(Be._,{menu:(0,L.jsx)(Qe.Y,{uri:e.item.uri}),children:(0,L.jsx)(De,{...e,image:(0,L.jsx)(Ge,{images:e.item.images,fallbackIcon:Oe.c})})})})),at=a.memo((function(e){return(0,L.jsx)(Be._,{menu:(0,L.jsx)(Xe.m,{uri:e.item.uri}),children:(0,L.jsx)(De,{...e,image:(0,L.jsx)(Ge,{images:e.item.images,fallbackIcon:Re.a})})})})),nt=a.memo((function(e){return(0,L.jsx)(Be._,{menu:(0,L.jsx)(et.M,{uri:e.item.uri}),children:(0,L.jsx)(De,{...e,image:(0,L.jsx)(Ge,{images:e.item.images,fallbackIcon:Ue.J}),showPlayButton:!1})})})),rt=a.memo((function(e){return e.item.podcast?(0,L.jsx)(nt,{index:e.index,shouldSetBackgroundColor:e.shouldSetBackgroundColor,item:e.item.podcast,showPlayButton:e.showPlayButton}):(0,L.jsx)(Be._,{menu:(0,L.jsx)(Ke.k,{uri:e.item.uri}),children:(0,L.jsx)(De,{...e,image:(0,L.jsx)(Ge,{images:e.item.images,fallbackIcon:Ue.J}),extraContent:(0,L.jsx)(Ve,{...e})})})}));var it=s(25677),ot=s(42299);const ct="J6UEDIqMSJhYlwGoeUZB",lt="ZjFf4lVC48DSryAjP9qB",ut=a.memo((function(e){const t=(0,ot.x)(),s={...e.item,...t};return(0,L.jsx)(De,{...e,item:s,image:(0,L.jsx)(Ge,{images:e.item.images,children:(0,L.jsx)("div",{className:ct,children:(0,L.jsx)(it.P,{iconSize:32,className:lt})})})})}));var dt=s(56067),mt=s(91502),pt=s(81648);const ht=e=>{if(null!==e&&"object"==typeof e){const{type:t,name:s}=e;return t===ve.p.YOUR_EPISODES&&"string"==typeof s}return!1},gt=(e,t,s)=>{const a=2*Math.ceil(s.length/2)-1;return t<Math.min(7,a)},xt=a.memo((function({title:e,tagline:t,items:s}){const{fetchMultipleColors:n}=(0,Te.WQ)(),r=!(0,dt.k)(),i=e??(()=>{const e=(new Date).getHours();let t=l.ag.get("home.evening");return e>=5&&e<12?t=l.ag.get("home.morning"):e>=12&&e<18&&(t=l.ag.get("home.afternoon")),t})(),c=(0,o.W6)(ie.T1_),u=(0,mt.wW)(),d=(0,o.W6)(ie.uS3)&&u;return(0,a.useEffect)((()=>{const e=s?.map(Te.lh)||[];n(e)}),[s,n]),r||!s?.length?null:(0,L.jsxs)("section",{className:p,"aria-label":i,children:[!c&&(0,L.jsx)(pt.r,{title:i,titleVariant:"alto",tagline:t}),(0,L.jsxs)("div",{className:g,children:[s.filter(((e,t)=>ht(e)||!e.error)).filter(d?gt:(e,t)=>t<6).map(((e,t)=>{if(ht(e))return(0,L.jsx)(ut,{index:t,item:e,showPlayButton:!0,shouldSetBackgroundColor:0===t},`${t}-${e.uri}`);const s=function(e){const t=((0,ke.EC)(e)||{}).type;switch(t){case ke.JM.ARTIST:return at;case ke.JM.ALBUM:case ke.JM.COLLECTION_ALBUM:return st;case ke.JM.PLAYLIST:case ke.JM.PLAYLIST_V2:return tt;case ke.JM.SHOW:return nt;case ke.JM.EPISODE:return rt;case ke.JM.COLLECTION:return tt;default:return console.warn(`Unable to resolve entity shortcut from ${e} of type "${t||"unknown"}"`),nt}}(e.uri);return(0,L.jsx)(s,{index:t,item:e,showPlayButton:!(0,ye.T)(e.formatListAttributes),shouldSetBackgroundColor:0===t},`${t}-${e.uri}`)})),d&&(0,L.jsx)(Le,{showPlayButton:!1,shouldSetBackgroundColor:!1})]})]})})),ft=e=>(0,L.jsx)(fe.L,{onError:e=>{(0,je.vK)(e,"HomeShortcutsGrid")},children:(0,L.jsx)(xt,{...e})});var yt=s(27141);const jt=({spec:e,greeting:t,section:s})=>(0,L.jsx)(te.Nh,{spec:e.shortcutsFactory(),children:(0,L.jsx)(ft,{items:s.sectionItems.items.map(yt.lh),title:t??void 0})});var vt=s(8268);const Ct=({spec:e,greeting:t,section:s,index:a})=>{const n=(0,le._n)();switch(s.data?.__typename){case"HomeGenericSectionData":return(0,L.jsx)(he,{spec:e,section:(0,vt.f)(s,s.data),index:a});case"HomeShortsSectionData":return(0,L.jsx)(jt,{spec:e,greeting:t,section:(0,vt.f)(s,s.data)});case"HomeRecentlyPlayedSectionData":return(0,L.jsx)(xe,{spec:e,section:(0,vt.f)(s,s.data),index:a});case"HomeFeedBaselineSectionData":case"HomeNativeAdsSectionData":case"HomeOnboardingSectionData":case"HomeOnboardingSectionDataV2":return null;case"HomeYourDJSectionData":{if(!n)return null;const e=(0,vt.f)(s,s.data),{data:t,sectionItems:a}=e,r=a.items[0];if("PlaylistResponseWrapper"===r.content.__typename&&"Playlist"===r.content.data.__typename){const{data:e}=r.content;return(0,L.jsx)(le.KE,{uri:le.rv,shelfTitle:t.title?.text??"",title:e.name,description:e.description??""})}return null}case"HomeFeatureActivationSectionDataV2":return(0,L.jsx)(ce.ZP,{features:(0,ce.rJ)(s.sectionItems.items),showAll:!1,uri:s.uri});case"HomeFeatureActivationSectionData":case null:case void 0:return null;default:return(0,ue._)(s.data),null}},_t=({spec:e,greeting:t,container:s})=>{const{spec:n,logger:r}=(0,te.fU)(ne.createDesktopHomeFeatureActivationShelfEventFactory,{}),i=((e,t)=>t?[e.sections.items[0],re,...e.sections.items.slice(1)]:e.sections.items)(s,(0,o.W6)(ie.iiT,{loadingValue:!1}));return(0,a.useEffect)((()=>{(0,oe.wW)()&&r.logImpression(n.impressionElementFactory().impression())}),[n,r]),(0,L.jsx)(L.Fragment,{children:i.map(((s,a)=>(0,L.jsx)(Ct,{spec:e,greeting:t,section:s,index:a},`${a}-${s.uri}`)))})};var kt=s(85882),bt=s(86966);const St=(0,a.memo)((({cardCount:e})=>(0,L.jsx)(bt.X,{isLoading:!0,children:[...new Array(e).keys()].map(((e,t)=>(0,L.jsx)(kt.A,{isLoading:!0},t)))})));var Nt=s(47387),It=s(67804);const Tt=()=>(0,o.W6)(ie.Jw1)===ie.pFI.ONHOME?(0,L.jsx)(It.w,{children:(0,L.jsx)(Nt.M,{onSearch:!1})}):null;var At=s(57360);const Et=6,Pt=6,wt=6,Dt=(0,a.memo)((({shortcutCount:e,shelfCount:t,cardCount:s})=>(0,L.jsx)("section",{"data-testid":"home-page",children:(0,L.jsx)("div",{className:At.Z.home,children:(0,L.jsxs)("div",{className:r()(At.Z.content,"contentSpacing"),children:[(0,L.jsx)(R,{shortcutCount:e}),[...new Array(t).keys()].map(((e,t)=>(0,L.jsx)(St,{cardCount:s},t)))]})})}))),Lt=({spec:e})=>{(0,H.z)("home");const{subfeedId:t=null}=(0,i.UO)(),s=(0,B.g)(),{data:a,error:n,loading:c}=(0,se.b3)({timeZone:(0,ae.L7)(),sp_t:(0,$.vQ)("sp_t")??"",facet:t},{cacheTime:ae.us,staleTime:ae.fS}),u=(0,o.W6)(ie._dp);if(c)return(0,L.jsx)(Dt,{shortcutCount:Et,shelfCount:Pt,cardCount:wt});if(null!==n)return(0,L.jsx)(U.h,{hasError:!0,errorMessage:l.ag.get("error.generic")});const d=a?.home;return"HomeResponsePayload"!==d?.__typename||0===d.sectionContainer.sections.totalCount||0===d.sectionContainer.sections.items.length?(0,L.jsx)(U.h,{hasError:!0,errorMessage:l.ag.get("error.generic")}):(0,L.jsx)("section",{"data-testid":"home-page",children:(0,L.jsx)("div",{className:At.Z.home,children:(0,L.jsxs)("div",{className:r()(At.Z.content,"contentSpacing"),children:[u&&(0,L.jsx)(K,{loggedIn:!s}),(0,L.jsx)(_t,{spec:e,greeting:d.greeting?.text??null,container:d.sectionContainer})]})})})},Mt=()=>{const{spec:e}=(0,te.fU)(c.createDesktopHomeEventFactory,{data:{identifier:"home",uri:"spotify:home"}}),t=(0,o.W6)(ie.ygs),s=(0,F.S)(t),n=(0,Ee.k)({type:"locale",uri:"home"});return(0,L.jsx)(te.Nh,{spec:e,children:(0,L.jsxs)(W.q,{config:s,children:[(0,L.jsx)(u.$,{children:(0,ee.nW)({i18n:l.ag,shouldLocalize:n})}),(0,L.jsx)(a.Suspense,{fallback:null,children:(0,L.jsx)(Tt,{})}),(0,L.jsx)(Lt,{spec:e})]})})}},27141:(e,t,s)=>{s.d(t,{Cn:()=>l,D3:()=>d,_k:()=>u,lh:()=>p});var a=s(46721),n=s(89562),r=s(66832),i=s(80295),o=s(25225);function c(e){return{url:e.url,width:e.width,height:e.height}}function l(e){if("Episode"===e.__typename){const t=e.podcastV2.data;return"Podcast"!==t.__typename?[]:t.coverArt?.sources.map(c)??[]}return[]}function u(e){switch(e.__typename){case"Artist":return e.visuals.avatarImage?.sources.map(c)??[];case"Album":case"Audiobook":case"Podcast":case"Episode":case"Chapter":return e.coverArt?.sources.map(c)??[];case"Track":return e.albumOfTrack?.coverArt?.sources.map(c)??[];case"Playlist":return e.images.items[0]?.sources.map(c)??[];case"User":return e.avatar?.sources.map(c)??[];case"GenericError":case"NotFound":case"RestrictedContent":return[];default:return(0,o._)(e),[]}}function d(e){switch(e.__typename){case"Artist":return(0,r.bS)(e.visuals.avatarImage?.extractedColors);case"Album":case"Audiobook":case"Podcast":case"Episode":case"Chapter":return(0,r.bS)(e.coverArt?.extractedColors);case"Track":return(0,r.bS)(e.albumOfTrack?.coverArt?.extractedColors);case"Playlist":return(0,r.bS)(e.images.items[0]?.extractedColors);case"User":return(0,r.bS)(e.avatar?.extractedColors);case"GenericError":case"NotFound":case"RestrictedContent":return;default:return void(0,o._)(e)}}function m(e){return{uri:e??"",name:"",images:[],error:!0}}function p(e){const t=function(e){if("UnknownType"===e.content.__typename){const t=(0,a.EC)(e.uri);if((0,a.zO)(e.uri)||t?.id===a.JM.COLLECTION)return e.uri.endsWith("your-episodes")?(0,n.bl)(t?.username):e.uri.endsWith("local-files")?(0,n.gB)():(0,n.I2)(t?.username)}return null}(e);return null!==t?t:function(e){if(null===e||"UnknownType"===e.content.__typename)return m(e?.uri??null);const t=e.content.data;switch(t.__typename){case"Artist":return{uri:e.uri,name:t.profile.name??"",images:u(t)};case"Album":case"Audiobook":case"Podcast":case"Track":case"User":return{uri:e.uri,name:t.name??"",images:u(t)};case"Playlist":return{uri:e.uri,name:t.name??"",images:u(t),formatListAttributes:t.attributes??[]};case"Episode":return{uri:e.uri,name:t.name??"",images:u(t),release_date:t.releaseDate?.isoString,resume_point:{resume_position_ms:t.playedState.playPositionMilliseconds,fully_played:t.playedState.state===i.sY.Completed},podcast:"Podcast"===t.podcastV2.data.__typename?{uri:t.podcastV2.data.uri,name:t.podcastV2.data.name,images:u(t.podcastV2.data)}:void 0,duration_ms:t.duration.totalMilliseconds};case"Chapter":return"Audiobook"===t.audiobookV2.data.__typename?{uri:t.audiobookV2.data.uri,name:t.audiobookV2.data.name??"",images:u(t.audiobookV2.data)}:{uri:e.uri,name:t.name??"",images:u(t)};case"GenericError":case"NotFound":case"RestrictedContent":return m(e.uri);default:return(0,o._)(t),m(e?.uri??null)}}(e)}},8268:(e,t,s)=>{function a(e,t){return{...e,data:t}}s.d(t,{f:()=>a})},15585:(e,t,s)=>{s.d(t,{d:()=>y,x:()=>f});var a=s(75729),n=s(8592),r=s(96576),i=s(56805),o=s(76026),c=s(95343),l=s(88004),u=s(69127),d=s(22616),m=s(80295),p=s(90421),h=s(25225),g=s(27141),x=s(4637);function f(e,t){return y(e.content)?function(e,t){if("GenericError"===e.__typename||"NotFound"===e.__typename||"RestrictedContent"===e.__typename)return null;const s=`${t}-${e.uri}`,f=(0,g._k)(e),y=(0,g.D3)(e);switch(e.__typename){case"Album":return(0,x.jsx)(a.r,{uri:e.uri,name:e.name,images:f,color:y,sharingInfo:null,artists:(0,p.BH)(e.artists),index:t},s);case"Artist":return(0,x.jsx)(n.I,{uri:e.uri,name:e.profile.name,images:f,color:y,index:t},s);case"Audiobook":return(0,x.jsx)(r.c,{uri:e.uri,name:e.name,images:f,color:y,authorName:e.authors?.[0]?.name??"",index:t,signifierText:e.accessInfo?.signifier?.text??void 0},s);case"Chapter":{if("Audiobook"!==e.audiobookV2.data.__typename)return null;const a=e.audiobookV2.data;return(0,x.jsx)(r.c,{uri:a.uri,name:a.name,images:f,color:y,authorName:a.authors?.[0]?.name??"",index:t,signifierText:a.accessInfo?.signifier?.text??void 0},s)}case"Episode":return(0,x.jsx)(i.B,{uri:e.uri,name:e.name,images:f,color:y,showImages:(0,g.Cn)(e),description:e.description??"",durationMilliseconds:e.duration.totalMilliseconds,releaseDate:(0,p.Bq)(e.releaseDate),resume_point:{resume_position_ms:e.playedState.playPositionMilliseconds,fully_played:e.playedState.state===m.sY.Completed},isExplicit:(0,p.sW)(e.contentRating),is19PlusOnly:(0,p.R7)(e.contentRating),sharingInfo:null,index:t},s);case"Playlist":{let a="";return"User"===e.ownerV2.data.__typename&&(a=e.ownerV2.data.name),(0,x.jsx)(o.Z,{uri:e.uri,name:e.name,images:f,color:y,description:e.description,authorName:a,index:t,isPlayable:!(0,d.T)(e?.attributes)},s)}case"Podcast":return(0,x.jsx)(l._,{uri:e.uri,name:e.name,images:f,color:y,publisher:e.publisher?.name??"",sharingInfo:null,mediaType:(0,p.x7)(e.mediaType),index:t},s);case"Track":return(0,x.jsx)(u.G,{uri:e.uri,name:e.name,images:f,color:y,artists:(0,p.mQ)(e.artists),album:e.albumOfTrack?{uri:e.albumOfTrack.uri,name:e.albumOfTrack.name}:null,isExplicit:(0,p.sW)(e.contentRating),is19PlusOnly:(0,p.R7)(e.contentRating),sharingInfo:null,index:t},s);case"User":return(0,x.jsx)(c.P,{uri:e.uri,name:e.name,images:f,color:y,index:t},s);default:return(0,h._)(e),null}}(e.content.data,t):null}function y(e){switch(e.__typename){case"AlbumResponseWrapper":case"ArtistResponseWrapper":case"EpisodeOrChapterResponseWrapper":case"PlaylistResponseWrapper":case"PodcastOrAudiobookResponseWrapper":case"TrackResponseWrapper":case"UserResponseWrapper":return!0;case"UnknownType":return!1;default:return(0,h._)(e),!1}}},8890:(e,t,s)=>{s.d(t,{Pd:()=>i,Wm:()=>r,i9:()=>n});var a=s(13803);const n=["artists","albums","episodes","genres","playlists","podcasts","audiobooks","tracks","users","topResults","podcastAndEpisodes"],r={artists:()=>a.ag.get("search.title.artists"),albums:()=>a.ag.get("search.title.albums"),playlists:()=>a.ag.get("search.title.playlists"),podcasts:()=>a.ag.get("search.title.shows"),episodes:()=>a.ag.get("search.title.episodes"),audiobooks:()=>a.ag.get("search.title.audiobooks"),users:()=>a.ag.get("search.title.profiles"),genres:()=>a.ag.get("search.title.genres-and-moods"),tracks:()=>a.ag.get("search.title.tracks"),podcastAndEpisodes:()=>a.ag.get("search.title.podcast-and-shows"),topResults:()=>a.ag.get("search.row.top-results")},i=["artists","albums","playlists","podcasts","episodes","audiobooks","users","genres"]},47387:(e,t,s)=>{s.d(t,{M:()=>A});var a=s(59496),n=s(84875),r=s.n(n),i=s(55411),o=s(31752),c=s(85830),l=s(7962),u=s(2988),d=s(77485),m=s(90643),p=s(62109),h=s(46721),g=s(13803),x=s(96377),f=s(2885),y=s(30549),j=s(71568),v=s(3199);const C="g3Xinb8x23n81ejvS9Uj",_="H6jh9Xd7DNOq3NsLDmCB",k="QO9loc33XC50mMRUCIvf",b="XD3TMuMHmKsfbqieC6q_",S="ZtY42R4YSo_W7VMeAg9m",N="t2K4_iLmAyDtH7mcT5Wy",I="mOLTJ2mxkzHJj6Y9_na_";var T=s(4637);const A=a.memo((function({isSearchChipsEnabled:e=!1,onSearch:t=!0,onClick:s}){const n=(0,o.TH)(),A=(0,o.s0)(),E=(0,a.useRef)(null),P=(0,a.useRef)(null),w=(0,i.I0)(),[{category:D,query:L},M]=(0,v.l)(),[O,R]=(0,a.useState)(L),U=!!D,B=(0,f.Mi)(),H=n.pathname.startsWith("/recent-searches"),W=U||H,{spec:F,logger:J}=(0,y.fU)(p.createDesktopSearchInputEventFactory,{}),q=(0,c.y1)(((t,s,a)=>{let n;if(a){const{interactionId:e}=J.logInteraction(a);n=e}e?M(t,D,!1,n):M(t,null,s,n),B.current&&(B.current.scrollTop=0)}),200),z=(0,a.useCallback)(((e=!1)=>{E.current!==document.activeElement&&(P.current=document.activeElement,E.current&&E.current.focus()),e&&E.current?.select()}),[]);(0,x.eY)(x.O4.SHOW_SEARCH,(()=>z(!0)));const V=n.pathname.startsWith("/search");(0,a.useEffect)((()=>{!W&&t&&V&&(e&&L||z())}),[L,z,n.key,t,V,W,e]),(0,a.useEffect)((()=>{R(V?L:"")}),[V,L]);return(0,T.jsxs)("div",{className:r()(C,{[b]:!t}),children:[(0,T.jsx)("form",{onSubmit:e=>{e.preventDefault(),O&&J.logInteraction(F.keyStrokeSearch());const t=(0,h.EC)(O);if(t?.type===h.JM.AD){const e=(0,h.HB)(t.id);if(t.id===e)return;w((0,j.HI)(t.id))}else t?A(t.toURLPath(!0),{state:{preventMoveFocus:!0}}):O||A("/search",{state:{preventMoveFocus:!0}});O&&B.current?.querySelector("h1, h2, h3, h4")?.focus()},role:"search",children:(0,T.jsx)(u.D,{variant:"mesto",as:"input",style:{color:l.Snx},ref:E,className:r()(k),value:O,maxLength:800,autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,onChange:e=>{const t=e.currentTarget.value,s=F.keyStrokeChangeSearchQuery({searchQueryString:t});R(t),q(t,W,s)},onKeyDown:e=>{if("Escape"===e.key)if(O){const e=F.hitTextClear();R(""),q("",W,e)}else E.current&&E.current.blur(),P.current instanceof HTMLElement&&P.current.focus()},placeholder:t?g.ag.get("search.search-for-label"):g.ag.get("navbar.search"),onFocus:()=>{e||!W&&t||q(O,W,null)},"data-testid":"search-input",onClick:s})}),(0,T.jsxs)("div",{className:N,children:[(0,T.jsx)("span",{className:_,children:(0,T.jsx)(d.j,{className:I,"aria-hidden":!0,iconSize:16})}),O&&(0,T.jsx)("button",{className:S,onClick:()=>{E.current&&E.current.focus();const e=F.hitTextClear();R(""),q("",W,e)},"aria-label":g.ag.get("search.a11y.clear-input"),children:(0,T.jsx)(m.k,{className:I,iconSize:16})})]})]})}))},3199:(e,t,s)=>{s.d(t,{l:()=>o});var a=s(59496),n=s(31752),r=s(8890);const i=e=>r.i9.find((t=>t===e));function o(){const e=(0,n.s0)(),t=(0,n.bS)("/search/:query"),s=(0,n.bS)("/search/:query/:category"),r=(0,a.useCallback)((function(t,s,a,n){const r=n?{interactionId:n,preventMoveFocus:!0}:{preventMoveFocus:!0},i=["/search"];t&&(i.push(encodeURIComponent(t)),s&&i.push(s));const o=i.join("/");e(o,a?{state:r}:{state:r,replace:!0})}),[e]);return[{query:function(e){try{return decodeURIComponent(e)}catch{return e}}(t?.params.query??s?.params?.query??""),category:i(s?.params.category)},r]}},42299:(e,t,s)=>{s.d(t,{x:()=>a.x});var a=s(24786)},57360:(e,t,s)=>{s.d(t,{Z:()=>a});const a={home:"uIJTvxFOg2izOY7aRRiU",content:"I3EivnXTjYMpSbPUiYEg"}}}]);
//# sourceMappingURL=home-v2.js.map