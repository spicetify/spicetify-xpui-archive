"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[2342],{37382:(e,n,i)=>{i.d(n,{E:()=>m});var a=i(24255),t=(i(25750),i(79075),i(26870),i(33208),i(93019),i(86978),i(98618),i(40905),i(79410),i(21105),i(72753),i(23351)),l=i(48882),d=i(46817),r=i(4637);function s(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,a)}return i}function o(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?s(Object(i),!0).forEach((function(n){(0,a.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var m=function(e){var n=e.album,i=e.index,a=e.artistURI;return(0,r.jsx)(t.ZP,{value:"card",index:i,children:(0,r.jsx)(d.i,o({index:i,latest:!1,showType:!0},(0,l.B$)(n,a,n.name)))})}},77402:(e,n,i)=>{i.d(n,{R:()=>m});i(3726),i(47408);var a=i(22056),t=i(23351),l=i(34728),d=i(48882),r=i(37382),s=i(44223),o=i(4637),m=function(e){var n=e.albums,i=e.artistName,m=e.artistId,c=e.artistUri,u=e.className;return n?(0,o.jsx)(t.ZP,{value:"shelf/albums",children:(0,o.jsx)(s.P,{total:n.totalCount,title:a.ag.get("rich-page.popular-albums-by-artist",{artist:i}),seeAllUri:"".concat((0,d.GJ)(m),":discography:").concat(l.VZ.Album.toLowerCase()),seeAllLabel:a.ag.get("artist-page.show-discography"),alwaysShowSeeAll:!0,className:u,children:(0,d.Hr)(n.items).map((function(e,n){return(0,o.jsx)(r.E,{album:e,index:n,artistURI:c},e.uri)}))})}):null}},2985:(e,n,i)=>{i.d(n,{V:()=>o});i(47408),i(25750);var a=i(22056),t=i(23351),l=i(48882),d=i(86431),r=i(44223),s=i(4637),o=function(e){var n=e.artistId,i=e.className,o=e.fansAlsoLike,m=e.title;return(0,s.jsx)(t.ZP,{value:"shelf/fans-also-like",children:(0,s.jsx)(r.P,{total:o.length,title:null!=m?m:a.ag.get("rich-page.fans-also-like"),seeAllUri:"".concat((0,l.GJ)(n),":related"),className:i,children:o.map((function(e,n){var i;return(0,s.jsx)(t.ZP,{value:"card",index:n,children:(0,s.jsx)(d.I,{index:n,uri:e.uri,name:e.profile.name,images:(null===(i=e.visuals.avatarImage)||void 0===i?void 0:i.sources)||[]})},e.uri)}))})})}},31928:(e,n,i)=>{i.d(n,{j:()=>m});i(47408);var a=i(59496),t=i(6042),l=i(47018),d=i(22056),r=i(68765),s=i(74501),o=i(4637),m=function(e){var n=e.artistName,i=e.artistUri,m=e.headerClassName,c=e.rowClassName,u=e.topTracks,k=e.topTracksTransformer,v=e.uri,S=(0,l.EC)(v),N=(0,a.useMemo)((function(){return null==u?void 0:u.items.map((function(e){return k(e,v)}))}),[null==u?void 0:u.items,k,v]),p=(0,r.n)({uri:i},{featureIdentifier:"artist"}).usePlayContextItem;return N&&N.length>0?(0,o.jsxs)("div",{className:c,children:[(0,o.jsxs)("div",{children:[(0,o.jsx)(t.D,{variant:"mesto",children:d.ag.get("rich-page.popular-tracks")}),(0,o.jsx)(t.D,{as:"h2",variant:"canon",semanticColor:"textBase",className:m,children:n})]}),(0,o.jsx)(s.k,{nrTracks:N.length,initialTracks:N,usePlayContextItem:p,parentEntityId:"track"===(null==S?void 0:S.type)?null==S?void 0:S.id:""})]}):null}},97127:(e,n,i)=>{i.d(n,{y:()=>m});i(3726),i(47408);var a=i(22056),t=i(23351),l=i(34728),d=i(48882),r=i(37382),s=i(44223),o=i(4637),m=function(e){var n=e.artistId,i=e.artistName,m=e.artistUri,c=e.className,u=e.singles;return u?(0,o.jsx)(t.ZP,{value:"shelf/singles-and-eps",children:(0,o.jsx)(s.P,{total:u.totalCount,title:a.ag.get("rich-page.popular-singles-and-eps-by-artist",{artist:i}),seeAllUri:"".concat((0,d.GJ)(n),":discography:").concat(l.VZ.Single.toLowerCase()),seeAllLabel:a.ag.get("artist-page.show-discography"),alwaysShowSeeAll:!0,className:c,children:(0,d.Hr)(u.items).map((function(e,n){return(0,o.jsx)(r.E,{album:e,index:n,artistURI:m},e.uri)}))})}):null}},19353:(e,n,i)=>{i.r(n),i.d(n,{default:()=>on});var a=i(88769),t=i(14942),l=i(26533),d=i.n(l),r=(i(15970),i(93019),i(84196),i(27586),i(56110),i(47785),i(4391),i(3761),i(30169),i(2840),i(25750),i(47408),i(66410),i(73566),i(3726),i(78390),i(68063),i(59496)),s=i(77646),o=i(92053),m=i(6042),c=i(86827),u=i(55457),k=i(61084),v=i(47018),S=i(22056),N=i(17913),p=i(97174),g=i(97921),b=i(46817),F=i(74964),y=i(86417),h=i(18805),f=i(53965),j=i(99567),x=i(27293),O=(i(79075),i(26870),i(33208),i(86978),i(98618),i(40905),i(79410),i(21105),i(72753),i(24255)),A=i(87906),D=i(32818),w=i(30377),C=i(80505),P=i(80244),I=i(48386),T=i(38402),U=i(4637),V=function(e){var n,i=e.children,a=e.content,t=e.onIntercept,l=void 0===t?function(){}:t,d=(0,T.g)();try{n=r.Children.only(i)}catch(e){return(0,U.jsx)(U.Fragment,{children:i})}return d?(0,U.jsx)(I.Nt,{trigger:"click",action:"open",placement:"bottom",offset:[0,20],content:a,children:r.cloneElement(n,{onClick:l})}):(0,U.jsx)(U.Fragment,{children:i})},Z=(i(53987),i(4655)),R=i(58844),E=i(72841),M=i(23351),L=i(88767),_=i(46596);const B="WHINADihyTCx2VFxwY8X";function q(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,a)}return i}function z(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?q(Object(i),!0).forEach((function(n){(0,O.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):q(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var H=function(e){var n=e.title,i=e.description,a=(0,s.I0)(),t=(0,E.qT)(),l=(0,_.o)();return(0,r.useEffect)((function(){l({intent:"open-upsell",type:"view"})}),[l]),(0,U.jsx)(I.yv,{children:(0,U.jsxs)("div",{className:B,children:[(0,U.jsx)(m.D,{as:"p",variant:"cello",children:n}),(0,U.jsx)(m.D,{as:"p",variant:"mesto",children:i}),(0,U.jsxs)("div",{children:[(0,U.jsx)(Z.o,{onClick:function(){l({intent:"close-upsell",type:"click"}),t({type:"close"})},children:S.ag.get("action-trigger.button.not-now")}),(0,U.jsx)(R.D,{onClick:function(){l({intent:"login",type:"click"}),a((0,L.sX)())},children:S.ag.get("login")})]})]})})},K=function(e){return(0,U.jsx)(M.ZP,{value:"tooltip-with-cta",children:(0,U.jsx)(H,z({},e))})},G=["uri"];function J(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,a)}return i}function Q(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?J(Object(i),!0).forEach((function(n){(0,O.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):J(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var Y=function(e){var n=e.uri,i=(0,A.Z)(e,G),a=(0,w.j5)();return(0,U.jsx)(V,{content:(0,U.jsx)(K,{title:S.ag.get("action-trigger.save-library"),description:S.ag.get("action-trigger.save-album")}),onIntercept:function(){return a.storeAction(D.wH,{operation:P.pT.ADD,uris:[n]})},children:(0,U.jsx)(C.H,Q({},i))})},X=i(93824),$=i(46220),W=i(863),ee={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryAlbumMerch"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"albumUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"merch"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"20"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"albumMerchItem"}}]}}]}}]}}]}}]}}].concat((0,$.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"albumMerchItem"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Merch"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"image"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"price"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}}]))},ne=i(73960);const ie="iEG0moJ3mt1_j9Lho7MA";var ae=function(e){var n,i,a,t,l=e.albumName,d=e.albumURI,r=(a={uri:d},t={cacheTime:5*W.y},(0,W.a)(ee,a,t)).data,s=null!=r&&r.albumUnion&&"merch"in r.albumUnion?null==r||null===(n=r.albumUnion)||void 0===n||null===(i=n.merch)||void 0===i?void 0:i.items:[];return s&&(null==s?void 0:s.length)>0?(0,U.jsx)("div",{className:"contentSpacing",children:(0,U.jsx)("div",{className:ie,children:(0,U.jsx)(ne.s,{id:l,uri:d,merchItems:s,merchVariant:"Album page merch items"})})}):null},te=i(49107),le=i(32318),de=i(38391),re=i(20031),se=i(55540),oe=i(13215),me=i(86494),ce=i(90974),ue=i(99654),ke=i(68765),ve=i(52852),Se=i(13034),Ne=i(34728),pe=i(83463),ge=i(38698),be=i(2183),Fe=i(25194),ye=i(68019),he=(i(95410),864e5),fe=365.25*he;var je=i(47807),xe=i(73075),Oe=i(52284),Ae=i(43252),De=i(15310),we=i(67618),Ce=i(92303),Pe=function(e){var n=e.releases;return(0,U.jsx)(we.v,{children:n.map((function(e){return(0,U.jsx)(Ce.s,{role:"menuitem",to:(0,v.EC)(e.uri).toURLPath(!0),children:e.name},e.uri)}))})},Ie=(i(43316),i(73630),i(39182)),Te={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getRichAlbum"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"albumUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"discography"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"richTopTracks"}},{kind:"FragmentSpread",name:{kind:"Name",value:"richPopularReleases"}},{kind:"FragmentSpread",name:{kind:"Name",value:"richAlbums"}},{kind:"FragmentSpread",name:{kind:"Name",value:"richSinglesAndEps"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"relatedContent"}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NotFound"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}}]}}]}}]}}].concat((0,$.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"richTopTracks"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ArtistDiscography"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"topTracks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"4"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"albumOfTrack"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"playcount"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}}]}}]}}]}}]}}]),(0,$.Z)(Ie.rD.definitions),(0,$.Z)(Ie.rA.definitions),(0,$.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"richPopularReleases"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ArtistDiscography"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"popularReleasesAlbums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"year"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}}]}}]),(0,$.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"richAlbums"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ArtistDiscography"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"albums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"releases"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"year"}}]}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}}]}}]}}]}}]}}]}}]),(0,$.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"richSinglesAndEps"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ArtistDiscography"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"singles"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"releases"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"year"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}}]}}]}}]}}]}}]}}]),(0,$.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"relatedContent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"relatedContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"relatedArtists"}},{kind:"FragmentSpread",name:{kind:"Name",value:"discoveredOn"}}]}}]}}]),(0,$.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"relatedArtists"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RelatedContent"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"relatedArtists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"20"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}}]}}]}}]}}]}}]),(0,$.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"discoveredOn"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RelatedContent"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"discoveredOnV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"20"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"images"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}}]}}]}}]}}]}}]}}]}}]))},Ue=i(77402),Ve=i(48882),Ze=i(81785),Re=i(44223);function Ee(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,a)}return i}var Me=function(e){var n=e.artistId,i=e.className,a=e.discoveredOn;if(!a)return null;var t=a.filter((function(e){return function(e){return"Playlist"===(null==e?void 0:e.__typename)}(e.data)})).map((function(e){return function(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?Ee(Object(i),!0).forEach((function(n){(0,O.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ee(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}({},e.data)}));return(0,U.jsx)(M.ZP,{value:"shelf/discovered-on",children:(0,U.jsx)(Re.P,{title:S.ag.get("discovered_on"),total:a.length,seeAllUri:"".concat((0,Ve.GJ)(n),":discovered-on"),className:i,children:t.map((function(e,n){var i,a,t,l=e;return(0,U.jsx)(Ze.Z,{index:n,uri:l.uri,name:l.name,authorName:l.name,description:l.description||"",images:(null===(i=l.images)||void 0===i||null===(a=i.items)||void 0===a||null===(t=a[0])||void 0===t?void 0:t.sources)||[]},l.uri)}))})})},Le=i(2985);function _e(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,a)}return i}function Be(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?_e(Object(i),!0).forEach((function(n){(0,O.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):_e(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var qe=function(e){var n=e.artistName,i=e.artistUri,a=e.className,t=e.popularReleases;return(0,U.jsx)(M.ZP,{value:"shelf/popular-releases",children:(0,U.jsx)(Re.P,{total:t.length,title:S.ag.get("rich-page.popular-releases-by-artist",{artist:n}),className:a,children:t.map((function(e,a){return(0,U.jsx)(M.ZP,{value:"card",index:a,children:(0,U.jsx)(b.i,Be({index:a,showType:!0},(0,Ve.B$)(e,i,n)))},e.uri)}))})})},ze=i(31928),He=i(97127),Ke=function(e,n){var i,a,t,l=e.track,d=l.uri,r=l.name,s=l.playcount,o=l.duration.totalMilliseconds,m=l.contentRating,c=l.artists.items,u=l.albumOfTrack,k=l.playability.playable;return{uri:d,contextUri:n,totalMilliseconds:o,name:r,contentRating:(null==m?void 0:m.label)||Ne.KS.None,isPlayable:k,playcount:parseInt(s||"0",10),artists:c.map((function(e){return{name:e.profile.name,uri:e.uri}})),imageUrl:null!=u&&null!==(i=u.coverArt)&&void 0!==i&&null!==(a=i.sources)&&void 0!==a&&a.length?null==u?void 0:u.coverArt.sources[0].url:"",albumUri:null!==(t=null==u?void 0:u.uri)&&void 0!==t?t:""}};const Ge="FKHM7enSR0Ny_2IocKZA";function Je(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,a)}return i}function Qe(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?Je(Object(i),!0).forEach((function(n){(0,O.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Je(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var Ye=(0,r.memo)((function(e){var n,i,a,t=e.artistId,l=e.artistName,d=e.artistUri,r=(0,o.UO)().albumId,s=void 0===r?"":r,m=(0,v.jy)(s).toURI(),c=(i={uri:m},(0,W.a)(Te,i,a));if(c.loading||null===(n=c.data)||void 0===n||!n.albumUnion)return(0,U.jsx)(x.h,{hasError:null!==c.error,errorMessage:S.ag.get("error.not_found.title.album")});var u=c.data.albumUnion.artists.items[0];if(!u)throw new Error("Missing artist in data.");var k=u.relatedContent,N=k.discoveredOnV2,p=k.relatedArtists,g=u.discography,b=g.topTracks,F=g.popularReleasesAlbums,y=g.albums,h=g.singles,f={artistId:t,artistName:l,artistUri:d};return(0,U.jsxs)("div",{className:"contentSpacing",children:[(0,U.jsx)(ze.j,{rowClassName:Ge,artistUri:d,artistName:l,topTracks:b,topTracksTransformer:Ke,uri:m}),(0,U.jsx)(qe,{className:Ge,artistUri:d,artistName:l,popularReleases:F.items}),(0,U.jsx)(Ue.R,Qe({albums:y,className:Ge},f)),(0,U.jsx)(He.y,Qe({singles:h,className:Ge},f)),(0,U.jsx)(Le.V,{artistId:t,className:Ge,fansAlsoLike:p.items}),(0,U.jsx)(Me,{className:Ge,discoveredOn:N.items,artistId:t})]})})),Xe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getAlbumMetadata"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"locale"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"albumUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"albumMetadataFull"}}]}}]}}]}}].concat((0,$.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"albumMetadataFull"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"albumArtists"}},{kind:"FragmentSpread",name:{kind:"Name",value:"albumCoverArt"}},{kind:"FragmentSpread",name:{kind:"Name",value:"albumDiscs"}},{kind:"FragmentSpread",name:{kind:"Name",value:"albumTracksMetadata"}},{kind:"FragmentSpread",name:{kind:"Name",value:"albumReleases"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}},{kind:"Field",name:{kind:"Name",value:"precision"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"label"}},{kind:"Field",name:{kind:"Name",value:"copyright"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"text"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"courtesyLine"}},{kind:"Field",name:{kind:"Name",value:"saved"}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},arguments:[{kind:"Argument",name:{kind:"Name",value:"customData"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"key"},value:{kind:"StringValue",value:"wpi",block:!1}},{kind:"ObjectField",name:{kind:"Name",value:"value"},value:{kind:"Variable",name:{kind:"Name",value:"locale"}}}]}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareUrl"}},{kind:"Field",name:{kind:"Name",value:"shareId"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"moreAlbumsByArtist"}}]}}]),(0,$.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"albumArtists"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},arguments:[{kind:"Argument",name:{kind:"Name",value:"customData"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"key"},value:{kind:"StringValue",value:"wpi",block:!1}},{kind:"ObjectField",name:{kind:"Name",value:"value"},value:{kind:"Variable",name:{kind:"Name",value:"locale"}}}]}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareUrl"}}]}}]}}]}}]}}]),(0,$.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"albumCoverArt"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"extractedColors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colorRaw"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}}]}},{kind:"Field",name:{kind:"Name",value:"colorLight"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}}]}},{kind:"Field",name:{kind:"Name",value:"colorDark"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]),(0,$.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"albumDiscs"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"discs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"}},{kind:"Field",name:{kind:"Name",value:"tracks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]}}]),(0,$.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"albumTracksMetadata"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tracks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}}]}}]}}]}}]}}]),(0,$.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"albumReleases"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"releases"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]),(0,$.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"moreAlbumsByArtist"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"moreAlbumsByArtist"},name:{kind:"Name",value:"artists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"discography"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"popularReleasesAlbums"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"10"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"year"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},arguments:[{kind:"Argument",name:{kind:"Name",value:"customData"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"key"},value:{kind:"StringValue",value:"wpi",block:!1}},{kind:"ObjectField",name:{kind:"Name",value:"value"},value:{kind:"Variable",name:{kind:"Name",value:"locale"}}}]}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareId"}},{kind:"Field",name:{kind:"Name",value:"shareUrl"}}]}},{kind:"Field",name:{kind:"Name",value:"type"}}]}}]}}]}}]}}]}}]}}]))};[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getAlbumContents"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"albumUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tracks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"albumTrack"}}]}}]}}]}}]}}]}}].concat((0,$.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"albumTrack"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ContextTrack"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uid"}},{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"albumTrackArtists"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"playcount"}},{kind:"Field",name:{kind:"Name",value:"saved"}},{kind:"Field",name:{kind:"Name",value:"discNumber"}},{kind:"Field",name:{kind:"Name",value:"trackNumber"}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareUrl"}},{kind:"Field",name:{kind:"Name",value:"shareId"}}]}}]}}]}}]),(0,$.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"albumTrackArtists"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artistsWithRoles"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"role"}},{kind:"Field",name:{kind:"Name",value:"artist"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]}}]));const $e="n8Bz0c0v17whD3KfMdOk",We="zddjxV2lX9ukNM5QXloA",en="lVqlPjQLuQhK2flsxB78",nn="O_EguRjsZ4uI1hHamkOA",an="jcaQQxoVnuuhtVwDJU1R",tn="fLS8v3_EfBadEerbGVoR",ln="in4OjUTflcsoj9RUpf05";var dn=r.lazy((function(){return i.e(4509).then(i.bind(i,74509))}));function rn(e){switch(e){case Ne.VZ.Single:return S.ag.get("single");case Ne.VZ.Ep:return S.ag.get("ep");case Ne.VZ.Compilation:return S.ag.get("compilation");case Ne.VZ.Album:default:return S.ag.get("album")}}var sn=function(e){var n,i,l,x,O,A,D,w,P,I,T,V,Z,R,E,M,L,B,q,z,H=e.uri,K=e.album,G=(0,o.TH)(),J=(0,_.o)(),Q=(0,le.k)(),$=(0,ue.y)(),W=(0,Se.fU)(k.createDesktopAlbumEventFactory,{data:{uri:H}}),ee=W.spec,ne=W.logger,ie=W.UBIFragment,ce=(0,r.useMemo)((function(){return ee.trackListFactory()}),[ee]),be=(0,r.useMemo)((function(){return ee.moreByArtistShelfFactory()}),[ee]),Oe=r.useMemo((function(){return ee.actionBarFactory()}),[ee]),we=null===(n=K.moreAlbumsByArtist)||void 0===n||null===(i=n.items[0])||void 0===i||null===(l=i.discography)||void 0===l||null===(x=l.popularReleasesAlbums)||void 0===x?void 0:x.items,Ce=(0,ue.Z)(H),Ie=(0,t.Z)(Ce,2),Te=Ie[0],Ue=Ie[1],Ve=(0,xe.E)(),Ze=(0,ve.vI)(pe.k.RichAlbumPage,G),Re=(0,v.EC)(H),Ee=Re?Re.id:"",Me=(0,s.v9)(Ae.Hw),Le=(0,Fe.FJ)(Me,Ee)||Ze,_e=parseInt(new URLSearchParams((0,o.TH)().search).get("index")||"0",10),Be=(0,te.Y)(H),qe=(0,ke.n)({uri:Be},{featureIdentifier:"album"}),ze=qe.usePlayContextItem,He=qe.togglePlay,Ke=qe.isPlaying,Ge=qe.isActive,Je=(0,r.useCallback)((function(){var e=(0,re.aK)({isPlaying:Ke,isActive:Ge,spec:Oe.playButtonFactory(),logger:ne,uri:H});He({loggingParams:e})}),[Ke,Ge,He,Oe,ne,H]),Qe=(0,r.useCallback)((0,a.Z)(d().mark((function e(){var n,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Oe.saveButtonFactory(),n=Te?i.hitDislike({itemToBeDisliked:H}):i.hitLike({itemToBeLiked:H}),ne.logInteraction(n),J({targetUri:H,intent:Te?"unsave":"save",type:"click"}),e.prev=4,e.next=7,Ue(!Te);case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(4);case 11:case"end":return e.stop()}}),e,null,[[4,9]])}))),[J,H,Te,Ue,Oe,ne]),Xe=(0,r.useCallback)((function(e,n){if(ee){var i=ee.headerFactory().artistNameFactory().hitUiNavigate({destination:n.creator.uri});ne.logInteraction(i)}}),[ne,ee]),sn=(0,r.useCallback)((function(){return new URLSearchParams(G.search.slice(1)).get("highlight")||""}),[G.search]),on=K.uri,mn=K.name,cn=K.type,un=null===(O=K.date)||void 0===O?void 0:O.isoString,kn=K.tracks.totalCount,vn=((null===(A=K.coverArt)||void 0===A?void 0:A.sources)||[]).map((function(e){return{url:e.url,width:e.width||void 0,height:e.height||void 0}})),Sn=null===(D=K.coverArt)||void 0===D||null===(w=D.extractedColors)||void 0===w?void 0:w.colorRaw.hex,Nn=K.artists.items.map((function(e){var n;return{name:e.profile.name,images:((null===(n=e.visuals.avatarImage)||void 0===n?void 0:n.sources)||[]).map((function(e){return{url:e.url,width:e.width||void 0,height:e.height||void 0}})),uri:e.uri,id:e.id}})),pn=Nn[0],gn=K.tracks.items.some((function(e){return e.track.playability.playable})),bn=K.playability.reason===Ne.Ku.CatalogueRestricted,Fn=(0,r.useMemo)((function(){return{total_count:K.discs.totalCount,items:K.discs.items.map((function(e){return{number:e.number,total_tracks:e.tracks.totalCount}}))}}),[K.discs]),yn=K.copyright.items,hn=K.courtesyLine,fn=K.tracks.items.reduce((function(e,n){return e+n.track.duration.totalMilliseconds}),0),jn=K.tracks.items.length>0?fn/K.tracks.items.length*K.tracks.totalCount:0,xn=K.tracks.items.length<K.tracks.totalCount,On=sn();(0,de.Y5)(Sn||null);var An=(0,r.useCallback)((function(){var e="".concat(mn," - ").concat(rn(cn)," by ").concat(Nn.map((function(e){return e.name})).join(S.ag.getSeparator())),n=S.ag.get("album.page-title",mn);return Le?e:n}),[mn,cn,Nn,Le]),Dn=(0,s.v9)(De.Gg),wn=null!==(P=null===(I=Dn.overrides)||void 0===I?void 0:I.locale)&&void 0!==P?P:Dn.locale,Cn=function(e){return(0,r.useMemo)((function(){if("DAY"===(null==e?void 0:e.precision)){var n=new Date(e.isoString),i=(new Date).getTime()-n.getTime(),a=i%fe;return a<3.5*he||a>312552e5?Math.round(i/fe):null}return null}),[e])}(K.date);return(0,U.jsxs)("section",{className:$e,"data-testid":"album-page",children:[(0,U.jsx)(y.$,{children:An()}),null!==Cn?(0,U.jsx)(r.Suspense,{fallback:null,children:(0,U.jsx)(dn,{colorLight:null===(T=K.coverArt)||void 0===T||null===(V=T.extractedColors)||void 0===V?void 0:V.colorLight.hex,colorDark:null===(Z=K.coverArt)||void 0===Z||null===(R=Z.extractedColors)||void 0===R?void 0:R.colorDark.hex,name:mn,years:Cn})}):null,(0,U.jsxs)(h.gF,{backgroundColor:Sn,children:[(0,U.jsxs)(f.W,{children:[(0,U.jsx)(X.$,{size:"md",onClick:function(){return He()},disabled:!gn,isPlaying:Ke,uri:H}),(0,U.jsx)(j.i,{text:mn,dragUri:H,dragLabel:mn})]}),(0,U.jsx)(se._P,{menu:(0,U.jsx)(F.Y,{uri:K.uri,artistUri:null==Nn||null===(E=Nn[0])||void 0===E?void 0:E.uri,sharingInfo:K.sharingInfo}),children:(0,U.jsx)(h.Oz,{dragUri:on,images:vn,name:mn,placeholderType:"album"})}),(0,U.jsxs)(h.sP,{children:[(0,U.jsx)(h.dy,{small:!0,uppercase:!0,children:rn(cn)}),(0,U.jsx)(se._P,{menu:(0,U.jsx)(F.Y,{uri:K.uri,artistUri:null==Nn||null===(M=Nn[0])||void 0===M?void 0:M.uri,sharingInfo:K.sharingInfo}),children:(0,U.jsx)(h.xd,{dragUri:K.uri,dragLabel:K.name,children:mn})}),(0,U.jsx)(h.QS,{creators:Nn,onCreatorClick:Xe,releaseDate:un,totalTracks:kn,durationMilliseconds:jn,isEstimatedDuration:xn})]})]}),(0,U.jsx)(N.o,{backgroundColor:Sn,children:(0,U.jsxs)(N.F,{children:[(0,U.jsx)(X.$,{onClick:Je,disabled:!gn,isPlaying:Ke,size:"lg",uri:H}),(0,U.jsx)(Y,{isAdded:!!Te,onClick:Qe,disabled:!(Q||null!=$&&$.getCapabilities().canModifyOffline),size:C.q.md,uri:H}),(0,U.jsx)(p.o,{uri:H,isFollowing:!!Te,onClick:function(e,n){return(0,re.l7)(n,Oe.downloadButtonFactory(),ne,H)},onFollow:Qe,size:p.q.md}),(0,U.jsx)(oe.y,{onShow:function(){return(0,re.qq)(Oe,ne)},menu:(0,U.jsx)(F.Y,{uri:K.uri,artistUri:null==Nn||null===(L=Nn[0])||void 0===L?void 0:L.uri,sharingInfo:K.sharingInfo}),children:(0,U.jsx)(g.z,{label:S.ag.get("more.label.context",mn)})})]})}),bn?(0,U.jsxs)("div",{className:We,children:[(0,U.jsx)(m.D,{as:"h2",variant:"cello",className:en,children:S.ag.get("windowed.product-album-header")}),(0,U.jsx)("div",{className:nn,children:S.ag.get("windowed.product-album-description")})]}):null,(0,U.jsxs)("div",{className:"contentSpacing",children:[(0,U.jsx)(ie,{spec:ce,children:(0,U.jsx)(ye.L,{ariaLabel:mn,nrTracks:kn,discs:Fn,albumUri:on,highlightUri:On,scrollToIndex:_e,usePlayContextItem:ze})}),(0,U.jsxs)("div",{className:ln,children:[(0,U.jsxs)("div",{children:[(null===(B=K.date)||void 0===B?void 0:B.isoString)&&(0,U.jsx)(m.D,{as:"p",variant:"mesto",children:(0,ge.BI)((0,ge.RX)(K.date.isoString),wn,{year:"numeric",month:"long",day:"numeric"})}),(0,U.jsx)(me.k,{copyrights:yn,courtesyLine:hn})]}),K.releases.items.length>0&&(0,U.jsx)(se.xV,{menu:(0,U.jsx)(Pe,{releases:K.releases.items}),children:function(e,n,i){return(0,U.jsxs)("button",{ref:i,className:tn,type:"button",onClick:n,children:[(0,U.jsx)(m.D,{variant:"mesto",children:S.ag.get("album-page.more-releases",K.releases.items.length)}),e?(0,U.jsx)(c.U,{iconSize:16}):(0,U.jsx)(u.i,{iconSize:16})]})}})]})]}),(0,U.jsx)(ae,{albumName:mn,albumURI:on}),Le&&Ve?(0,U.jsx)("div",{"data-testid":"rich-album",children:(0,U.jsx)(Ye,{artistId:null==pn?void 0:pn.id,artistName:null==pn?void 0:pn.name,artistUri:null==pn?void 0:pn.uri})}):(0,U.jsx)(U.Fragment,{children:(null==we?void 0:we.length)>0&&(0,U.jsx)("div",{className:"contentSpacing",children:(0,U.jsx)(ie,{spec:be,children:(0,U.jsx)(je.q,{index:0,id:"more-albums",className:an,title:S.ag.get("album-page.more-by-artist",null==Nn||null===(q=Nn[0])||void 0===q?void 0:q.name),total:we.length,seeAllUri:"".concat(null==Nn||null===(z=Nn[0])||void 0===z?void 0:z.uri.replace("artist","app:artist"),":discography"),seeAllLabel:S.ag.get("artist-page.show-discography"),alwaysShowSeeAll:!0,children:we.map((function(e,n){var i,a;return(0,U.jsx)(b.i,{index:n,artists:Nn,images:(null===(i=e.coverArt)||void 0===i?void 0:i.sources)||[],name:e.name,uri:e.uri,year:null===(a=e.date)||void 0===a?void 0:a.year,type:e.type,sharingInfo:e.sharingInfo},e.uri)}))})})})})]})};const on=r.memo((function(){var e,n,i=(0,o.UO)().albumId,a="spotify:album:".concat(i),t=(0,s.v9)(Oe.br),l=(0,s.v9)(De.Kd),d=(0,be.S9)({featureFlag:t,locale:l,entity:"album",type:"link"})?"".concat(ce.F0).concat(l):"",r=(e={uri:a,locale:d},n={cacheTime:15*W.y},(0,W.a)(Xe,e,n)),m=r.loading,c=r.error,u=r.data;return m||null==u||!u.albumUnion||"Album"!==u.albumUnion.__typename?(0,U.jsx)(x.h,{hasError:null!==c,errorMessage:S.ag.get("error.not_found.title.album")}):(0,U.jsx)(sn,{uri:a,album:u.albumUnion})}))},86494:(e,n,i)=>{i.d(n,{k:()=>d});i(47408),i(3761),i(68063),i(3726);var a=i(6042);const t="rTMkDBDp47Eo12ZEQv4U";var l=i(4637),d=function(e){var n=e.copyrights,i=e.courtesyLine,d=(n||[]).map((function(e,n){var i,t=e.text.replace(/^(\(C\)\s+)/,"").replace(/^(\(P\)\s+)/,"").replace(/^(©\s+)/,"").replace(/^(℗\s+)/,"");return i="C"===e.type?"©":"P"===e.type?"℗":"(".concat(e.type,")"),(0,l.jsx)(a.D,{as:"p",variant:"finale",dir:"auto",children:"".concat(i," ").concat(t)},n)}));return i&&d.unshift((0,l.jsx)(a.D,{as:"p",variant:"finale",dir:"auto",children:i},d.length)),(0,l.jsx)("div",{className:t,children:d})}}}]);
//# sourceMappingURL=xpui-routes-album.js.map