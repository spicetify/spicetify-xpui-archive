"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[3111],{7315:(e,r,t)=>{t.d(r,{l:()=>D});var n=t(24255),l=t(14942),i=(t(93019),t(84196),t(59496)),a=t(84875),o=t.n(a),s=t(77646),c=t(61813),u=t(2924),d=t(49023),p=t(1929);t(89004);function f(){var e=(0,i.useRef)(0);return(0,i.useCallback)((function(r){var t=r.currentTarget,n=t.style.scrollBehavior,l=!1,i=t.scrollLeft,a=r.clientX,o=0;function s(){cancelAnimationFrame(e.current),document.removeEventListener("wheel",c)}function c(){s(),t.style.scrollBehavior=n}function u(){t.scrollLeft+=o,o*=.95,Math.abs(o)>.5?e.current=requestAnimationFrame(u):c()}t.style.userSelect="none",t.style.scrollBehavior="auto",s();var d=function(e){var r=e.clientX-a;Math.abs(r)>10&&(l=!0);var n=t.scrollLeft;t.scrollLeft=i-r,o=t.scrollLeft-n};document.addEventListener("mousemove",d),document.addEventListener("mouseup",(function(){var r=function(e){e.preventDefault(),e.stopImmediatePropagation()};!0===l&&(t.addEventListener("click",r,{once:!0,capture:!0}),setTimeout((function(){t.removeEventListener("click",r,{capture:!0})}))),t.style.removeProperty("user-select"),document.removeEventListener("mousemove",d),s(),e.current=requestAnimationFrame(u),document.addEventListener("wheel",c,{once:!0})}),{once:!0})}),[])}const y="bMurPtRDRv5LuN78MTVG",g="KjPUGV8uMbl_0bvk9ePv",b="MUloQuW1xQawwVs0mDp4",v="OlnSvEViCZ_vVdnc3mSQ",m="FjMPyh7lOujDVYQRvp0H",x="ijZQH9pePkbB2MbJHCJV",h="XTk61Y8OkBdUT6Wj4F6i",j="VfDGbMWaJe9rcefizTNk";var O,E=t(4637);function S(e,r){(0,d.Bu)(e,r),r.scrollIntoView({block:"end",inline:"center"})}function I(e,r){var t=e.querySelector('[tabindex="0"]')||e.firstElementChild;t&&t instanceof HTMLElement&&(r===O.RIGHT&&t.nextElementSibling instanceof HTMLElement?S(t,t.nextElementSibling):r===O.LEFT&&t.previousElementSibling instanceof HTMLElement&&S(t,t.previousElementSibling))}!function(e){e[e.LEFT=-1]="LEFT",e[e.RIGHT=1]="RIGHT"}(O||(O={}));var D=function(e){var r,t=e.children,a=e.className,d=e.showButtons,S=void 0===d||d,D=e.ariaLabel,w=(0,i.useRef)(null),P=(0,i.useRef)(null),T=(0,i.useState)(!1),Z=(0,l.Z)(T,2),C=Z[0],L=Z[1],k=(0,i.useState)(!1),N=(0,l.Z)(k,2),F=N[0],R=N[1],A=(0,i.useCallback)((function(){if(w.current&&P.current){var e=w.current,r=P.current,t=e.scrollWidth-e.clientWidth,n=Math.ceil(Math.abs(e.scrollLeft)),l=r.offsetWidth>e.clientWidth;R(l&&0!==n),L(l&&n<t)}}),[]);(0,p.y)({refOrElement:P,observeOnly:"width",onResize:A}),(0,p.y)({refOrElement:w,observeOnly:"width",onResize:A});var _=i.Children.toArray(t).length;(0,i.useEffect)(A,[_,A]);var M,U,B,J=(0,i.useCallback)((function(e){var r=e*(w.current.clientWidth/2);w.current.scrollBy({left:r}),A()}),[A]),K=(0,s.v9)((function(e){var r,t;return null===(r=e.ui)||void 0===r||null===(t=r.textDirection)||void 0===t?void 0:t.isRTL})),Y=(0,i.useCallback)((function(e){"ArrowLeft"===e.key?(e.preventDefault(),I(w.current,K?O.RIGHT:O.LEFT)):"ArrowRight"===e.key&&(e.preventDefault(),I(w.current,K?O.LEFT:O.RIGHT))}),[K]),H=K?C:F,z=K?F:C,V=f(),W=(M=(0,i.useRef)(!0),U=(0,i.useRef)(null),B=(0,i.useRef)(null),(0,i.useCallback)((function(e){if(e.deltaY){var r=e.currentTarget;M.current&&(M.current=!1,U.current=r.style.scrollBehavior,r.style.scrollBehavior="auto"),r.scrollLeft+=e.deltaY+e.deltaX,B.current&&clearTimeout(B.current),B.current=setTimeout((function(){var e;M.current=!0,r.style.scrollBehavior=null!==(e=U.current)&&void 0!==e?e:""}),100)}}),[]));return(0,E.jsxs)("div",{className:o()(y,a),children:[(0,E.jsx)("div",{ref:w,className:o()(g,(r={},(0,n.Z)(r,v,z&&!H),(0,n.Z)(r,b,H&&!z),(0,n.Z)(r,m,H&&z),r)),onScroll:A,onKeyDown:Y,onMouseDown:V,onWheel:W,role:"list","aria-label":D,tabIndex:0,children:(0,E.jsx)("div",{ref:P,children:t})}),S&&(0,E.jsxs)("div",{className:x,dir:"ltr",children:[(0,E.jsx)("button",{className:o()(h,(0,n.Z)({},j,H)),tabIndex:-1,onClick:function(){return J(O.LEFT)},children:(0,E.jsx)(c.e,{semanticColor:"textBase",iconSize:16})}),(0,E.jsx)("button",{className:o()(h,(0,n.Z)({},j,z)),tabIndex:-1,onClick:function(){return J(O.RIGHT)},children:(0,E.jsx)(u.V,{semanticColor:"textBase",iconSize:16})})]})]})}},35501:(e,r,t)=>{t.d(r,{i:()=>b});var n=t(24255),l=t(84875),i=t.n(l),a=t(34720);const o="kwJGggri7IZMFvQEClUf",s="yt0QcQy0t7LfbeVaEJG_",c="WHMDRepGVQXXrTx3838g",u="wLoqasagmgNF8ULGMhil",d="cpC_03FZN3i93V8j3g0l",p="S7CXd4i9huhWL_kPV_e3",f="c85eTWJAYaGjCiwH1WDu",y="cTTgGuDbNSWllHjVqiUx";var g=t(4637),b=function(e){var r=e.className,t=e.leading,l=e.media,b=e.pretitle,v=e.title,m=e.subtitle,x=e.body,h=e.footer,j=e.trailing,O=e.onContextMenu,E=e.onTouchStart,S=e.onTouchEnd,I=e.onDragStart,D=e.onDoubleClick,w=(0,a.jh)();return(0,g.jsxs)("div",{className:i()(r,o),onContextMenu:O,onTouchStart:E,onTouchEnd:S,draggable:!0,onDragStart:I,onDoubleClick:D,children:[t?(0,g.jsx)("div",{className:s,children:t}):null,l?(0,g.jsx)("div",{className:c,children:l}):null,(0,g.jsxs)("div",{className:u,children:[b?(0,g.jsx)("div",{children:b}):null,v?(0,g.jsx)("div",{className:f,children:v}):null,m?(0,g.jsx)("div",{className:y,children:m}):null,x?(0,g.jsx)("div",{children:x}):null,h?(0,g.jsx)("div",{children:h}):null]}),j?(0,g.jsx)("div",{className:i()(d,(0,n.Z)({},p,w===a.Uo.MEDIUM)),children:j}):null]})}},17968:(e,r,t)=>{t.d(r,{S:()=>d});t(79075),t(26870),t(33208),t(93019),t(86978),t(98618),t(40905),t(79410),t(21105),t(72753);var n=t(24255),l=t(87906),i=t(28765);const a="fRZRXRIV2YBCFLYgwDAr";var o=t(4637),s=["iconSize"];function c(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function u(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?c(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var d=function(e){var r=e.iconSize,t=void 0===r?64:r,n=(0,l.Z)(e,s);return(0,o.jsx)("div",{className:a,children:(0,o.jsx)(i._,u(u({iconSize:t},n),{},{semanticColor:"textBrightAccent","aria-hidden":!0}))})}},11217:(e,r,t)=>{t.r(r),t.d(r,{YourLibraryX:()=>Mn});var n=t(46220),l=t(88769),i=t(24255),a=t(87906),o=t(14942),s=t(26533),c=t.n(s),u=(t(33208),t(93019),t(47408),t(67432),t(65232),t(79075),t(26870),t(86978),t(98618),t(40905),t(79410),t(21105),t(72753),t(59496)),d=t(84875),p=t.n(d),f=t(89130),y=t(77646),g=t(17657),b=t(72102),v=t(47018),m=t(24896),x=t(55185),h=t(4103),j=t(50683),O=t(85864),E=t(37833),S=t(84563),I=t(10277),D=t(76253),w=t(16020),P=t(6042),T=t(22056);const Z="wW9brXu3G3dR9CQ77Tyk",C="sgpkGFrp4dcnre_TJtaI";var L=t(4637),k=function(e){var r=e.className;return(0,L.jsx)("section",{className:p()(Z,r),children:(0,L.jsxs)("div",{className:C,children:[(0,L.jsx)(P.D,{as:"h2",variant:"canon",semanticColor:"textBase",children:T.ag.get("web-player.your-library-x.empty-state-folder-title")}),(0,L.jsx)(P.D,{as:"p",variant:"mesto",semanticColor:"textBase",children:T.ag.get("web-player.your-library-x.empty-state-folder-subtitle")})]})})},N=t(81434),F=t(58844),R=t(93711);const A="xi3ytXbuSuzCYy5LwjFu",_="OcOr6YadMDDeh_NPgClX",M="eL94fWmhg6WbrdKZfGEW";var U=(0,u.memo)((function(e){var r=e.message,t=e.title,n=e.linkTitle,l=e.linkTo,i=e.onClick,a=e.className;return(0,L.jsxs)("section",{className:p()(A,a),children:[(0,L.jsxs)("div",{className:_,children:[(0,L.jsx)(P.D,{variant:"balladBold",semanticColor:"textBase",children:t}),(0,L.jsx)(P.D,{variant:"mesto",semanticColor:"textBase",children:r})]}),(0,L.jsx)("div",{className:M,children:n&&(l||i)&&(0,L.jsx)(F.D,{className:M,as:i?"button":void 0,colorSet:"invertedLight",href:l,onClick:i,component:R.Z,buttonSize:"sm",children:n})})]})})),B=function(e){var r=e.className,t=(0,N.K)().createPlaylist,n=(0,u.useCallback)((function(){t()}),[t]);return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(U,{onClick:n,linkTitle:T.ag.get("web-player.your-library-x.empty-state-playlists-cta"),title:T.ag.get("web-player.your-library-x.empty-state-playlists-title"),message:T.ag.get("web-player.your-library-x.empty-state-playlists-subtitle"),className:r}),(0,L.jsx)(U,{linkTo:"/genre/podcasts-web",linkTitle:T.ag.get("web-player.your-library-x.empty-state-podcasts-browse"),title:T.ag.get("web-player.your-library-x.empty-state-podcasts-to-follow"),message:T.ag.get("web-player.your-library-x.empty-state-podcasts-keep-you-updated"),className:r})]})};t(3761),t(97274);const J="JouuH90_RNAdTj0ZjcCA",K="YtlFVHxvaGSz4vJdDdEa",Y="spFG_i1jkxOkxb1_SaLJ",H="_8ZKfG3dOxfcr9Yyy5cv";var z=function(e){var r=e.query,t=e.className;return(0,L.jsxs)("div",{className:p()(J,t),"data-testid":"no-search-results-view",children:[(0,L.jsx)(P.D,{as:"h1",variant:"cello",className:K,children:T.ag.get("web-player.your-library-x.empty-results-title-short").split(/(\{0\})/).map((function(e,t){return"{0}"===e?(0,L.jsx)("span",{className:Y,children:(0,L.jsx)("span",{className:H,children:r})},t):e}))}),(0,L.jsx)(P.D,{as:"h2",variant:"mesto",children:T.ag.get("web-player.your-library-x.empty-results-text-short")})]})},V=t(48733);const W="yrUQENj0tMcKDW5v0mfb",G="jsT0vJ8rWXPMeoFsMdNK";var X=function(e){var r=e.onClick;return(0,L.jsxs)("div",{className:W,children:[(0,L.jsx)("div",{className:"icon",children:(0,L.jsx)(V.l,{iconSize:48,semanticColor:"textBase"})}),(0,L.jsxs)("div",{className:G,children:[(0,L.jsx)(P.D,{as:"h2",variant:"canon",semanticColor:"textBase",children:T.ag.get("web-player.your-library-x.error-title")}),(0,L.jsx)(P.D,{as:"p",variant:"mesto",semanticColor:"textBase",children:T.ag.get("web-player.your-library-x.error-body")})]}),(0,L.jsx)("div",{children:(0,L.jsx)(F.D,{onClick:r,colorSet:"invertedLight",buttonSize:"sm",children:T.ag.get("web-player.your-library-x.error-button")})})]})},Q=(0,u.createContext)(null),$=(t(58549),t(24353),t(85675),t(3726),t(52336));var q,ee=function(e){var r=e.children,t=function(){var e=(0,$.z)("ylx-expanded-folders",[]),r=(0,o.Z)(e,2),t=r[0],l=r[1],i=(0,u.useCallback)((function(e){return t.includes(e)}),[t]),a=(0,u.useCallback)((function(e,r){var i=t.indexOf(e);if(r){if(-1!==i)return;l([].concat((0,n.Z)(t),[e]))}else{if(-1===i)return;l(t.filter((function(r){return r!==e})))}}),[t,l]);return{expandedFolders:t,getIsFolderExpanded:i,setIsFolderExpanded:a}}();return(0,L.jsx)(Q.Provider,{value:t,children:r})},re=(t(78390),t(25750),t(74895)),te=t(19723),ne=t(7315),le=t(49023),ie=t(94689),ae=(t(16109),t(86720),t(98372),t(89004),t(6201),t(27586),t(15970),t(81285),t(56110),t(69012),t(95518),t(47360)),oe=[v.JM.TRACK,v.JM.LOCAL_TRACK,v.JM.ALBUM,v.JM.ARTIST,v.JM.PLAYLIST,v.JM.PLAYLIST_V2,v.JM.FOLDER,v.JM.EPISODE,v.JM.SHOW];!function(e){e.ON="on",e.BEFORE="before",e.AFTER="after"}(q||(q={}));var se=(0,ae.y)(q);function ce(e){return oe.includes(e)}function ue(e,r,t){if(e.defaultPrevented)return null;var n=t.includes(q.BEFORE),l=t.includes(q.AFTER),i=q.ON;if(r instanceof HTMLElement&&(n||l)){var a=r.getBoundingClientRect(),o=a.top,s=a.height;t.includes(q.ON)&&n?e.clientY<Math.round(o)+s/4&&(i=q.BEFORE):i=e.clientY<Math.round(o)+s/2?q.BEFORE:q.AFTER}return t.includes(i)?i:null}var de=t(54465),pe=(t(46897),t(92199),t(38136),t(53987),t(43316),t(73630),t(53903),t(21586)),fe=t(53676);function ye(e,r){var t,n;return Array.from(null!==(t=null===(n=e.dataTransfer)||void 0===n?void 0:n.types)&&void 0!==t?t:[]).filter(fe.Fu).filter((function(e){var t=fe.UD[e];return!!ce(t)&&r.includes(t)})).map((function(e){return fe.UD[e]})).filter(ce)}t(73566),t(41631);var ge=t(11329);function be(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function ve(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?be(Object(t),!0).forEach((function(r){(0,i.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):be(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function me(e){var r=function(e,r){if("object"!==(0,de.Z)(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!==(0,de.Z)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"===(0,de.Z)(r)?r:String(r)}function xe(e,r,t){var l,o=ye(e,r),s=function(e,r){return e.split(/[\s,;]+/g).map((function(e){return(0,v.EC)(null==e?void 0:e.trim())})).filter(ge.K).reduce((function(e,t){var n;return ce(t.type)&&r.includes(t.type)?(e[n=t.type]||(e[n]=[]),e[t.type].push(t.toURI()),e):e}),{})}(null===(l=e.dataTransfer)||void 0===l?void 0:l.getData("text/plain"),r),c=Array.from(new Set([].concat((0,n.Z)(Object.keys(s)),(0,n.Z)(o)))).filter(ce),u=Object.fromEntries(c.map((function(r){var t,l,i,a,o=null!==(t=s[r])&&void 0!==t?t:[],c=null!==(l=null===(i=e.dataTransfer)||void 0===i||null===(a=i.getData(pe.aN[r]))||void 0===a?void 0:a.split("\n").filter(Boolean))&&void 0!==l?l:[];return[r,Array.from(new Set([].concat((0,n.Z)(c),(0,n.Z)(o))))]})));if(t){var d,p,f=v.JM.PLAYLIST,y=(u[f],(0,a.Z)(u,[f].map(me))),g=Array.from(new Set([].concat((0,n.Z)(null!==(d=u[v.JM.PLAYLIST_V2])&&void 0!==d?d:[]),(0,n.Z)((null!==(p=u[v.JM.PLAYLIST])&&void 0!==p?p:[]).map(he)))));return ve(ve({},y),g.length?(0,i.Z)({},v.JM.PLAYLIST_V2,g):null)}return u}function he(e){var r=(0,v.EC)(e);return(null==r?void 0:r.type)===v.JM.PLAYLIST?(0,v.FW)(r.id).toURI():e}const je={droppableUriTypes:"album artist episode folder playlist playlist-v2 show track local",useDropTarget:"ufICQKJq0XJE5iiIsZfj","useDropTarget--album":"vOp2HlcPkxOHebo3If32","useDropTarget--artist":"VNdHKKznHkpJ0VHoDmai","useDropTarget--episode":"ETclQEbcAcQdGdSioHaJ","useDropTarget--folder":"cuH8l_VHkTiz_NYVslQe","useDropTarget--playlist":"kXEKypZEUzxx9rNJy09C","useDropTarget--playlist-v2":"eZnAGhYcXE4Bt0a7958z","useDropTarget--show":"ratGUXdpLCkyXZNaJryg","useDropTarget--track":"caTDfb6Oj7a5_8jBLUSo","useDropTarget--local":"aRyoyQFJkzhoSOnf2ERM"};function Oe(e){var r=e.allowedURITypesByDropPosition,t=e.onDrop,n=e.onLongDragOver,l=e.longDragOverTimeout,i=void 0===l?1e3:l,a=(0,b.NY)((function(){return r}),[r]),s=Object.values(a).every((function(e){return e.includes(v.JM.PLAYLIST_V2)&&!e.includes(v.JM.PLAYLIST)})),c=(0,u.useState)(null),d=(0,o.Z)(c,2),p=d[0],f=d[1],y=(0,u.useCallback)((function(e){return Object.entries(a).filter((function(r){var t=(0,o.Z)(r,2),n=(t[0],t[1]);return ye(e,n).length>0})).map((function(e){return(0,o.Z)(e,1)[0]})).filter(se)}),[a]),g=(0,u.useRef)(0),m=(0,u.useRef)(null),x=(0,u.useRef)(null),h=(0,u.useCallback)((function(){x.current&&(window.clearTimeout(x.current),x.current=null)}),[]);(0,u.useEffect)(h,[h]);var j=(0,u.useCallback)((function(e){var r=y(e);r.length&&(f(ue(e,m.current,r)),e.dataTransfer&&!e.defaultPrevented&&(e.dataTransfer.dropEffect=r.includes(q.ON)?"copy":"move"),e.preventDefault())}),[y]),O=(0,u.useCallback)((function(e){y(e).length&&(e.preventDefault(),1==++g.current&&e.target instanceof HTMLElement&&(m.current=e.target,n&&(x.current=window.setTimeout(n,i))))}),[y,n,i]),E=(0,u.useCallback)((function(e){y(e).length&&0==--g.current&&(f(null),m.current=null,h())}),[y,h]),S=(0,u.useCallback)((function(e){var r=ue(e,m.current,y(e));if(!e.defaultPrevented&&r){var n,l=xe(e,null!==(n=a[r])&&void 0!==n?n:[],s);Object.keys(l).length&&t&&(t(l,r),e.preventDefault())}g.current=0,m.current=null,f(null),h()}),[y,a,s,t,h]);return{dropPosition:p,className:(0,u.useMemo)((function(){var e;return"".concat(je.useDropTarget," ").concat(null===(e=Array.from(new Set(Object.values(a).flat())))||void 0===e?void 0:e.map((function(e){var r;return null!==(r=je["useDropTarget--".concat(e)])&&void 0!==r?r:""})).join(" "))}),[a]),onDragEnter:O,onDragLeave:E,onDragOver:j,onDrop:S}}const Ee="oLOECYtBhVmBtyisKwew",Se="as7TWnIA1jnumFte_u0R",Ie="V57QBvW1q79gFmT8NBvz";var De=["filterId","isPrimaryFilter","isPlaceholder","resetFilterIds","toggleFilterId","allowedDropTargetURITypes","className","ChipComponent","innerRef"],we=["className","dropPosition"];function Pe(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function Te(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Pe(Object(t),!0).forEach((function(r){(0,i.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Pe(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var Ze={marginBlockEnd:0,willChange:"transform, opacity"},Ce=function(e){var r,t=e.filterId,n=e.isPrimaryFilter,l=e.isPlaceholder,o=e.resetFilterIds,s=e.toggleFilterId,c=e.allowedDropTargetURITypes,d=void 0===c?oe:c,f=e.className,y=e.ChipComponent,g=void 0===y?ie.A:y,b=e.innerRef,v=(0,a.Z)(e,De),m=v.selected,x=(0,u.useCallback)((function(){!t||m&&n?o():s(t)}),[t,m,n,o,s]),h=(0,u.useCallback)((function(e){e.detail>1||l||x()}),[l,x]),j=Oe({allowedURITypesByDropPosition:(0,i.Z)({},q.ON,d),onLongDragOver:x}),O=j.className,E=j.dropPosition,S=(0,a.Z)(j,we);return(0,L.jsx)(g,Te(Te(Te(Te({},v),{},{"aria-label":v["aria-label"]},S),E===q.ON?{selectedColorSet:"base"}:void 0),{},{className:p()(f,O,(r={},(0,i.Z)(r,Se,E===q.ON),(0,i.Z)(r,Ie,l),r)),onClick:h,selectedColorSet:E===q.ON?"invertedDark":"invertedLight",secondary:m&&!n,style:Ze,ref:b}))},Le=(t(95410),t(57782),function(e){(0,re.ST)({onUpdate:function(r){e.style.opacity=r.toString()}})}),ke=function(e,r,t){return(0,re.ST)({onUpdate:function(r){e.style.opacity=(1-Number(r)).toString()},onComplete:t}),function(){e.style.opacity="",t()}},Ne=function(e){var r=e.hideEnteringElements,t=e.animateEnteringElements,n=e.animateExitingElements,l=e.animateFlippedElements;r(),n(),l(),t()},Fe=[{id:"p1",name:"Playlists"},{id:"p2",name:"Podcasts & Shows"},{id:"p3",name:"Artists"},{id:"p4",name:"Albums"}],Re=(0,u.memo)((function(e){var r=e.availableFilters,t=e.selectedFilters,l=e.toggleFilterId,i=e.resetFilterIds,a=e.className,o=!(t||r),s=o?Fe:[].concat((0,n.Z)(null!=t?t:[]),(0,n.Z)(null!=r?r:[])),c=(0,u.useRef)(null),d=(0,u.useCallback)((function(){var e,r;(0,le.Bu)(c.current,(null===(e=c.current)||void 0===e?void 0:e.nextElementSibling)instanceof HTMLElement?null===(r=c.current)||void 0===r?void 0:r.nextElementSibling:null),i()}),[i]);return(0,L.jsx)(re.U5,{flipKey:s.map((function(e){return e.id})).join("|"),handleEnterUpdateDelete:Ne,children:(0,L.jsxs)(ne.l,{className:a,children:[!(null==t||!t.length)&&(0,L.jsx)(re.$3,{flipId:"clear-filter",onAppear:Le,onExit:ke,translate:!0,opacity:!0,children:(0,L.jsx)(Ce,{resetFilterIds:d,toggleFilterId:l,allowedDropTargetURITypes:Rn,ChipComponent:te.w,"aria-label":"Clear",innerRef:c})},"clear-filter"),s.map((function(e,r){var n=null==t?void 0:t.includes(e),a=0===r;return(0,L.jsx)(re.$3,{flipId:e.id,onAppear:Le,onExit:ke,translate:!0,opacity:!0,children:(0,L.jsx)(Ce,{filterId:e.id,isPrimaryFilter:a,isPlaceholder:o,resetFilterIds:i,toggleFilterId:l,selected:n,children:e.name})},e.id)}))]})})})),Ae=t(4655),_e=t(87740),Me=t(60058),Ue=t(61813),Be=t(48057),Je=t(1798),Ke=t(91769),Ye=t(71544),He=t(55540),ze=t(4899),Ve=t(73546),We=t(46472),Ge=t(62432),Xe=t(67618),Qe=t(92303),$e=function(e){var r=e.folderUri,t=(0,N.K)().createPlaylist,n=(0,I.lh)().createFolder,l=r?{after:{uri:r}}:{before:"start"};return(0,L.jsxs)(Xe.v,{children:[(0,L.jsx)(Qe.s,{onClick:function(){t(void 0,l)},role:"menuitem",icon:(0,L.jsx)(We.h,{iconSize:16}),iconPosition:"leading",children:T.ag.get("web-player.your-library-x.create.create-a-new-playlist")}),(0,L.jsx)(Qe.s,{onClick:function(){n(T.ag.get("web-player.your-library-x.default_folder_name"),l)},role:"menuitem",icon:(0,L.jsx)(Ge.P,{iconSize:16}),iconPosition:"leading",children:T.ag.get("web-player.your-library-x.create.create-a-playlist-folder")})]})},qe=["className","dropPosition"];function er(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function rr(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?er(Object(t),!0).forEach((function(r){(0,i.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):er(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var tr=function(e){var r=e.className,t=void 0===r?"":r,n=e.folderUri,l=e.tooltipPlacement,o=T.ag.get("web-player.your-library-x.create.button-label"),s=(0,N.K)(),c=s.createPlaylistFromAlbum,d=s.createPlaylistFromTracks,f=s.createPlaylistFromPlaylist,y=Oe({allowedURITypesByDropPosition:(0,i.Z)({},q.ON,[v.JM.TRACK,v.JM.ALBUM,v.JM.PLAYLIST_V2]),onDrop:(0,u.useCallback)((function(e){var r=e[v.JM.TRACK],t=e[v.JM.ALBUM],n=e[v.JM.PLAYLIST_V2],l=void 0===n?[]:n;null!=r&&r.length&&d(r,{before:"start"}),null!=t&&t.length&&c(t[0],{before:"start"}),l.length&&f(l[0],{before:"start"})}),[c,f,d])}),g=y.className,b=y.dropPosition,m=(0,a.Z)(y,qe);return(0,L.jsx)(He.xV,{renderInline:!0,menu:(0,L.jsx)($e,{folderUri:n}),preventScrollingWhileOpen:!1,children:function(e,r,n){return(0,L.jsx)(Ye._,{label:o,placement:l,children:(0,L.jsx)(Ae.o,rr({ref:n,iconOnly:Ve.S,className:p()(t,g,(0,i.Z)({},Se,b===q.ON)),"aria-label":o,onClick:r,buttonSize:"sm"},m))})}})},nr=t(38649),lr=t(42554);const ir="_4JcTGCbNeqSDgdBfKdfy",ar="wB8ig1vfWJiTattGsxKX";var or=function(){var e=(0,lr.W)(),r=e.syncing,t=e.percentage,n=e.currentItem,l=e.totalItems;return r?(0,L.jsxs)("div",{className:ir,children:[(0,L.jsxs)("div",{className:ar,children:[(0,L.jsx)(P.D,{variant:"mestoBold",semanticColor:"textBase",children:T.ag.get("web-player.your-library-x.download-progress-title")}),(0,L.jsx)(P.D,{variant:"mestoBold",semanticColor:"textBase",children:T.ag.get("web-player.your-library-x.download-progress-count-out-of-total",n,l)})]}),(0,L.jsx)(nr.k,{value:t})]}):null},sr=t(80123),cr=t(4420),ur=t(91682);function dr(){var e=(0,u.useContext)(ur.fo).setFilter,r=(0,$.z)("opened-folder-uri",void 0),t=(0,o.Z)(r,2),n=t[0],l=t[1];return{openedFolderUri:n,setOpenedFolderUri:(0,u.useCallback)((function(r){l(r),e("")}),[l,e])}}const pr="UvXqRORKQr_N3jlgGTcS",fr="j8iKBDzqTDtnDv4XbmrK",yr="RAWO6AczuDMOTI0qAc0a",gr="OMCDc2F7g_AufJAtaKfL",br="ksmcxhImUuj3_s1lcIm0",vr="O2Vp_sNHMLHUcgMPVnOA",mr="WYU7SXdABSulyirnmIYb",xr="DF8qJeKP7CRNb13tJeJg";var hr=function(e){var r=e.className,t=e.isLibraryCompletelyEmpty,n=e.parentFolderUri,l=e.folderName,a=(0,cr.LP)(),o=a.leftSidebarIsCollapsed,s=a.ylxState,c=a.setYlxState,d=(0,I.lh)().renameFolder,f=dr(),y=f.openedFolderUri,g=f.setOpenedFolderUri,b=!o||t&&o,v=(0,u.useCallback)((function(){c(s===cr.c$.COLLAPSED?cr.c$.DEFAULT:cr.c$.COLLAPSED)}),[s,c]),m=(0,u.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";y&&d({uri:y},e)}),[y,d]),x=(0,u.useCallback)((function(){g(n)}),[n,g]),h=(0,ze.cR)(null!=y?y:"not-a-folder").isActive,j=y?(0,L.jsx)(sr.A,{reference:{uri:y},name:l,onRename:m,onDeleteCallback:x}):null;return(0,L.jsxs)("header",{className:p()(pr,r,(0,i.Z)({},vr,o)),children:[(0,L.jsx)(or,{}),(0,L.jsxs)("div",{className:fr,children:[(0,L.jsx)(Ye._,{label:o?T.ag.get("web-player.your-library-x.expand-your-library"):T.ag.get("web-player.your-library-x.collapse-your-library"),placement:o?"right":void 0,children:(0,L.jsx)(Ae.o,{"aria-label":o?T.ag.get("web-player.your-library-x.expand-your-library"):T.ag.get("web-player.your-library-x.collapse-your-library"),iconOnly:o?_e.$:Me.n,onClick:v,className:p()(gr,yr)})}),!o&&(0,L.jsx)(L.Fragment,{children:y?(0,L.jsxs)("div",{className:mr,children:[(0,L.jsx)(Ae.o,{"aria-label":T.ag.get("web-player.your-library-x.navigate-back-folder"),onClick:x,iconOnly:Ue.e,buttonSize:"sm",className:gr}),(0,L.jsx)(He._P,{menu:j,children:(0,L.jsx)(P.D,{variant:"balladBold",semanticColor:h?"textBrightAccent":"textBase",className:xr,children:l})})]}):(0,L.jsx)(P.D,{variant:"balladBold",semanticColor:"textBase",children:T.ag.get("web-player.your-library-x.your-library")})}),b&&(0,L.jsx)(tr,{className:p()(br,gr),folderUri:y,tooltipPlacement:o?"right":void 0}),y&&(0,L.jsx)(He.yj,{menu:j,children:(0,L.jsx)("span",{children:(0,L.jsx)(Ye._,{label:T.ag.get("more.label.context",l),children:(0,L.jsx)(Ae.o,{className:gr,iconOnly:Be.N,"aria-haspopup":"menu","aria-label":T.ag.get("more.label.context",l),buttonSize:"sm"})})})}),(s===cr.c$.DEFAULT||s===cr.c$.EXPANDED)&&(0,L.jsx)(Ye._,{label:s===cr.c$.DEFAULT?T.ag.get("web-player.your-library-x.expand-your-library"):T.ag.get("web-player.your-library-x.collapse-your-library"),children:(0,L.jsx)(Ae.o,{className:gr,iconOnly:s===cr.c$.DEFAULT?Je.E:Ke.D,"aria-label":s===cr.c$.DEFAULT?T.ag.get("web-player.your-library-x.expand-your-library"):T.ag.get("web-player.your-library-x.collapse-your-library"),onClick:function(){c(s===cr.c$.DEFAULT?cr.c$.EXPANDED:cr.c$.DEFAULT)},buttonSize:"sm"})})]})]})},jr=t(88107),Or=t(97018),Er=t(23731),Sr=t(51690),Ir=t(74964),Dr=t(96714),wr=t(96234),Pr=t(3777),Tr=t(68765),Zr=(t(86499),t(92053)),Cr=t(35501);const Lr="e5qQNU02pEY3d315iDOC";var kr=function(e){var r=e.folderDepth,t=void 0===r?0:r;return(0,L.jsx)("li",{className:Lr,style:{"--ylx-folder-depth":t}})};const Nr="xFfODpPkWh3RFEif2u_b",Fr="kv4Mj5FTpBW6fWD10NhI",Rr="p2NI7AGpy5BWL6TSVIOb",Ar="zcFmKgU1VJFEt7QXEQ9N",_r="uqcGV_T5xRcWDEMJoGNG",Mr="yOc9v5MGaitl1r9UpHKg",Ur="P2siDCCdfpelJSQDo7ov",Br="Z2BXDPtMtuJ9hFPs2DR_",Jr="nKLGCHG03_iLOz_vnJ8f",Kr="gQX_uIhDHRU7D49YnMEQ",Yr="Um4h5vvUjPQVwLR25iqA",Hr="epapS3x39tacSs2tzxQg",zr="KJSnrGMgiqVxEfxLNNG0";var Vr=["uri","to","handleNavigate","title","subtitle","trailing","media","alt","folderDepth","className","dragLabel","onDragStart","allowedDropTargetURITypesByDropPosition","onDropTargetDrop","onLongDragOver","style","menu","openDeleteDialog","togglePlay"],Wr=["dropPosition","className"];function Gr(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function Xr(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Gr(Object(t),!0).forEach((function(r){(0,i.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Gr(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var Qr={state:{preventMoveFocus:!0}},$r=(0,u.memo)((function(e){var r,t,n,l=e.uri,o=e.to,s=void 0===o?(null===(r=(0,v.EC)(l))||void 0===r?void 0:r.toURLPath(!0))||"":o,c=e.handleNavigate,d=e.title,f=e.subtitle,y=e.trailing,g=e.media,b=e.alt,m=e.folderDepth,x=e.className,h=e.dragLabel,j=e.onDragStart,O=e.allowedDropTargetURITypesByDropPosition,E=void 0===O?{}:O,S=e.onDropTargetDrop,I=e.onLongDragOver,D=e.style,w=e.menu,P=e.openDeleteDialog,T=e.togglePlay,Z=(0,a.Z)(e,Vr),C=(0,Zr.s0)(),k=(0,cr.LP)().leftSidebarIsCollapsed,N=(0,u.useCallback)((function(){C(s,Qr)}),[C,s]),F=(0,u.useCallback)((function(){c?c():s&&C(s,Qr)}),[c,C,s]),R=(0,u.useCallback)((function(){null==T||T()}),[T]),A=!(null===(t=(0,Zr.bS)(s))||void 0===t||!t.pattern.end),_=(0,pe.O1)([l],h),M=Oe({allowedURITypesByDropPosition:E,onDrop:S,onLongDragOver:null!=I?I:N}),U=M.dropPosition,B=M.className,J=(0,a.Z)(M,Wr),K=(0,u.useCallback)((function(e){e.repeat||("Backspace"!==e.key&&"Delete"!==e.key||!P||P(),"Enter"===e.key&&e.shiftKey&&T&&(e.preventDefault(),T()))}),[P,T]),Y=(0,L.jsxs)(jr.E,Xr(Xr(Xr({style:Xr({"--ylx-folder-depth":k?0:m},D),draggable:!!h,onDragStart:function(e){null==j||j(e),_(e)},onDoubleClick:R,className:p()(Nr,x,B,(n={},(0,i.Z)(n,Ee,U===q.ON),(0,i.Z)(n,Fr,A),n))},Z),J),{},{onKeyDown:K,children:[(0,L.jsx)(Cr.i,{onDragStart:function(){},media:k?(0,L.jsx)(Pr.default,{to:s,title:b,children:g}):g,title:k?void 0:d,subtitle:k?void 0:f,trailing:k?void 0:y}),(0,L.jsx)(He._P,{menu:w,children:(0,L.jsx)("div",{className:Rr,onClick:F,tabIndex:-1,role:"none",onDoubleClick:R})})]}));return(0,L.jsxs)(L.Fragment,{children:[U===q.BEFORE&&(0,L.jsx)(kr,{folderDepth:m}),k?(0,L.jsx)(Ye._,{label:(0,L.jsxs)("div",{className:p()("encore-dark-theme",zr),children:[(0,L.jsxs)("div",{children:[d,f]}),y]}),placement:"right",showDelay:0,children:Y}):Y,U===q.AFTER&&(0,L.jsx)(kr,{folderDepth:m})]})})),qr=t(23300),et=t(47247),rt=function(e){var r=e.title,t=e.type,n=e.images;return(0,L.jsx)(qr.O,{images:n,shape:qr.K.ROUNDED_CORNERS,size:et.m$.SIZE_48,type:t,title:r})},tt=t(13233);const nt="bxJDbq82i5ARV9u42eIM",lt="F5pO15_Vn37D_EfHb0v9";var it=function(){return(0,L.jsx)("span",{className:nt,children:(0,L.jsx)(tt.w,{iconSize:16,semanticColor:"textBrightAccent",className:lt})})},at=function(e){var r=e.leading,t=e.subtitle;return(0,L.jsxs)("div",{className:Ur,children:[r,(0,L.jsx)(P.D,{variant:"mesto",semanticColor:"textSubdued",className:Br,children:t})]})},ot=t(35407),st=function(e){var r=e.uri,t=e.playbackUri,n=void 0===t?r:t,l=e.title,i=e.menu,a=e.handleNavigate,o=(0,u.useContext)(ur.fo).filter,s=(0,ze.cR)(n).isActive;return a?(0,L.jsx)("button",{onClick:a,className:Hr,children:(0,L.jsx)(P.D,{variant:"ballad",semanticColor:s?"textBrightAccent":"textBase",children:(0,L.jsx)(wr.o,{autoEscape:!0,searchWords:[o.trim()],textToHighlight:l})})}):(0,L.jsx)(ot._,{menu:i,children:(0,L.jsx)(Pr.Link,{to:r,className:Mr,children:(0,L.jsx)(P.D,{variant:"ballad",semanticColor:s?"textBrightAccent":"textBase",children:(0,L.jsx)(wr.o,{autoEscape:!0,searchWords:[o.trim()],textToHighlight:l})})})})},ct=t(25793),ut=function(e){return e.pinned?(0,L.jsx)(ct.t,{semanticColor:"textBrightAccent",iconSize:16,title:T.ag.get("web-player.your-library-x.pinned"),className:Kr}):null},dt=function(e){var r,t,n,l,i=e.libraryItem,a=e.shouldShowType,o=i.uri,s=i.artists,c=i.images,d=i.name,p=i.pinned,f=i.type,g=(0,u.useContext)(ur.fo).filter,b=(0,y.I0)(),v=(0,Tr.n)({uri:o},{featureIdentifier:"album",referrerIdentifier:"your_library"}).togglePlay,m=(0,ze.cR)(o).isPlaying,x=(0,u.useCallback)((function(){b((0,Sr.YU)(o))}),[b,o]),h=(0,L.jsx)(rt,{title:d,type:f,images:c}),j=(0,L.jsx)(Ir.Y,{uri:o,isPinnable:!0,isPinned:i.pinned,useDialogForUnfollow:!0}),O=(0,L.jsx)(st,{uri:o,title:d,menu:j}),E=(0,L.jsx)(at,{leading:(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(ut,{pinned:p}),(0,L.jsx)(Dr.$,{uri:o,size:16,className:Kr})]}),subtitle:(0,L.jsxs)(L.Fragment,{children:[a&&"".concat(T.ag.get("web-player.your-library-x.type-album")," • "),(0,L.jsx)(Pr.Link,{to:null!==(r=null===(t=s.at(0))||void 0===t?void 0:t.uri)&&void 0!==r?r:"",className:Jr,children:(0,L.jsx)(wr.o,{searchWords:[g.trim()],textToHighlight:null!==(n=null===(l=s.at(0))||void 0===l?void 0:l.name)&&void 0!==n?n:""})})]})}),S=m&&(0,L.jsx)(it,{});return(0,L.jsx)($r,{uri:o,media:h,title:O,subtitle:E,trailing:S,alt:d,dragLabel:d,menu:j,togglePlay:v,openDeleteDialog:x})},pt=t(41001),ft=function(e){var r=e.libraryItem,t=e.shouldShowType,n=r.uri,l=r.images,i=r.name,a=r.pinned,o=r.type,s=(0,y.I0)(),c=(0,Tr.n)({uri:n},{featureIdentifier:"artist",referrerIdentifier:"your_library"}).togglePlay,d=(0,ze.cR)(n).isPlaying,p=(0,u.useCallback)((function(){s((0,Sr.YU)(n))}),[s,n]),f=(0,L.jsx)(rt,{title:i,type:o,images:l}),g=(0,L.jsx)(pt.m,{uri:n,isPinnable:!0,isPinned:r.pinned,useDialogForUnfollow:!0}),b=(0,L.jsx)(st,{uri:n,title:i,menu:g}),v=(0,L.jsx)(at,{leading:(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(ut,{pinned:a}),(0,L.jsx)(Dr.$,{uri:n,size:16,className:Kr})]}),subtitle:t&&T.ag.get("web-player.your-library-x.type-artist")}),m=d&&(0,L.jsx)(it,{});return(0,L.jsx)($r,{uri:n,media:f,title:b,subtitle:v,trailing:m,alt:i,dragLabel:i,menu:g,togglePlay:c,openDeleteDialog:p})},yt=t(81700),gt=function(e){var r=e.libraryItem,t=e.shouldShowType,n=r.uri,l=r.authorName,i=r.images,a=r.name,o=r.pinned,s=r.type,c=(0,u.useContext)(ur.fo).filter,d=(0,y.I0)(),p=(0,ze.cR)(n).isPlaying,f=(0,Tr.n)({uri:n},{featureIdentifier:"audiobook",referrerIdentifier:"your_library"}).togglePlay,g=(0,u.useCallback)((function(){d((0,Sr.YU)(n))}),[d,n]),b=(0,L.jsx)(rt,{title:a,type:s,images:i}),v=(0,L.jsx)(yt.X,{uri:n,isPinnable:!0,isPinned:r.pinned,useDialogForUnfollow:!0}),m=(0,L.jsx)(st,{uri:n,title:a,menu:v}),x=(0,L.jsx)(at,{leading:(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(ut,{pinned:o}),(0,L.jsx)(Dr.$,{uri:n,size:16,className:Kr})]}),subtitle:(0,L.jsxs)(L.Fragment,{children:[t&&"".concat(T.ag.get("web-player.your-library-x.type-audiobook")," • "),(0,L.jsx)(wr.o,{searchWords:[c.trim()],textToHighlight:l})]})}),h=p&&(0,L.jsx)(it,{});return(0,L.jsx)($r,{uri:n,media:b,title:m,subtitle:x,trailing:h,alt:a,dragLabel:a,menu:v,togglePlay:f,openDeleteDialog:g})},bt=t(86827),vt=t(55457),mt=t(88984);function xt(){var e=(0,mt.o)(),r=(0,u.useCallback)(function(){var r=(0,l.Z)(c().mark((function r(t,n){var l;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.contains(t);case 2:if(l=r.sent,1===new Set(l).size){r.next=5;break}throw new Error("Dropping a mix of newly added and moved playlists is not supported");case 5:if(!l[0]){r.next=13;break}if(!(t.length>1)){r.next=9;break}throw new Error("Moving multiple playlists at once is not supported");case 9:return r.next=11,e.move({uri:t[0]},n);case 11:r.next=15;break;case 13:return r.next=15,e.add(t,n);case 15:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}(),[e]);return r}function ht(){var e=(0,N.K)(),r=e.createPlaylistFromAlbum,t=e.createPlaylistFromTracks,i=(0,mt.o)(),a=xt(),o=(0,u.useCallback)(function(){var e=(0,l.Z)(c().mark((function e(l,o){var s,u,d,p,f,y,g,b,m,x,h,j,O;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=l[v.JM.TRACK],u=void 0===s?[]:s,d=l[v.JM.LOCAL_TRACK],p=void 0===d?[]:d,f=l[v.JM.ALBUM],y=void 0===f?[]:f,g=l[v.JM.EPISODE],b=void 0===g?[]:g,m=l[v.JM.PLAYLIST_V2],x=void 0===m?[]:m,h=l[v.JM.FOLDER],j=void 0===h?[]:h,O={after:{uri:o}},!x.length){e.next=7;break}return e.next=5,a(x,O);case 5:e.next=8;break;case 7:y.length?r(y[0],O):u.length||p.length||b.length?t([].concat((0,n.Z)(u),(0,n.Z)(p),(0,n.Z)(b)),O):j.length&&i.moveFolder({uri:j[0]},O);case 8:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}(),[a,r,t,i]);return{handleDropOnFolder:o}}var jt=[v.JM.PLAYLIST_V2,v.JM.FOLDER];function Ot(){var e=(0,mt.o)(),r=xt(),t=(0,u.useCallback)(function(){var t=(0,l.Z)(c().mark((function t(n,l,i){var a,o,s,u,d,p;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=n[v.JM.PLAYLIST_V2],o=void 0===a?[]:a,s=n[v.JM.FOLDER],u=void 0===s?[]:s,!o.length||!u.length){t.next=5;break}throw new Error("Dropping a mix of playlists and folders is not supported");case 5:if(!(u.length>1)){t.next=7;break}throw new Error("Dropping multiple folders is not supported");case 7:if(d=l===q.BEFORE?{before:{uri:i}}:{after:{uri:i}},!(p=u.at(0))){t.next=14;break}return t.next=12,e.moveFolder({uri:p},d);case 12:t.next=17;break;case 14:if(!o.length){t.next=17;break}return t.next=17,r(o,d);case 17:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),[e,r]);return t}function Et(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}var St=function(e){var r,t,n=e.libraryItem,a=n.uri,s=n.folderDepth,d=n.name,p=n.numberOfFolders,f=n.numberOfPlaylists,g=n.pinned,b=n.type,m=n.canReorder,x=n.isFlattened,h=function(e){var r=(0,u.useContext)(Q),t=r.getIsFolderExpanded,n=r.setIsFolderExpanded;return[(0,u.useMemo)((function(){return t(e)}),[t,e]),(0,u.useCallback)((function(r){n(e,r)}),[n,e])]}(a),j=(0,o.Z)(h,2),O=j[0],E=j[1],S=dr().setOpenedFolderUri,D=(0,y.I0)(),w=(0,u.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),E(!O)}),[E,O]),P=(0,Tr.n)({uri:a},{featureIdentifier:"folder",referrerIdentifier:"your_library"}).togglePlay,Z=ht().handleDropOnFolder,C=Ot(),k=(0,I.lh)().renameFolder,N=(0,u.useMemo)((function(){var e;return function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Et(Object(t),!0).forEach((function(r){(0,i.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Et(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}((0,i.Z)({},q.ON,[v.JM.TRACK,v.JM.LOCAL_TRACK,v.JM.ALBUM,v.JM.EPISODE,v.JM.PLAYLIST_V2,v.JM.FOLDER]),m&&(e={},(0,i.Z)(e,q.BEFORE,jt),(0,i.Z)(e,q.AFTER,jt),e))}),[m]),F=(0,u.useCallback)(function(){var e=(0,l.Z)(c().mark((function e(r,t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t===q.ON?Z(r,a):t!==q.BEFORE&&t!==q.AFTER||C(r,t,a);case 1:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}(),[Z,C,a]),R=(0,u.useCallback)((function(){E(!0)}),[E]),A=(0,u.useCallback)((function(e){e.stopPropagation()}),[]),_=[f>0||!p?T.ag.get("web-player.your-library-x.rows.folder.number-of-playlists",f):null,p>0?T.ag.get("web-player.your-library-x.rows.folder.number-of-folders",p):null].filter(ge.K).join(T.ag.getSeparator()),M=(0,u.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";k(n,e)}),[n,k]),U=(0,u.useCallback)((function(){S(n.uri)}),[n,S]),B=(0,u.useCallback)((function(){D((0,Sr.Q2)(a))}),[D,a]),J=(0,L.jsx)(sr.A,{reference:{uri:a},name:d,isPinnable:!0,isPinned:g,onRename:M}),K=(0,L.jsx)(rt,{title:d,type:b}),Y=(0,L.jsx)(st,{uri:a,title:d,menu:J,handleNavigate:U}),H=(0,L.jsx)(at,{leading:(0,L.jsx)(ut,{pinned:g}),subtitle:_}),z=!x&&(0,L.jsx)(Ae.o,{"aria-label":O?T.ag.get("web-player.your-library-x.collapse-folder"):T.ag.get("web-player.your-library-x.expand-folder"),iconOnly:O?bt.U:vt.i,buttonSize:"sm",condensedAll:!0,onClick:w,onDoubleClick:A,tabIndex:-1,className:_r});return(0,L.jsx)($r,{uri:a,to:"/folder/".concat(null!==(r=null===(t=(0,v.EC)(a))||void 0===t?void 0:t.id)&&void 0!==r?r:""),handleNavigate:U,folderDepth:s,media:K,title:Y,subtitle:H,trailing:z,alt:d,dragLabel:d,menu:J,allowedDropTargetURITypesByDropPosition:N,onDropTargetDrop:F,onLongDragOver:R,togglePlay:P,openDeleteDialog:B})},It=t(23351),Dt=t(91824),wt=u.memo((function(e){var r=e.uri,t=e.isPinned;return(0,L.jsx)(It.ZP,{value:"generic",children:(0,L.jsx)(Xe.v,{children:(0,L.jsx)(Dt.X,{uri:r,isPinned:t,type:w.p.PLAYLIST})})})})),Pt=t(15310),Tt=function(e){var r=e.libraryItem,t=e.shouldShowType,l=(0,y.v9)(Pt.Gg).user,a=(0,v.wG)(null==l?void 0:l.id).toURI(),o=a,s=a,c=a,d="spotify:collection:tracks",p=r.images,f=r.name,g=r.numberOfSongs,b=r.pinned,m=r.type,x=(0,Tr.n)({uri:o},{featureIdentifier:"your_library",referrerIdentifier:"your_library"}).togglePlay,h=(0,u.useContext)(E.H),j=(0,ze.cR)(o).isPlaying,O=(0,u.useMemo)((function(){return(0,i.Z)({},q.ON,[v.JM.TRACK])}),[]),S=(0,u.useCallback)((function(e){var r=e[v.JM.TRACK],t=void 0===r?[]:r;null!=t&&t.length&&(null==h||h.add.apply(h,(0,n.Z)(t)))}),[h]),I=(0,L.jsx)(rt,{title:f,type:m,images:p}),D=(0,L.jsx)(wt,{uri:s,isPinned:r.pinned}),w=(0,L.jsx)(st,{uri:d,playbackUri:o,title:f,menu:D}),P=(0,L.jsx)(at,{leading:(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(ut,{pinned:b}),(0,L.jsx)(Dr.$,{uri:c,size:16,className:Kr})]}),subtitle:(0,L.jsxs)(L.Fragment,{children:[t&&"".concat(T.ag.get("web-player.your-library-x.type-playlist")," • "),T.ag.get("web-player.your-library-x.rows.liked-songs.subtitle",g)]})}),Z=j&&(0,L.jsx)(it,{});return(0,L.jsx)($r,{uri:d,media:I,title:w,subtitle:P,trailing:Z,alt:f,dragLabel:f,menu:D,allowedDropTargetURITypesByDropPosition:O,onDropTargetDrop:S,togglePlay:x})},Zt=t(33363),Ct=t(17968),Lt=t(78217),kt=t(34437),Nt=function(e){var r=e.libraryItem,t=e.shouldShowType,n=kt.b,l=(0,Lt.gB)().uri,i=r.uri,a=r.name,o=r.numberOfFiles,s=r.pinned,c=(0,ze.cR)(n).isPlaying,u=(0,L.jsx)("div",{className:Ar,children:(0,L.jsx)(Ct.S,{iconSize:24,title:a})}),d=(0,L.jsx)(wt,{uri:i,isPinned:r.pinned}),p=(0,L.jsx)(st,{uri:l,playbackUri:n,title:a,menu:d}),f=(0,L.jsx)(at,{leading:(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(ut,{pinned:s}),(0,L.jsx)(Zt.E,{iconSize:16,className:Kr,semanticColor:"textBrightAccent"})]}),subtitle:"".concat(t?"".concat(T.ag.get("web-player.your-library-x.type-playlist")," • "):"").concat(T.ag.get("web-player.your-library-x.rows.local-files.subtitle",o))}),y=c&&(0,L.jsx)(it,{});return(0,L.jsx)($r,{uri:l,media:u,title:p,subtitle:f,trailing:y,alt:a,dragLabel:a,menu:d})},Ft=t(3624),Rt=t(74136);function At(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function _t(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?At(Object(t),!0).forEach((function(r){(0,i.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):At(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var Mt=function(e){var r=e.libraryItem,t=e.shouldShowType,a=r.uri,o=r.images,s=r.isLoading,d=r.folderDepth,p=r.name,f=r.owner,g=r.pinned,b=r.type,m=r.canAddTo,x=r.canReorder,h=(0,u.useContext)(I.ZF),j=(0,u.useContext)(ur.fo).filter;(0,u.useEffect)((function(){s&&h.resync(a)}),[h,a,s]);var O=(0,Tr.n)({uri:a},{featureIdentifier:"playlist",referrerIdentifier:"your_library"}).togglePlay,E=(0,ze.cR)(a).isPlaying,S=Ot(),D=(0,y.I0)(),w=(0,u.useMemo)((function(){var e;return _t(_t({},m&&(0,i.Z)({},q.ON,[v.JM.TRACK,v.JM.LOCAL_TRACK,v.JM.ALBUM,v.JM.EPISODE])),x&&(e={},(0,i.Z)(e,q.BEFORE,jt),(0,i.Z)(e,q.AFTER,jt),e))}),[m,x]),P=(0,u.useCallback)(function(){var e=(0,l.Z)(c().mark((function e(r,t){var l,i,o,s,u,d,p,f,y;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t===q.ON?(l=r[v.JM.TRACK],i=void 0===l?[]:l,o=r[v.JM.LOCAL_TRACK],s=void 0===o?[]:o,u=r[v.JM.ALBUM],d=void 0===u?[]:u,p=r[v.JM.EPISODE],f=void 0===p?[]:p,y=[].concat((0,n.Z)(i),(0,n.Z)(s),(0,n.Z)(d),(0,n.Z)(f)),D((0,Ft.jV)(a,y))):t!==q.BEFORE&&t!==q.AFTER||S(r,t,a);case 1:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}(),[D,a,S]),Z=(0,u.useCallback)((function(){D((0,Sr.p_)(a))}),[D,a]),C=(0,L.jsx)(rt,{title:p,type:b,images:o}),k=(0,L.jsx)(Rt.j,{reference:r,isPinnable:!0,isPinned:g,useDialogForUnfollow:!0}),N=(0,L.jsx)(st,{uri:a,title:p,menu:k}),F=(0,L.jsx)(at,{leading:(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(ut,{pinned:g}),(0,L.jsx)(Dr.$,{uri:a,size:16,className:Kr})]}),subtitle:(0,L.jsxs)(L.Fragment,{children:[t&&"".concat(T.ag.get("web-player.your-library-x.type-playlist")," • "),f.uri?(0,L.jsx)(Pr.Link,{to:f.uri,className:Jr,children:(0,L.jsx)(wr.o,{searchWords:[j.trim()],textToHighlight:f.name})}):(0,L.jsx)(wr.o,{searchWords:[j.trim()],textToHighlight:f.name})]})}),R=E&&(0,L.jsx)(it,{});return(0,L.jsx)($r,{uri:a,folderDepth:d,media:C,title:N,subtitle:F,trailing:R,alt:p,dragLabel:p,menu:k,allowedDropTargetURITypesByDropPosition:w,onDropTargetDrop:P,togglePlay:O,openDeleteDialog:Z})},Ut=t(56080),Bt=function(e){var r=e.libraryItem,t=e.shouldShowType,n=r.uri,l=r.images,i=r.name,a=r.pinned,o=r.publisher,s=r.type,c=(0,u.useContext)(ur.fo).filter,d=(0,y.I0)(),p=(0,Tr.n)({uri:n},{featureIdentifier:"show",referrerIdentifier:"your_library"}).togglePlay,f=(0,ze.cR)(n).isPlaying,g=(0,u.useCallback)((function(){d((0,Sr.YU)(n))}),[d,n]),b=(0,L.jsx)(rt,{title:i,type:s,images:l}),v=(0,L.jsx)(Ut.M,{uri:n,isPinnable:!0,isPinned:r.pinned,useDialogForUnfollow:!0}),m=(0,L.jsx)(st,{uri:n,title:i,menu:v}),x=(0,L.jsx)(at,{leading:(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(ut,{pinned:a}),(0,L.jsx)(Dr.$,{uri:n,size:16,className:Kr})]}),subtitle:(0,L.jsxs)(L.Fragment,{children:[t&&"".concat(T.ag.get("web-player.your-library-x.type-show")," • "),(0,L.jsx)(wr.o,{autoEscape:!0,searchWords:[c.trim()],textToHighlight:o})]})}),h=f&&(0,L.jsx)(it,{});return(0,L.jsx)($r,{uri:n,media:b,title:m,subtitle:x,trailing:h,alt:i,dragLabel:i,menu:v,togglePlay:p,openDeleteDialog:g})},Jt=function(e){var r=e.libraryItem,t=(0,y.v9)(Pt.Gg).user,l=(0,v.wG)(null==t?void 0:t.id,"your-episodes").toURI(),a=l,o=l,s="spotify:collection:your-episodes",c=(0,Tr.n)({uri:a},{featureIdentifier:"episode",referrerIdentifier:"your_library"}).togglePlay,d=r.images,p=r.name,f=r.numberOfDownloadedEpisodes,g=r.pinned,b=r.type,m=(0,ze.cR)(a).isPlaying,x=(0,u.useContext)(E.H),h=(0,u.useMemo)((function(){return(0,i.Z)({},q.ON,[v.JM.EPISODE])}),[]),j=(0,u.useCallback)((function(e){var r=e[v.JM.EPISODE],t=void 0===r?[]:r;null!=t&&t.length&&(null==x||x.add.apply(x,(0,n.Z)(t)))}),[x]),O=(0,L.jsx)(rt,{title:p,type:b,images:d}),S=(0,L.jsx)(wt,{uri:o,isPinned:r.pinned}),I=(0,L.jsx)(st,{uri:s,playbackUri:a,title:p,menu:S}),D=(0,L.jsx)(at,{leading:(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(ut,{pinned:g}),f?(0,L.jsx)(Zt.E,{iconSize:16,className:Kr,semanticColor:"textBrightAccent"}):null]}),subtitle:T.ag.get("web-player.your-library-x.subtitle-your-episodes")}),w=m&&(0,L.jsx)(it,{});return(0,L.jsx)($r,{uri:s,media:O,title:I,subtitle:D,trailing:w,alt:p,dragLabel:p,menu:S,allowedDropTargetURITypesByDropPosition:h,onDropTargetDrop:j,togglePlay:c})},Kt=u.memo((function(e){var r=e.libraryItem,t=e.primaryFilter;switch(r.type){case w.p.FOLDER:return(0,L.jsx)(St,{libraryItem:r});case w.p.ALBUM:return(0,L.jsx)(dt,{libraryItem:r,shouldShowType:t!==w.p.ALBUM});case w.p.ARTIST:return(0,L.jsx)(ft,{libraryItem:r,shouldShowType:t!==w.p.ARTIST});case w.p.AUDIOBOOK:return(0,L.jsx)(gt,{libraryItem:r,shouldShowType:t!==w.p.AUDIOBOOK});case w.p.SHOW:return(0,L.jsx)(Bt,{libraryItem:r,shouldShowType:t!==w.p.SHOW});case w.p.PLAYLIST:return(0,L.jsx)(Mt,{libraryItem:r,shouldShowType:t!==w.p.PLAYLIST});case w.p.LIKED_SONGS:return(0,L.jsx)(Tt,{libraryItem:r,shouldShowType:t!==w.p.PLAYLIST});case w.p.YOUR_EPISODES:return(0,L.jsx)(Jt,{libraryItem:r});case w.p.LOCAL_FILES:return(0,L.jsx)(Nt,{libraryItem:r,shouldShowType:t!==w.p.PLAYLIST});default:return(0,Er._)(r),null}})),Yt=function(e){var r=e.height;return(0,L.jsx)(jr.E,{className:Yr,style:{height:r}})},Ht=function(e){var r=e.getItems,t=e.scrollNodeRef,n=e.primaryFilter,l=e.nrValidItems,i=(0,u.useCallback)((function(e){return(0,L.jsx)(Kt,{libraryItem:e,primaryFilter:n},e.uri)}),[n]),a=(0,u.useCallback)((function(e,r){return(0,L.jsx)(Yt,{height:e},r)}),[]),o=(0,u.useCallback)((function(e,t){return r(e,t).map((function(r,t){return r?i(r):a("".concat(64,"px"),"".concat(e+t))}))}),[r,i,a]);return(0,L.jsx)(jr.A,{circular:!1,children:(0,L.jsx)(Or.V,{renderRows:o,nrRows:l,rowHeight:64,scrollNodeRef:t,renderPlaceholder:a})})},zt=(t(7232),t(83590)),Vt=t(87995),Wt=t(24814),Gt=t(37630);const Xt="oszTUDKpXrPHyeWPs276",Qt="cKHK53VIATgkMZYQDfol",$t="QMGfkFWtxrVkgNgFXDyw";var qt=function(e){var r,t,n=e.id,l=e.title,i=e.bodyText,a=e.children,s=e.root,c=e.show,d=e.childrenWrapperClassName,p=(0,$.z)("onboarding-dismissed:".concat(n),!1),f=(0,o.Z)(p,2),y=f[0],g=f[1],b=(0,u.useState)(null),v=(0,o.Z)(b,2),m=v[0],x=v[1],h=(0,u.useState)(null),j=(0,o.Z)(h,2),O=j[0],E=j[1],S=(0,u.useCallback)((function(){return g(!0)}),[g]);(0,u.useEffect)((function(){if(y)return function(){};var e=function(e){"Escape"===e.key&&S()};return window.addEventListener("keydown",e,!0),function(){window.removeEventListener("keydown",e,!0)}}),[y,S,O]);var I=null==m?void 0:m.getBoundingClientRect();return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("span",{ref:x,className:d,children:a}),!y&&I&&c&&(0,Vt.createPortal)((0,L.jsx)("div",{className:Xt,style:{top:null!==(r=null==I?void 0:I.top)&&void 0!==r?r:0,left:null!==(t=null==I?void 0:I.left)&&void 0!==t?t:0,width:null==I?void 0:I.width,height:null==I?void 0:I.height},ref:E,children:(0,L.jsxs)(Gt.J,{popoverTitle:l,arrow:Gt.J.left,colorSet:"announcement",className:Qt,children:[(0,L.jsx)(P.D,{as:"p",dangerouslySetInnerHTML:{__html:i||""}}),(0,L.jsx)(Ae.o,{buttonSize:"sm",onClick:S,iconOnly:Wt.k,"aria-label":T.ag.get("close"),className:$t,size:16})]})}),s||document.body)]})};const en="RGofdOZulhL2p9MRA5hg",rn="XZRX_ea9eNn4rOLpNGLp";var tn=function(e){var r,t,n,l=e.sortOrders,i=e.activeSortOrderId,a=e.setActiveSortOrderId,o=e.root,s=e.showReorderingOnboarding,c=null!==(r=l.find((function(e){return e.id===i})))&&void 0!==r?r:null==l?void 0:l.at(0),d=(0,u.useRef)(null);return(0,L.jsx)("div",{className:en,ref:d,children:(0,L.jsx)(qt,{id:"ylx-playlist-ordering",bodyText:T.ag.get("web-player.your-library-x.custom-ordering-onboarding-text"),root:o,show:s,childrenWrapperClassName:rn,children:(0,L.jsx)(zt.A,{options:l.map((function(e){return{key:e.id,value:e.name}})),onSelect:a,selected:{key:null!==(t=null==c?void 0:c.id)&&void 0!==t?t:"",value:null!==(n=null==c?void 0:c.name)&&void 0!==n?n:""},heading:T.ag.get("web-player.your-library-x.sort_by")})})})},nn=t(99654),ln=t(4086);var an=function(e){var r=e.clearOnEscapeInElementRef,t=e.primaryFilter,n=(0,nn.y)(),l=function(e){switch(e){case w.p.ALBUM:return T.ag.get("web-player.your-library-x.text-filter.albums-placeholder");case w.p.ARTIST:return T.ag.get("web-player.your-library-x.text-filter.artists-placeholder");case w.p.PLAYLIST:return T.ag.get("web-player.your-library-x.text-filter.playlists-placeholder");case w.p.SHOW:return T.ag.get("web-player.your-library-x.text-filter.shows-placeholder");case w.p.AUDIOBOOK:return T.ag.get("web-player.your-library-x.text-filter.audiobooks-placeholder");case"downloaded":return T.ag.get("web-player.your-library-x.text-filter.downloaded-placeholder");case void 0:return T.ag.get("web-player.your-library-x.text-filter.generic-placeholder");default:return void(0,Er._)(e)}}(t);return(0,L.jsx)(ln.K,{placeholder:l,clearOnEscapeInElementRef:r,debounceFilterChangeTimeout:null!=n&&n.getCapabilities().canTextFilterContentsInRealtime?0:void 0})},on=t(71522),sn=t(32318);var cn=t(71212),un=t(80244),dn=t(65659);function pn(){var e=(0,u.useState)(!1),r=(0,o.Z)(e,2),t=r[0],n=r[1],l=(0,u.useState)(0),i=(0,o.Z)(l,2),a=i[0],s=i[1];return(0,dn.b)(un.EW.UPDATE_PIN_ERROR,(function(e){s(e.data.maximumPinnedItems),n(!0)})),t?(0,L.jsx)(cn.w,{headingMessage:T.ag.get("web-player.your-library-x.pin-error.title"),message:T.ag.get("web-player.your-library-x.pin-error.message",a),buttonLabel:T.ag.get("web-player.your-library-x.pin-error.ok"),isOpen:t,onDismissDialog:function(){return n(!1)}}):null}function fn(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function yn(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?fn(Object(t),!0).forEach((function(r){(0,i.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):fn(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var gn,bn=t(64166),vn=t(22924),mn=t(75991),xn=(gn={},(0,i.Z)(gn,un.XD.ALBUMS,w.p.ALBUM),(0,i.Z)(gn,un.XD.ARTISTS,w.p.ARTIST),(0,i.Z)(gn,un.XD.BOOKS,w.p.AUDIOBOOK),(0,i.Z)(gn,un.XD.EPISODES,w.p.EPISODE),(0,i.Z)(gn,un.XD.SHOWS,w.p.SHOW),(0,i.Z)(gn,un.XD.TRACKS,w.p.TRACK),gn);function hn(e,r){var t=(0,u.useCallback)((function(t){var n=t.data.list;jn(e,xn[n])&&r()}),[e,r]);(0,dn.b)(un.EW.UPDATE,t),(0,dn.b)(un.EW.UPDATE_PIN,r);var n=(0,u.useCallback)((function(){jn(e,w.p.PLAYLIST)&&r()}),[e,r]);(0,I.iu)(n),function(e){(0,u.useEffect)((function(){var r=(0,mn.k)(),t=/^hm:\/\/collection\/ylpin\//;return r.matchMessages(t,e),function(){r.unmatchMessages(t,e)}}),[e])}(r),function(e){var r=(0,u.useContext)(vn.t),t=r.getEvents();(0,u.useEffect)((function(){return t.addListener(bn.p.UPDATE,e),function(){t.removeListener(bn.p.UPDATE,e)}}),[r,t,e])}(r)}function jn(e,r){switch(e){case w.p.ALBUM:case w.p.ARTIST:case w.p.AUDIOBOOK:case w.p.SHOW:return e===r;case w.p.PLAYLIST:switch(r){case w.p.TRACK:case w.p.PLAYLIST:case w.p.EPISODE:return!0;default:return!1}default:return!0}}const On="PpUTJL2NIYDUnmfzVIbE",En="kJ_Q4aphh_uCJCZdzPpD",Sn="dNphEfQzPRaQufS04jUm",In="_0FuodatXU4_fToYAuYtY",Dn="_K79lE9KrIAkl_bUSSUM",wn="ifVI2CEdOZGgMWIUN2Cw",Pn="MLbFLVC33caOj3FgSQMC",Tn="HUFl7FOi5oAlMEZNCBf4",Zn="y2UicQnlTq148rL8Y0jp";var Cn=["dropPosition","className"],Ln=["offset","limit","items"];function kn(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function Nn(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?kn(Object(t),!0).forEach((function(r){(0,i.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):kn(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var Fn={items:[],totalLength:0},Rn=[v.JM.TRACK,v.JM.ALBUM,v.JM.ARTIST,v.JM.PLAYLIST_V2,v.JM.SHOW,v.JM.EPISODE],An=[v.JM.TRACK,v.JM.LOCAL_TRACK,v.JM.ALBUM,v.JM.EPISODE,v.JM.PLAYLIST_V2],_n=function(){var e,r,t,s,d,y,m,x,D,P,T,Z,C=(0,u.useContext)(ur.fo).filter,N=(0,u.useState)(null),F=(0,o.Z)(N,2),R=F[0],A=F[1],_=function(e){var r=(0,$.z)("ylx-active-filter-ids",[]),t=(0,o.Z)(r,2),n=t[0],l=t[1],i=(0,u.useRef)(!0),a=(0,b.jP)((function(r){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=new Set(e);n.has(r)?n.delete(r):n.add(r),i.current=t,l(Array.from(n))}),[e,l]),s=(0,u.useCallback)((function(){return l([])}),[l]);return{filtersPickedByUserRef:i,selectedFilterIds:n,resetFilterIds:s,toggleFilterId:a}}(null!==(e=null==R||null===(r=R.selectedFilters)||void 0===r?void 0:r.map((function(e){return e.id})))&&void 0!==e?e:[]),M=_.filtersPickedByUserRef,U=_.selectedFilterIds,J=_.resetFilterIds,K=_.toggleFilterId,Y=null==U?void 0:U[0],H=(m=Y,x=(0,$.z)("ylx-active-sort-order-by-filter-id",{}),D=(0,o.Z)(x,2),P=D[0],T=D[1],Z="".concat(m),{selectedSortOrderId:P[Z],setSelectedSortOrderId:(0,u.useCallback)((function(e){T(yn(yn({},P),{},(0,i.Z)({},Z,e)))}),[Z,P,T])}),V=H.selectedSortOrderId,W=H.setSelectedSortOrderId,G=(0,u.useRef)(null),ee=(0,u.useContext)(Q).expandedFolders,re=dr(),te=re.openedFolderUri,ne=re.setOpenedFolderUri,le=(0,S.I)(),ie=(0,u.useContext)(E.H),ae=(0,I.lh)().addPlaylists,oe=(0,u.useState)(!1),se=(0,o.Z)(oe,2),ce=se[0],ue=se[1],de=(0,cr.LP)(),pe=de.leftSidebarIsCollapsed,fe=de.setYlxState;!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2?arguments[2]:void 0,n=(0,sn.k)(),l=(0,u.useContext)(E.H).getContentsDownloadedFilterId(),i=(0,u.useRef)(e);i.current=e;var a=(0,u.useRef)(r);a.current=r;var o=(0,u.useRef)(t);o.current=t;var s=(0,u.useRef)(!1);(0,u.useEffect)((function(){if(l){var e=a.current.includes(l),r=i.current.includes(l),t=a.current.length>1,c=!n&&!t&&!e&&r,u=n&&e&&s.current;(c||u)&&(c&&(s.current=!0),o.current(l,!1))}}),[l,n]);var c=(0,u.useRef)(r);(0,b.KW)((function(){l&&(r.includes(l)&&!c.current.includes(l)&&s.current||(s.current=!1),c.current=r)}),[l,r])}(null==R||null===(t=R.availableFilters)||void 0===t?void 0:t.map((function(e){return e.id})),null==R||null===(s=R.selectedFilters)||void 0===s?void 0:s.map((function(e){return e.id})),K);var ye=ht().handleDropOnFolder,ge=(0,u.useState)(!1),be=(0,o.Z)(ge,2),ve=be[0],me=be[1],xe=(0,u.useCallback)((function(){me(!0),document.addEventListener("drop",(function(){return me(!1)}),{once:!0})}),[]),he=te?An:Rn,je=Oe({allowedURITypesByDropPosition:(0,i.Z)({},q.ON,ve?[]:he),onDrop:(0,u.useCallback)(function(){var e=(0,l.Z)(c().mark((function e(r){var t,l,i,a,o,s,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:te?ye(r,te):(t=r[v.JM.TRACK],l=r[v.JM.ALBUM],i=r[v.JM.ARTIST],a=r[v.JM.EPISODE],o=r[v.JM.SHOW],s=r[v.JM.PLAYLIST_V2],u=void 0===s?[]:s,null!=t&&t.length&&(null==ie||ie.add.apply(ie,(0,n.Z)(t))),null!=l&&l.length&&(null==ie||ie.add.apply(ie,(0,n.Z)(l))),null!=i&&i.length&&(null==ie||ie.add.apply(ie,(0,n.Z)(i))),null!=a&&a.length&&(null==ie||ie.add.apply(ie,(0,n.Z)(a))),null!=o&&o.length&&(null==ie||ie.add.apply(ie,(0,n.Z)(o))),u.length&&ae(u,{before:"start"}));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),[ye,ie,ae,te]),onLongDragOver:(0,u.useCallback)((function(){pe&&fe(cr.c$.DEFAULT)}),[pe,fe])}),Se=je.dropPosition,Ie=je.className,De=(0,a.Z)(je,Cn),we=(0,u.useMemo)((function(){return{filters:U,sortOrder:V,textFilter:C,includeLocalFiles:le,includeYourEpisodes:!0,expandedFolders:pe?[]:ee,filtersPickedByUser:M.current,folderUri:te}}),[ee,M,le,pe,te,U,V,C]),Pe=(0,u.useRef)(we);Pe.current=we;var Te=(0,u.useCallback)(function(){var e=(0,l.Z)(c().mark((function e(r,t){var n,l,i,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=we,e.next=4,ie.getContents(Nn({offset:r,limit:t},we));case 4:return l=e.sent,i=!(0,f.J)(n,Pe.current),l.offset,l.limit,l.items,o=(0,a.Z)(l,Ln),i||A((function(e){return(0,f.J)(o,e)?e:o})),e.abrupt("return",Nn({fetchedId:we.folderUri},l));case 11:if(e.prev=11,e.t0=e.catch(0),!(e.t0 instanceof O.Ik)){e.next=18;break}return J(),e.abrupt("return",Fn);case 18:if(!(e.t0 instanceof O.j2)){e.next=23;break}return W(void 0),e.abrupt("return",Fn);case 23:if(!(e.t0 instanceof O.xX)){e.next=26;break}return ne(""),e.abrupt("return",Fn);case 26:throw ue(!0),e.t0;case 28:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(r,t){return e.apply(this,arguments)}}(),[we,ie,J,ne,W]),Ze=!1===(null==R?void 0:R.hasUnfilteredItems),Ce=(null==R?void 0:R.hasTextFilter)&&0===R.totalLength&&""!==C,Le=0===(null==R?void 0:R.totalLength)&&R.selectedFilters.length>0&&!(null!=R&&R.hasTextFilter)&&(null==R?void 0:R.hasUnfilteredItems);(0,b.KW)((function(){var e=null==R?void 0:R.selectedFilters.at(-1);Le&&e&&K(e.id,!1)}),[Le,null==R?void 0:R.selectedFilters]);var ke=(0,j.Q)({nrItems:50,fetch:Te,limit:50}),Ne=ke.fetchedId,Fe=ke.getItems,Ae=ke.nrValidItems,_e=ke.invalidateCache,Me=(0,g.y1)(_e,200,{leading:!0,trailing:!0,maxWait:1e3});hn(null==R?void 0:R.primaryFilter,Me);var Ue=!te&&!Ne||te===Ne;!function(e,r){var t=(0,u.useRef)(""),n=(0,Zr.TH)(),l=(0,nn.y)(),i=(0,u.useCallback)((function(r){if(e.current){var t=e.current,n=t.scrollTop,l=t.offsetHeight;if(r<n||r>n+l){var i=r-l/2;e.current.scrollTop=i}}}),[e]),a=(0,u.useRef)(0);(0,u.useEffect)((function(){var o;if(e.current){var s=null===(o=(0,v.EC)(n.pathname))||void 0===o?void 0:o.toURI();if(s&&!(0,v.U4)(s,t.current)){var c,u=++a.current;null==l||l.findContentsItemIndex(s,null!==(c=r.current)&&void 0!==c?c:void 0).then((function(e){u!==a.current||-1===e||(i(64*e),t.current=s)}))}}}),[r,l,n,i,e])}(G,Pe),function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=(0,u.useRef)({});(0,u.useLayoutEffect)((function(){if(!e.current)return function(){};var n=e.current,l=t.current[r];n.scrollTop=null!=l?l:0;var i=function(){t.current[r]=n.scrollTop};return null==n||n.addEventListener("scroll",i),function(){null==n||n.removeEventListener("scroll",i)}}),[e,r])}(G,Ne);var Be,Je=(0,u.useCallback)((function(){_e(),ue(!1)}),[_e]),Ke=(0,u.useRef)(null),Ye=function(e){var r,t=(0,u.useState)(!1),n=(0,o.Z)(t,2),l=n[0],i=n[1];return(0,u.useEffect)((function(){var r;if(!window.IntersectionObserver)return function(){};var t=new window.IntersectionObserver((function(e){e.forEach((function(e){i(!e.isIntersecting)}))}),{root:e.current,rootMargin:"-100% 0px 0px 0px",threshold:0});return null!==(r=e.current)&&void 0!==r&&r.firstElementChild&&t.observe(e.current.firstElementChild),function(){t.disconnect()}}),[e]),l&&!(null===(r=e.current)||void 0===r||!r.scrollTop)}(G),He=(0,h.o)().isExpanded;if(ce)Be=(0,L.jsx)(X,{onClick:Je});else if(!pe){var ze,Ve;if(Ze)Be=te?(0,L.jsx)(k,{className:Ie}):(0,L.jsx)(B,{className:Ie});else Be=(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)("div",{className:p()(In,Ie),children:[(0,L.jsx)(an,{clearOnEscapeInElementRef:Ke,primaryFilter:null==R?void 0:R.primaryFilter},te),(0,L.jsx)(tn,{sortOrders:null!==(ze=null==R?void 0:R.availableSortOrders)&&void 0!==ze?ze:[],activeSortOrderId:null==R||null===(Ve=R.selectedSortOrder)||void 0===Ve?void 0:Ve.id,setActiveSortOrderId:W,root:Ke.current,showReorderingOnboarding:(null==R?void 0:R.primaryFilter)===w.p.PLAYLIST&&!(null!=R&&R.reorderAllowed)})]}),Ce&&(0,L.jsx)(z,{query:C,className:Ie},"empty-search")]})}var We=ce&&!R;return(0,L.jsxs)("div",Nn(Nn({className:p()(On,(d={},(0,i.Z)(d,Ee,Se===q.ON),(0,i.Z)(d,Sn,pe),(0,i.Z)(d,En,He),d)),ref:Ke},De),{},{onDragStart:xe,children:[(0,L.jsxs)("div",{className:p()((0,i.Z)({},Zn,Ye)),children:[(0,L.jsx)(hr,{className:Ie,isLibraryCompletelyEmpty:Ze,parentFolderUri:null==R?void 0:R.parentFolderUri,folderName:null==R?void 0:R.openedFolderName}),!pe&&!We&&(0,L.jsx)(Re,{selectedFilters:null==R?void 0:R.selectedFilters,availableFilters:null==R?void 0:R.availableFilters,toggleFilterId:K,resetFilterIds:J,className:p()(Ie,Pn,(0,i.Z)({},Tn,!Ue)),scrollNodeRef:G},Ne)]}),(0,L.jsx)(on.U,{className:Dn,ref:function(e){e&&!G.current&&(G.current=e.osInstance().getElements().viewport)},children:(0,L.jsxs)("div",{className:p()(wn,(y={},(0,i.Z)(y,Tn,!ce&&!Ue),(0,i.Z)(y,Sn,pe),(0,i.Z)(y,En,He),y)),children:[Be,(0,L.jsx)(Ht,{getItems:Fe,scrollNodeRef:G,primaryFilter:null==R?void 0:R.primaryFilter,nrValidItems:Ae})]})}),pn()]}))},Mn=function(){var e=(0,y.v9)((function(e){return e.session})).isAnonymous;return(0,L.jsx)(m.L,{onError:function(e){(0,D.vK)(e,"YourLibraryX")},children:(0,L.jsx)(ur.hz,{uri:"spotify:collection",children:(0,L.jsxs)(ee,{children:[(0,L.jsx)(_n,{}),(0,L.jsx)(x.W,{isAnonymous:e})]})})})}},23300:(e,r,t)=>{t.d(r,{O:()=>I,K:()=>x});var n=t(24255),l=(t(33208),t(93019),t(66608),t(78390),t(47408),t(3726),t(58549),t(24353),t(88178),t(79075),t(26870),t(86978),t(98618),t(40905),t(79410),t(21105),t(72753),t(59496)),i=t(84875),a=t.n(i),o=t(71789),s=t(47247);const c="g3kBhX1E4EYEC2NFhhxG",u="O5_0cReFdHe81E0xFAD1",d="H71KtIrytVayf_dFofu7",p="SBpny8HrUTBzSjk7Vtk1",f="CxurIfvXVb_TqGF4q8Yf",y="OadpZJiOaGfX6Qp4j6n5",g="iJp40IxKg6emF6KYJ414",b="vreceNX3ABcxyddeS83B",v="Ozitxbqs1vcOukDz3GDw",m="AeEoI6ueagbJtaHl2cRd";var x,h=t(89199),j=t(4637),O=function(e){var r=e.title,t=e.type,n=e.className;return(0,j.jsx)("div",{"aria-label":r,className:a()(v,n),children:(0,j.jsx)(h.t,{type:t,className:m})})};function E(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function S(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?E(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}!function(e){e[e.ROUNDED_CORNERS=0]="ROUNDED_CORNERS",e[e.CIRCLE=1]="CIRCLE",e[e.SQUARE=2]="SQUARE"}(x||(x={}));var I=(0,l.memo)((function(e){var r,t,l=e.loadingMode,i=void 0===l?"lazy":l,v=e.type,m=e.title,h=e.images,E=void 0===h?[]:h,I=e.shape,D=void 0===I?x.SQUARE:I,w=e.size,P=void 0===w?s.m$.SIZE_56:w,T=e.className,Z=e.onContextMenu,C=void 0===Z?function(){}:Z,L=e.onTouchStart,k=void 0===L?function(){}:L,N=e.onTouchEnd,F=void 0===N?function(){}:N,R=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((function(e){return Boolean(e.width)})),r=e.filter((function(e){return e.url&&e.width&&e.width>=s.eM[s.m$.SIZE_56]})).sort((function(e,r){return e.width-r.width}));return r.length?r:e}(E),A=R.length>0?R[0].url:"",_=R.map((function(e){var r=e.url,t=e.width;return"".concat(r," ").concat(t/2,"w, ").concat(r," ").concat(t,"w")})).join(", "),M=function(){var e;return e={},(0,n.Z)(e,c,s.pj.includes(P)),(0,n.Z)(e,u,s.wL.includes(P)),(0,n.Z)(e,d,s.VZ.includes(P)),(0,n.Z)(e,p,s.B_.includes(P)),e};return(0,j.jsx)("div",{className:a()(b,T),onContextMenu:C,onTouchStart:k,onTouchEnd:F,style:{width:"".concat(s.eM[P],"px"),height:"".concat(s.eM[P],"px")},children:(0,j.jsx)(o.E,{loading:i,src:A,alt:m,ariaHidden:!0,className:a()(g,S((r={},(0,n.Z)(r,y,D===x.CIRCLE),(0,n.Z)(r,f,D===x.SQUARE),r),M())),srcSet:_||void 0,testid:"entity-image",children:(0,j.jsx)(O,{title:m,type:v,className:a()(S((t={},(0,n.Z)(t,y,D===x.CIRCLE),(0,n.Z)(t,f,D===x.SQUARE),t),M()))})})})}))},47247:(e,r,t)=>{t.d(r,{B_:()=>u,VZ:()=>c,eM:()=>a,m$:()=>l,pj:()=>o,wL:()=>s});var n,l,i=t(24255);!function(e){e[e.SIZE_48=0]="SIZE_48",e[e.SIZE_56=1]="SIZE_56",e[e.SIZE_64=2]="SIZE_64",e[e.SIZE_72=3]="SIZE_72",e[e.SIZE_80=4]="SIZE_80",e[e.SIZE_96=5]="SIZE_96",e[e.SIZE_104=6]="SIZE_104",e[e.SIZE_112=7]="SIZE_112",e[e.SIZE_120=8]="SIZE_120",e[e.SIZE_128=9]="SIZE_128",e[e.SIZE_136=10]="SIZE_136",e[e.SIZE_144=11]="SIZE_144",e[e.SIZE_152=12]="SIZE_152",e[e.SIZE_160=13]="SIZE_160",e[e.SIZE_168=14]="SIZE_168",e[e.SIZE_176=15]="SIZE_176",e[e.SIZE_184=16]="SIZE_184",e[e.SIZE_200=17]="SIZE_200",e[e.SIZE_232=18]="SIZE_232"}(l||(l={}));var a=(n={},(0,i.Z)(n,l.SIZE_48,48),(0,i.Z)(n,l.SIZE_56,56),(0,i.Z)(n,l.SIZE_64,64),(0,i.Z)(n,l.SIZE_72,72),(0,i.Z)(n,l.SIZE_80,80),(0,i.Z)(n,l.SIZE_96,96),(0,i.Z)(n,l.SIZE_104,104),(0,i.Z)(n,l.SIZE_112,112),(0,i.Z)(n,l.SIZE_120,120),(0,i.Z)(n,l.SIZE_128,128),(0,i.Z)(n,l.SIZE_136,136),(0,i.Z)(n,l.SIZE_144,144),(0,i.Z)(n,l.SIZE_152,152),(0,i.Z)(n,l.SIZE_160,160),(0,i.Z)(n,l.SIZE_168,168),(0,i.Z)(n,l.SIZE_176,176),(0,i.Z)(n,l.SIZE_184,184),(0,i.Z)(n,l.SIZE_200,200),(0,i.Z)(n,l.SIZE_232,232),n),o=[l.SIZE_48,l.SIZE_56,l.SIZE_64],s=[l.SIZE_72,l.SIZE_80,l.SIZE_96,l.SIZE_104,l.SIZE_112,l.SIZE_120,l.SIZE_128],c=[l.SIZE_136,l.SIZE_144,l.SIZE_152,l.SIZE_160,l.SIZE_168,l.SIZE_176],u=[l.SIZE_184,l.SIZE_200,l.SIZE_232]},84563:(e,r,t)=>{t.d(r,{I:()=>l});var n=t(44081);function l(){return(0,n.S)()[0]}}}]);
//# sourceMappingURL=xpui-routes-your-library-x.js.map