"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[2499],{26779:(e,a,t)=>{t.d(a,{B:()=>w});var i=t(1740),s=t(98340),r=t(24771),o=t(7678),l=t(97631),n=t(53518),d=t(69084),u=t(16976),c=t(84848),m=t(81637),g=t(56674),p=t(59496),h=t(2592),f=t(17965),v=t(38094);const x="z4popIk32AsyDKlV1o1v",b="_xxuonqkZEQ7pCffxlUD";var y=t(4637);const I=(0,p.memo)((function(e){const{src:a,description:t,...i}=e,[s,r]=(0,p.useState)("inherit");return(0,p.useEffect)((()=>{a&&async function(e){const{colorRaw:a}=await(0,v.extractColors)(e),{h:t,s:i,l:s}=a.hsl,o=`hsl(${360*t}, ${100*i}%, ${Math.min(100*s,30)}%)`;r(o)}(a)}),[a]),a?(0,y.jsx)("div",{className:x,style:{backgroundColor:s},"data-testid":"episode-fallback-image-container",children:(0,y.jsx)("div",{className:b,children:(0,y.jsx)(h.D,{as:"p",variant:"canon",children:t})})}):(0,y.jsx)(f.J,{...i,iconSize:64})}));var j=t(70962),k=t(80785);const N="x1FErCk9Xh9VumpOLyfm",_="heeHk6hz8sAXLIU6P6an",P="Hhfi1xnYwoHoMP2rcltS",w=({description:e,isExplicit:a,images:t,name:p,uri:h,durationMilliseconds:f,releaseDate:v,resume_point:x,showImages:b,sharingInfo:w,is19PlusOnly:S,isHero:C,onClick:R,testId:O,index:D,requestId:U,color:E})=>{let A;const T=v?new Date(v):void 0,M=T&&!isNaN(T.getTime())&&!isNaN(f),F=(0,u.X)(b,{desiredSize:48}),L=(0,n.G3)(h,T?.toISOString(),x?.resume_position_ms,x?.fully_played);return A=C?(0,y.jsx)(j.Z,{index:D,onClick:R,headerText:p,featureIdentifier:"episode",uri:h,isPlayable:!1,isDownloadable:!0,hasNewEpisodeIndicator:L,renderCardImage:()=>(0,y.jsx)(g.x,{isHero:!0,images:t,color:E,FallbackComponent:a=>(0,y.jsx)(I,{...a,description:e,src:F&&F.url}),children:F&&(0,y.jsx)(l.E,{loading:"lazy",src:F.url,className:N,radius:4})}),renderSubHeaderContent:()=>(0,y.jsxs)(y.Fragment,{children:[a&&!S&&(0,y.jsx)(r.N,{className:_}),S&&(0,y.jsx)(o.X,{size:16,className:_}),M&&(0,y.jsxs)("span",{className:P,children:[T&&(0,d.rL)(T)," ·"," ",i.ag.get("episode.length",Math.ceil(f/6e4))]}),(0,y.jsx)(k.k,{children:i.ag.get("card.tag.episode")})]}),testId:O,requestId:U}):(0,y.jsx)(m.C,{index:D,onClick:R,headerText:p,featureIdentifier:"episode",uri:h,isPlayable:!1,isDownloadable:!0,hasNewEpisodeIndicator:L,renderCardImage:()=>(0,y.jsx)(g.x,{images:t,color:E,FallbackComponent:a=>(0,y.jsx)(I,{...a,description:e,src:F&&F.url}),children:F&&(0,y.jsx)(l.E,{loading:"lazy",src:F.url,className:N,radius:4,testid:"episode-card-show-image"})}),renderSubHeaderContent:()=>(0,y.jsxs)(y.Fragment,{children:[a&&!S&&(0,y.jsx)(r.N,{className:_}),S&&(0,y.jsx)(o.X,{size:16,className:_}),M&&(0,y.jsxs)("span",{className:P,children:[T&&(0,d.rL)(T)," ·"," ",i.ag.get("episode.length",Math.ceil(f/6e4))]})]}),testId:O,requestId:U}),(0,y.jsx)(s._,{menu:(0,y.jsx)(c.k,{uri:h,sharingInfo:w}),children:A})}},23123:(e,a,t)=>{t.d(a,{P:()=>g});var i=t(59496),s=t(90292),r=t(1740),o=t(98340),l=t(94961),n=t(81637),d=t(56674),u=t(70962),c=t(80785),m=t(4637);const g=i.memo((function(e){const{images:a,name:t,uri:g,onClick:p,isHero:h,testId:f,index:v,requestId:x,color:b}=e;let y;const I=(0,i.useCallback)((()=>(0,m.jsx)(d.x,{isCircular:!0,isHero:h,images:a,color:b,FallbackComponent:e=>(0,m.jsx)(s.a,{iconSize:64,...e})})),[b,a,h]),j=(0,i.useCallback)((()=>h?(0,m.jsx)(c.k,{children:r.ag.get("card.tag.profile")}):r.ag.get("card.tag.profile")),[h]);return y=h?(0,m.jsx)(u.Z,{index:v,onClick:p,headerText:t,featureIdentifier:"profile",uri:g,isPlayable:!1,renderCardImage:I,renderSubHeaderContent:j,testId:f,requestId:x}):(0,m.jsx)(n.C,{index:v,onClick:p,headerText:t,featureIdentifier:"profile",uri:g,isPlayable:!1,renderCardImage:I,renderSubHeaderContent:j,testId:f,requestId:x}),(0,m.jsx)(o._,{menu:(0,m.jsx)(l.I,{uri:g}),children:y})}))},52601:(e,a,t)=>{t.d(a,{T:()=>c});var i=t(66691),s=t(44676),r=t(46131),o=t(99162),l=t(22512);const n="Ws8Ec3GREpT5PAUesr9b",d="kHu_FTRgoBLSLeAJtyKY";var u=t(4637);const c=function({onClick:e,name:a,images:t,canEdit:c,placeholderType:m,shape:g=o.Kc.SQUARE,dragUri:p=""}){const[h,f]=(0,s.RH)(t),v=(0,r.VO)(h,f)===r.KO.loaded,x=(0,i.O1)([p],a);return(0,u.jsxs)("div",{className:n,"data-testid":`${m}-image`,draggable:!!p,onDragStart:x,children:[(0,u.jsx)(o.Oe,{loading:"eager",name:a,images:t,placeholderType:m,shape:g}),c&&(0,u.jsx)("div",{className:d,children:(0,u.jsx)(l.F,{overlay:v,onClick:e,rounded:g===o.Kc.CIRCLE})})]})}},15696:(e,a,t)=>{t.d(a,{I:()=>r});var i=t(59496),s=t(36899);function r(e,a){const t=(0,s.z)();(0,i.useEffect)((()=>{const i=t.getEvents(),s=e=>a(e);return i.addListener(e,s),()=>{i.removeListener(e,s)}}),[e,t,a])}},2773:(e,a,t)=>{t.r(a),t.d(a,{default:()=>Va});var i=t(59496),s=t(3539),r=t(46439),o=t(75930),l=t(10154),n=t(30893),d=t(93090),u=t(58754),c=t(79396),m=t(3102),g=t(62478),p=t(53997),h=t(26779),f=t(50872),v=t(4637);const x={totalCount:0,nextOffset:0,items:[]};const b=({uri:e})=>{const{data:a}=(0,c.J)(m.n5.getProfile,[{uri:e,playlists:0,artists:0,episodes:0}]),t=function(e){const a=(0,g.zZ)(),[t,s]=(0,i.useState)(x),r=(0,i.useCallback)((async()=>{if(!e)return;const t=await a.getContents(e,{offset:0,limit:50});s(t)}),[e,a]);return(0,i.useEffect)((()=>{r()}),[r]),t}(a?.user_created_show?.uri);return(0,v.jsx)(f.P,{className:"contentSpacing",total:t.items.length,title:p.ag.get("episodes"),showAll:!0,children:t.items.map(((e,a)=>e&&(0,v.jsx)(h.B,{index:a,uri:e.uri,name:e.name,images:e.coverArt,showImages:[],durationMilliseconds:e.duration.milliseconds,releaseDate:e.releaseDate?.isoString,resume_point:null,description:e.description,isExplicit:!1,is19PlusOnly:!1,sharingInfo:e.sharingInfo},e.uri)))})},y=({uri:e})=>(0,v.jsxs)("section",{children:[(0,v.jsx)(u.$,{children:"Podcasts from the user"}),(0,v.jsx)(b,{uri:e})]});var I=t(84875),j=t.n(I),k=t(1740),N=t(23123),_=t(19435);const P="umiKMm5NVr5UeBJCHS6U",w="jzhwZKbfx4vrC_MYd_7c",S="MWWPQQjbjRfoGdPD8D68",C="rMpf7sfaPDcj387_52fA",R="kWCnF32FrVtGHmTy8QeV",O="uJxNEI2k7x8UCDdMKELt",D="wDIZ2yYKjfGI68I4cZ98",U=e=>{const{uri:a}=e,{data:t,loading:i,error:s}=(0,c.J)(m.n5.getFollowers,[a]),r=t?.profiles;return i?(0,v.jsx)(_.h,{hasError:null!==s,errorMessage:k.ag.get("error.not_found.title.page")}):(0,v.jsx)(f.P,{className:j()("contentSpacing",S),title:k.ag.get("followers"),total:r?.length,showAll:!0,children:r?.map(((e,a)=>(0,v.jsx)(N.P,{index:a,uri:e.uri,name:e.name,images:[{url:e.image_url}]},e.uri)))})},E=e=>{const{uri:a}=e,{data:t,loading:i,error:s}=(0,c.J)(m.n5.getFollowing,[a]),r=t?.profiles;return i?(0,v.jsx)(_.h,{hasError:null!==s,errorMessage:k.ag.get("error.not_found.title.page")}):(0,v.jsx)(f.P,{className:j()("contentSpacing",S),title:k.ag.get("following"),total:r?.length,showAll:!0,children:r?.map(((e,a)=>(0,v.jsx)(N.P,{index:a,uri:e.uri,name:e.name,images:[{url:e.image_url}]},e.uri)))})};var A=t(77646),T=t(98355),M=t(13189),F=t(89349),L=t(92656),H=t(64533),W=t(1369),J=t(94961),K=t(52601),B=t(99162),V=t(90306),z=t(97036),Q=t(73459),G=t(14072),q=t(2592),$=t(756),X=t(28900),Z=t(4285),Y=t(22399),ee=t(76682),ae=t(95110),te=t(61234),ie=t(44676),se=t(46131);const re="F8_EX1AeKxXNSeh1qiHq",oe="valcBm4lLe9qFBcg0sFY",le="tAIzXn8C9KriGwGuBfWg",ne="PsrXxenHUFXYM1ub1xWw",de="U_VWfeeLWnDPhUTxCmrQ",ue=function({onClickEdit:e,onClickRemove:a,name:t,images:i}){const[s,r]=(0,ie.RH)(i),o=(0,se.VO)(s,r)===se.KO.loaded;return(0,v.jsxs)("div",{className:re,children:[(0,v.jsx)(B.Oe,{loading:"eager",name:t,images:i,placeholderType:"user",shape:B.Kc.CIRCLE}),(0,v.jsxs)("div",{className:j()(oe,{[ne]:o}),children:[(0,v.jsx)("button",{className:le,"aria-haspopup":"true",onClick:e,type:"button",children:(0,v.jsx)(q.D,{variant:"ballad",children:k.ag.get("user.edit-details.choose-photo")})}),(0,v.jsx)("div",{className:j()(de,"icon"),children:(0,v.jsx)(te.y,{iconSize:48,"aria-hidden":!0})}),(0,v.jsx)("button",{className:le,onClick:a,type:"button",children:(0,v.jsx)(q.D,{variant:"ballad",children:k.ag.get("user.edit-details.remove-photo")})})]})]})};var ce=t(86929),me=t(64529),ge=(t(5630),t(59699),t(91564),t(92228));const pe={paths:""},he={encode(e,a=ge.Writer.create()){for(const t of e.paths)a.uint32(10).string(t);return a},decode(e,a){const t=e instanceof Uint8Array?new ge.Reader(e):e;let i=void 0===a?t.len:t.pos+a;const s={...pe};for(s.paths=[];t.pos<i;){const e=t.uint32();if(e>>>3==1)s.paths.push(t.string());else t.skipType(7&e)}return s},fromJSON(e){const a={...pe};if(a.paths=[],void 0!==e.paths&&null!==e.paths)for(const t of e.paths)a.paths.push(String(t));return a},fromPartial(e){const a={...pe};if(a.paths=[],void 0!==e.paths&&null!==e.paths)for(const t of e.paths)a.paths.push(t);return a},toJSON(e){const a={};return e.paths?a.paths=e.paths.map((e=>e)):a.paths=[],a}};t(74461);var fe=t(29168),ve=t(55872).lW;const xe={value:0},be={value:!1},ye={value:""};const Ie={encode:(e,a=ge.Writer.create())=>(a.uint32(8).int32(e.value),a),decode(e,a){const t=e instanceof Uint8Array?new ge.Reader(e):e;let i=void 0===a?t.len:t.pos+a;const s={...xe};for(;t.pos<i;){const e=t.uint32();if(e>>>3==1)s.value=t.int32();else t.skipType(7&e)}return s},fromJSON(e){const a={...xe};return void 0!==e.value&&null!==e.value?a.value=Number(e.value):a.value=0,a},fromPartial(e){const a={...xe};return void 0!==e.value&&null!==e.value?a.value=e.value:a.value=0,a},toJSON(e){const a={};return void 0!==e.value&&(a.value=e.value),a}},je={encode:(e,a=ge.Writer.create())=>(a.uint32(8).bool(e.value),a),decode(e,a){const t=e instanceof Uint8Array?new ge.Reader(e):e;let i=void 0===a?t.len:t.pos+a;const s={...be};for(;t.pos<i;){const e=t.uint32();if(e>>>3==1)s.value=t.bool();else t.skipType(7&e)}return s},fromJSON(e){const a={...be};return void 0!==e.value&&null!==e.value?a.value=Boolean(e.value):a.value=!1,a},fromPartial(e){const a={...be};return void 0!==e.value&&null!==e.value?a.value=e.value:a.value=!1,a},toJSON(e){const a={};return void 0!==e.value&&(a.value=e.value),a}},ke={encode:(e,a=ge.Writer.create())=>(a.uint32(10).string(e.value),a),decode(e,a){const t=e instanceof Uint8Array?new ge.Reader(e):e;let i=void 0===a?t.len:t.pos+a;const s={...ye};for(;t.pos<i;){const e=t.uint32();if(e>>>3==1)s.value=t.string();else t.skipType(7&e)}return s},fromJSON(e){const a={...ye};return void 0!==e.value&&null!==e.value?a.value=String(e.value):a.value="",a},fromPartial(e){const a={...ye};return void 0!==e.value&&null!==e.value?a.value=e.value:a.value="",a},toJSON(e){const a={};return void 0!==e.value&&(a.value=e.value),a}};ge.util.Long!==fe&&(ge.util.Long=fe,(0,ge.configure)());const Ne=globalThis;Ne.atob,Ne.btoa;const _e={maxWidth:0,maxHeight:0,url:""},Pe={},we={},Se={encode:(e,a=ge.Writer.create())=>(a.uint32(8).int32(e.maxWidth),a.uint32(16).int32(e.maxHeight),a.uint32(26).string(e.url),a),decode(e,a){const t=e instanceof Uint8Array?new ge.Reader(e):e;let i=void 0===a?t.len:t.pos+a;const s={..._e};for(;t.pos<i;){const e=t.uint32();switch(e>>>3){case 1:s.maxWidth=t.int32();break;case 2:s.maxHeight=t.int32();break;case 3:s.url=t.string();break;default:t.skipType(7&e)}}return s},fromJSON(e){const a={..._e};return void 0!==e.maxWidth&&null!==e.maxWidth?a.maxWidth=Number(e.maxWidth):a.maxWidth=0,void 0!==e.maxHeight&&null!==e.maxHeight?a.maxHeight=Number(e.maxHeight):a.maxHeight=0,void 0!==e.url&&null!==e.url?a.url=String(e.url):a.url="",a},fromPartial(e){const a={..._e};return void 0!==e.maxWidth&&null!==e.maxWidth?a.maxWidth=e.maxWidth:a.maxWidth=0,void 0!==e.maxHeight&&null!==e.maxHeight?a.maxHeight=e.maxHeight:a.maxHeight=0,void 0!==e.url&&null!==e.url?a.url=e.url:a.url="",a},toJSON(e){const a={};return void 0!==e.maxWidth&&(a.maxWidth=e.maxWidth),void 0!==e.maxHeight&&(a.maxHeight=e.maxHeight),void 0!==e.url&&(a.url=e.url),a}},Ce={encode(e,a=ge.Writer.create()){void 0!==e.username&&void 0!==e.username&&ke.encode({value:e.username},a.uint32(10).fork()).ldelim(),void 0!==e.name&&void 0!==e.name&&ke.encode({value:e.name},a.uint32(18).fork()).ldelim();for(const t of e.images)Se.encode(t,a.uint32(26).fork()).ldelim();return void 0!==e.verified&&void 0!==e.verified&&je.encode({value:e.verified},a.uint32(34).fork()).ldelim(),void 0!==e.editProfileDisabled&&void 0!==e.editProfileDisabled&&je.encode({value:e.editProfileDisabled},a.uint32(42).fork()).ldelim(),void 0!==e.reportAbuseDisabled&&void 0!==e.reportAbuseDisabled&&je.encode({value:e.reportAbuseDisabled},a.uint32(50).fork()).ldelim(),void 0!==e.abuseReportedName&&void 0!==e.abuseReportedName&&je.encode({value:e.abuseReportedName},a.uint32(58).fork()).ldelim(),void 0!==e.abuseReportedImage&&void 0!==e.abuseReportedImage&&je.encode({value:e.abuseReportedImage},a.uint32(66).fork()).ldelim(),void 0!==e.hasSpotifyName&&void 0!==e.hasSpotifyName&&je.encode({value:e.hasSpotifyName},a.uint32(74).fork()).ldelim(),void 0!==e.hasSpotifyImage&&void 0!==e.hasSpotifyImage&&je.encode({value:e.hasSpotifyImage},a.uint32(82).fork()).ldelim(),void 0!==e.color&&void 0!==e.color&&Ie.encode({value:e.color},a.uint32(90).fork()).ldelim(),a},decode(e,a){const t=e instanceof Uint8Array?new ge.Reader(e):e;let i=void 0===a?t.len:t.pos+a;const s={...Pe};for(s.images=[];t.pos<i;){const e=t.uint32();switch(e>>>3){case 1:s.username=ke.decode(t,t.uint32()).value;break;case 2:s.name=ke.decode(t,t.uint32()).value;break;case 3:s.images.push(Se.decode(t,t.uint32()));break;case 4:s.verified=je.decode(t,t.uint32()).value;break;case 5:s.editProfileDisabled=je.decode(t,t.uint32()).value;break;case 6:s.reportAbuseDisabled=je.decode(t,t.uint32()).value;break;case 7:s.abuseReportedName=je.decode(t,t.uint32()).value;break;case 8:s.abuseReportedImage=je.decode(t,t.uint32()).value;break;case 9:s.hasSpotifyName=je.decode(t,t.uint32()).value;break;case 10:s.hasSpotifyImage=je.decode(t,t.uint32()).value;break;case 11:s.color=Ie.decode(t,t.uint32()).value;break;default:t.skipType(7&e)}}return s},fromJSON(e){const a={...Pe};if(a.images=[],void 0!==e.username&&null!==e.username?a.username=String(e.username):a.username=void 0,void 0!==e.name&&null!==e.name?a.name=String(e.name):a.name=void 0,void 0!==e.images&&null!==e.images)for(const t of e.images)a.images.push(Se.fromJSON(t));return void 0!==e.verified&&null!==e.verified?a.verified=Boolean(e.verified):a.verified=void 0,void 0!==e.editProfileDisabled&&null!==e.editProfileDisabled?a.editProfileDisabled=Boolean(e.editProfileDisabled):a.editProfileDisabled=void 0,void 0!==e.reportAbuseDisabled&&null!==e.reportAbuseDisabled?a.reportAbuseDisabled=Boolean(e.reportAbuseDisabled):a.reportAbuseDisabled=void 0,void 0!==e.abuseReportedName&&null!==e.abuseReportedName?a.abuseReportedName=Boolean(e.abuseReportedName):a.abuseReportedName=void 0,void 0!==e.abuseReportedImage&&null!==e.abuseReportedImage?a.abuseReportedImage=Boolean(e.abuseReportedImage):a.abuseReportedImage=void 0,void 0!==e.hasSpotifyName&&null!==e.hasSpotifyName?a.hasSpotifyName=Boolean(e.hasSpotifyName):a.hasSpotifyName=void 0,void 0!==e.hasSpotifyImage&&null!==e.hasSpotifyImage?a.hasSpotifyImage=Boolean(e.hasSpotifyImage):a.hasSpotifyImage=void 0,void 0!==e.color&&null!==e.color?a.color=Number(e.color):a.color=void 0,a},fromPartial(e){const a={...Pe};if(a.images=[],void 0!==e.username&&null!==e.username?a.username=e.username:a.username=void 0,void 0!==e.name&&null!==e.name?a.name=e.name:a.name=void 0,void 0!==e.images&&null!==e.images)for(const t of e.images)a.images.push(Se.fromPartial(t));return void 0!==e.verified&&null!==e.verified?a.verified=e.verified:a.verified=void 0,void 0!==e.editProfileDisabled&&null!==e.editProfileDisabled?a.editProfileDisabled=e.editProfileDisabled:a.editProfileDisabled=void 0,void 0!==e.reportAbuseDisabled&&null!==e.reportAbuseDisabled?a.reportAbuseDisabled=e.reportAbuseDisabled:a.reportAbuseDisabled=void 0,void 0!==e.abuseReportedName&&null!==e.abuseReportedName?a.abuseReportedName=e.abuseReportedName:a.abuseReportedName=void 0,void 0!==e.abuseReportedImage&&null!==e.abuseReportedImage?a.abuseReportedImage=e.abuseReportedImage:a.abuseReportedImage=void 0,void 0!==e.hasSpotifyName&&null!==e.hasSpotifyName?a.hasSpotifyName=e.hasSpotifyName:a.hasSpotifyName=void 0,void 0!==e.hasSpotifyImage&&null!==e.hasSpotifyImage?a.hasSpotifyImage=e.hasSpotifyImage:a.hasSpotifyImage=void 0,void 0!==e.color&&null!==e.color?a.color=e.color:a.color=void 0,a},toJSON(e){const a={};return void 0!==e.username&&(a.username=e.username),void 0!==e.name&&(a.name=e.name),e.images?a.images=e.images.map((e=>e?Se.toJSON(e):void 0)):a.images=[],void 0!==e.verified&&(a.verified=e.verified),void 0!==e.editProfileDisabled&&(a.editProfileDisabled=e.editProfileDisabled),void 0!==e.reportAbuseDisabled&&(a.reportAbuseDisabled=e.reportAbuseDisabled),void 0!==e.abuseReportedName&&(a.abuseReportedName=e.abuseReportedName),void 0!==e.abuseReportedImage&&(a.abuseReportedImage=e.abuseReportedImage),void 0!==e.hasSpotifyName&&(a.hasSpotifyName=e.hasSpotifyName),void 0!==e.hasSpotifyImage&&(a.hasSpotifyImage=e.hasSpotifyImage),void 0!==e.color&&(a.color=e.color),a}},Re={encode:(e,a=ge.Writer.create())=>(void 0!==e.mask&&void 0!==e.mask&&he.encode(e.mask,a.uint32(10).fork()).ldelim(),void 0!==e.userProfile&&void 0!==e.userProfile&&Ce.encode(e.userProfile,a.uint32(18).fork()).ldelim(),a),decode(e,a){const t=e instanceof Uint8Array?new ge.Reader(e):e;let i=void 0===a?t.len:t.pos+a;const s={...we};for(;t.pos<i;){const e=t.uint32();switch(e>>>3){case 1:s.mask=he.decode(t,t.uint32());break;case 2:s.userProfile=Ce.decode(t,t.uint32());break;default:t.skipType(7&e)}}return s},fromJSON(e){const a={...we};return void 0!==e.mask&&null!==e.mask?a.mask=he.fromJSON(e.mask):a.mask=void 0,void 0!==e.userProfile&&null!==e.userProfile?a.userProfile=Ce.fromJSON(e.userProfile):a.userProfile=void 0,a},fromPartial(e){const a={...we};return void 0!==e.mask&&null!==e.mask?a.mask=he.fromPartial(e.mask):a.mask=void 0,void 0!==e.userProfile&&null!==e.userProfile?a.userProfile=Ce.fromPartial(e.userProfile):a.userProfile=void 0,a},toJSON(e){const a={};return void 0!==e.mask&&(a.mask=e.mask?he.toJSON(e.mask):void 0),void 0!==e.userProfile&&(a.userProfile=e.userProfile?Ce.toJSON(e.userProfile):void 0),a}},Oe=`${ce.XA}/identity`;async function De(e,a,{name:t,imageUploadToken:i}){void 0!==t&&await async function(e,a,t){const i=Re.encode(Re.fromPartial({mask:{paths:["name"]},userProfile:null!==t?{name:t}:{}}));await e.build().withHost(Oe).withMethod("POST").withPath(`/v3/user/username/${encodeURIComponent((0,me.C)(a))}`).withEndpointIdentifier("/v3/user/username/{username}").withBody(i.finish()).withoutMarket().send()}(e,a,t),void 0!==i&&(null!==i?await async function(e,a,t){await e.build().withHost(Oe).withMethod("POST").withPath(`/v3/profile-image/${encodeURIComponent((0,me.C)(a))}/${t}`).withEndpointIdentifier("/v3/profile-image/{username}/{uploadToken}").withoutMarket().send()}(e,a,i):await async function(e,a){await e.build().withHost(Oe).withMethod("DELETE").withPath(`/v3/profile-image/${encodeURIComponent((0,me.C)(a))}`).withEndpointIdentifier("/v3/profile-image/{username}").withoutMarket().send()}(e,a))}var Ue=t(68281);const Ee={type:"error",get message(){return k.ag.get("user.edit-details.error.file-size-exceeded",10)}},Ae={type:"error",get message(){return k.ag.get("user.edit-details.error.too-small",300,300)}},Te={type:"error",get message(){return k.ag.get("user.edit-details.error.missing-name")}},Me={type:"error",get message(){return k.ag.get("user.edit-details.error.failed-to-save")}},Fe={type:"error",get message(){return k.ag.get("user.edit-details.error.file-upload-failed")}};function Le(e){return{type:"setLoading",loading:e}}function He(e){return{type:"setMessage",message:e}}function We(e,a){switch(a.type){case"setName":return{...e,name:a.name};case"setMessage":return{...e,message:a.message,loading:!1};case"setLoading":return{...e,loading:a.loading,message:null};case"setImageData":return{...e,imageData:a.data,removeImage:!1};case"setImageToken":return{...e,imageToken:a.token,removeImage:!1};case"removeImage":return{...e,imageToken:void 0,imageData:void 0,image:void 0,removeImage:!0};default:return e}}const Je="XwNfIrI6_hCa_9_T2cQB",Ke="so0bdX3oZH6YW5_nGxIR",Be="aM3plU4zzDqjWlvUHGYb",Ve="zHeo4VUxytwm6Ptr0QyA",ze="vAeyAmeLkDEDKdL9Hou0",Qe="dnmzO6yYKkxUV8jl7O1Z",Ge="oN9QVvJKEtdTH3HGfCu1",qe="uj7hczcCH1dZpse8Kfmi",$e="wvLAEV5wF5C5ej6rvimT",Xe="gAQfzAUp1FuSXODeZJfP",Ze="dMhJaxli87_22jb_3d9x",Ye="MDb7QhAtHeyM4gKj8j8t",ea="zGbjZMZ1DTx4futEbN9l",aa=i.memo((function({uri:e,name:a,image:t,onClose:s,shouldOpenImagePicker:r}){const[o,l]=(0,ee.Hs)(),[n,d]=function({name:e,image:a}){return(0,i.useReducer)(We,{loading:!1,message:null,name:e,image:a})}({name:a,image:t}),u=(0,i.useMemo)((()=>{const e=n.imageData||n.image;return e?[{url:e,width:300,height:300}]:[]}),[n.image,n.imageData]);(0,i.useEffect)((()=>{r&&l()}),[l,r]);const c=(0,i.useCallback)((e=>{e===ee.Hy.FILE_TOO_BIG?d(He(Ee)):e===ee.Hy.IMAGE_TOO_SMALL&&d(He(Ae))}),[d]),m=(0,i.useCallback)((()=>{d({type:"removeImage"})}),[d]),g=(0,i.useCallback)((async a=>{a.preventDefault();if(0!==n.name.trim().length){d(Le(!0));try{const a=n.removeImage?null:n.imageToken;await async function(e,{name:a,imageUploadToken:t}){await De(Ue.b.getInstance(),e,{name:a,imageUploadToken:t})}(e,{name:n.name,imageUploadToken:a}),s({name:n.name,image:n.imageData||n.image})}catch(e){d(He(Me))}}else d(He(Te))}),[d,s,n.image,n.imageData,n.imageToken,n.name,n.removeImage,e]);return(0,v.jsx)(Y.Z,{isOpen:!0,contentLabel:k.ag.get("user.edit-details.title"),onRequestClose:()=>s(),children:(0,v.jsxs)("div",{className:Je,children:[(0,v.jsxs)("div",{className:Be,children:[(0,v.jsx)(q.D,{as:"h1",variant:"canon",children:k.ag.get("user.edit-details.title")}),(0,v.jsx)("button",{className:Ve,onClick:()=>s(),"aria-label":k.ag.get("close"),children:(0,v.jsx)($.k,{iconSize:16})})]}),n.message&&(0,v.jsx)(ae.X,{isErrorMessage:"error"===n.message.type,message:n.message.message}),(0,v.jsxs)("form",{className:Ke,onSubmit:g,children:[(0,v.jsx)(ee.uL,{isOpen:o,minImageWidth:300,minImageHeight:300,maxFileSizeMB:10,onChange:async function(e){if(!e)return;const{imageFile:a,imageDataUrl:t}=e;if(d(He(null)),d({type:"setImageData",data:t}),a)try{d(Le(!0));const e=await async function(e){const a=await Ue.b.getInstance().build().withEndpointIdentifier("image-upload/v4/user-profile").withHost("https://image-upload.spotify.com/v4").withMethod("POST").withPath("/user-profile").withBody(e).withoutGlobalHeaders().withHeaders([{key:"Content-Type",value:"image/jpeg"}]).withoutMarket().send();if(!a.body)throw new Error("No upload token recieved");return a.body.uploadToken}(a);d({type:"setImageToken",token:e}),d(Le(!1))}catch{d(He(Fe))}},onError:c}),(0,v.jsxs)("div",{className:ze,children:[(0,v.jsx)(ue,{name:a,images:u,onClickEdit:l,onClickRemove:m}),n.loading&&(0,v.jsx)("div",{className:Qe,children:(0,v.jsx)(X.T,{})})]}),(0,v.jsxs)("div",{className:qe,children:[(0,v.jsx)("label",{htmlFor:"user-edit-name",className:$e,children:(0,v.jsx)(q.D,{variant:"finaleBold",className:Xe,children:k.ag.get("user.edit-details.name-label")})}),(0,v.jsx)("input",{"data-testid":"user-edit-name-input",id:"user-edit-name",type:"text",dir:"auto",className:j()(Ge,Ze),onChange:e=>{d(function(e){return{type:"setName",name:e}}(e.target.value))},placeholder:k.ag.get("user.edit-details.name-placeholder"),maxLength:32,value:n.name})]}),(0,v.jsx)("div",{className:Ye,children:(0,v.jsx)(Z.D,{colorSet:"invertedLight",onClick:g,disabled:n.loading,children:k.ag.get("save")})}),(0,v.jsx)(q.D,{as:"p",variant:"finaleBold",className:ea,children:k.ag.get("image-upload.legal-disclaimer")})]})]})})}));var ta=t(88585),ia=t.n(ta),sa=t(27550),ra=t(80240),oa=t(63305),la=t(81093),na=t(15696),da=t(96532),ua=t(74366);const ca=({className:e,isCurrentUser:a,userId:t,username:s,userDisplayName:r})=>{const{projects:o,fetchProjects:l}=(0,la.w)(a,s),n=o?.filter((e=>!(0,oa.o)(e))),d=o?.filter((e=>(0,oa.o)(e)&&!e.isPrivate)),u=o?.filter((e=>(0,oa.o)(e)&&e.isPrivate));return(0,i.useEffect)((()=>{const e=setInterval((()=>{const e=o?.filter((e=>e.publishingState===da.H.IN_PROGRESS));e&&e.length>0&&l()}),3e4);return()=>clearInterval(e)}),[l,o]),(0,na.I)(ua.O.USER_PROJECTS_UPDATED,(async()=>l())),o?(0,v.jsxs)(v.Fragment,{children:[n.length>0&&(0,v.jsxs)("section",{className:e,children:[(0,v.jsx)(sa.r,{title:k.ag.get("web-player.soundtrap.unpublished-projects.title"),tagline:k.ag.get("web-player.soundtrap.unpublished-projects.tagline"),seeAllUri:ia().profileURI(t,["soundtrap","unpublished"]).toURI(),hasMoreElements:n.length>4}),(0,v.jsx)(ra.M,{data:n,userDisplayName:r,isCurrentUser:a,maxNumberOfTracks:4})]}),u.length>0&&(0,v.jsxs)("section",{className:e,children:[(0,v.jsx)(sa.r,{title:k.ag.get("web-player.soundtrap.private-songs.title"),tagline:k.ag.get("web-player.soundtrap.private-songs.tagline"),seeAllUri:ia().profileURI(t,["soundtrap","private"]).toURI(),hasMoreElements:u.length>4}),(0,v.jsx)(ra.M,{data:u,userDisplayName:r,isCurrentUser:a,maxNumberOfTracks:4})]}),d.length>0&&(0,v.jsxs)("section",{className:e,children:[(0,v.jsx)(sa.r,{title:k.ag.get("web-player.soundtrap.public-songs.title"),tagline:a?k.ag.get("web-player.soundtrap.public-songs.tagline"):null,seeAllUri:ia().profileURI(t,["soundtrap","public"]).toURI(),hasMoreElements:d.length>4}),(0,v.jsx)(ra.M,{data:d,userDisplayName:r,isCurrentUser:a,maxNumberOfTracks:4})]})]}):null};var ma=t(30228),ga=t(87452),pa=t(91328),ha=t(84862),fa=t(7501),va=t(42069),xa=t(84805),ba=t(79208),ya=t(56973),Ia=t(98340),ja=t(34604),ka=t(16976);const Na=({imageUriOrUrl:e="",desiredMosaicSize:a=300}={})=>{if(!e)return"";if(e.startsWith("spotify:")){const[,t,...i]=e.split(":");if("image"===t)return`https://i.scdn.co/image/${i[0]}`;if("mosaic"===t)return`https://mosaic.scdn.co/${a}/${i.join("")}`}return e};var _a=t(64827),Pa=t(10117),wa=t(25875),Sa=t(67779),Ca=t(17325),Ra=t(9586),Oa=t(46997),Da=t(73305),Ua=t(40239);const Ea=i.memo((function({tracks:e,hasHeaderRow:a=!1,nrTracksVisible:t,uri:s}){const r=(0,me.C)(s),o=(0,l.qC)(r,"tracks").toURI(),n=(0,i.useMemo)((()=>t?e.slice(0,t):e),[t,e]),{usePlayContextItem:d}=(0,Da.n)({uri:o,pages:[{items:e.map((e=>({type:Ua.p.TRACK,uri:e.uri,uid:null,provider:null})))}]},{featureIdentifier:"profile",referrerIdentifier:"user_profile"}),u=(0,i.useCallback)(((e,a)=>{const t=(0,ka.X)(e?.album?.images,{desiredSize:40});return(0,v.jsx)(Ca.SS,{index:a,uri:(0,Ra.$)(e),duration_ms:e.duration_ms,name:e.name,artists:e.artists,album:e.album,isPlayable:!0,isExplicit:!!e.explicit,isMOGEFRestricted:!!e.mogef19,imgUrl:t?.url||"",contextUri:o,usePlayContextItem:d},a+e.uri)}),[o,d]),c=(0,i.useMemo)((()=>[Sa.QD.INDEX,Sa.QD.TITLE,Sa.QD.ALBUM,Sa.QD.DURATION]),[]),m=(0,i.useCallback)((e=>e.uri),[]);return(0,v.jsx)(Oa.ZP,{value:"user-top-tracks-tracklist",children:(0,v.jsx)(Sa.Pv,{ariaLabel:k.ag.get("top_tracks_this_month"),renderRow:u,nrTracks:n.length,tracks:n,resolveUri:m,hasHeaderRow:a,columns:c})})}),((e,a)=>e.tracks===a.tracks)),Aa=i.memo((function({tracks:e,title:a,tagline:t,seeAllUri:s,className:r,uri:o,spec:l}){const n=(0,ja.$P)(),d=(0,i.useCallback)((()=>{const e=l.titleLinkFactory().hitUiNavigate({destination:s});n.logInteraction(e)}),[n,s,l]),u=(0,i.useCallback)((()=>{const e=l.titleLinkFactory().hitUiNavigate({destination:s});n.logInteraction(e)}),[n,s,l]);if(!e||0===e.length)return null;const c=e.length>4;return(0,v.jsxs)("section",{className:r,children:[(0,v.jsx)(sa.r,{title:a,tagline:t,seeAllUri:s,hasMoreElements:c,onClickTitle:d,onClickSeeAll:u}),(0,v.jsx)(ja.Nh,{spec:l,children:(0,v.jsx)(Ea,{tracks:e,uri:o,nrTracksVisible:4})})]})}),((e,a)=>e.tracks===a.tracks));function Ta(e,a){switch(a.type){case"OPEN_MODAL":return{isModalOpen:!0,modalVariant:"editProfile",shouldOpenImagePicker:!1};case"OPEN_MODAL_WITH_IMAGEPICKER":return{isModalOpen:!0,modalVariant:"editProfile",shouldOpenImagePicker:!0};case"OPEN_SOUNDTRAP_MODAL":return{isModalOpen:!0,modalVariant:"soundtrap",shouldOpenImagePicker:!1};case"CLOSE_MODAL":return{isModalOpen:!1,modalVariant:null,shouldOpenImagePicker:!1};default:return e}}const Ma=({uri:e})=>{const a=(0,A.v9)(xa.Gf),t=(0,A.v9)(xa.A$),o=(0,A.I0)(),n=(0,T.W6)(wa.Nf,{loadingValue:!1}),d=(0,T.W6)(wa.AJ,{loadingValue:!1}),[g,p]=(0,fa.H)(e),f=(0,i.useMemo)((()=>(0,ka.X)(t)),[t]),[{isModalOpen:x,modalVariant:b,shouldOpenImagePicker:y},I]=function(){const[e,a]=(0,i.useReducer)(Ta,{isModalOpen:!1,modalVariant:null,shouldOpenImagePicker:!1});return[e,a]}(),S=(0,ga.o)(),R=!(0,pa.k)(),{data:O,loading:D}=(0,c.J)(m.n5.getProfile,[{uri:e,playlists:10,artists:10,episodes:10}]),U=O?.public_playlists,E=O?.is_verified,q=O?.is_current_user||!1,$=O?.recently_played_artists,X=O?.user_created_show,Z=q?f?.url||"":O?.image_url||"",Y=(0,me.C)(e),ee=(0,A.v9)(va.C7),ae=(q?a:O?.name)||"",te=(0,ha.Z)(O?.image_url||null),{userId:ie=""}=(0,r.UO)(),{spec:se,logger:re}=(0,ja.fU)(M.createDesktopProfileEventFactory,{data:{uri:e,identifier:ie}}),oe=(0,i.useMemo)((()=>se.sectionTopTracksFactory()),[se]),{data:le,loading:ne}=(0,c.J)(m.n5.getFollowing,[e]),de=le?.profiles,{data:ue,loading:ce}=(0,c.J)(m.n5.getFollowers,[e]),ge=ue?.profiles,pe=(0,i.useMemo)((()=>(e=>e?m.n5.getUserTopArtists:()=>Promise.resolve({status:200,body:{items:[],offset:0,limit:0,total:0,href:"",next:null,previous:null}}))(q)),[q]),he=(0,i.useMemo)((()=>(e=>e?m.n5.getUserTopTracks:()=>Promise.resolve({status:200,body:{items:[],offset:0,limit:0,total:0,href:"",next:null,previous:null}}))(q&&!ee)),[q,ee]),{data:fe,loading:ve}=(0,c.J)(pe,[]),{data:xe,loading:be}=(0,c.J)(he,[]),ye=fe?.body,Ie=xe?.body,je=(0,T.W6)(wa.sT,{loadingValue:!1}),{projects:ke}=(0,la.w)(q,ie),[Ne,_e]=(0,i.useState)(null),Pe=(0,s.k6)();(0,i.useEffect)((()=>{if(je&&ke&&"soundtrap_publish"===Pe.location.state?.referrer&&Pe.location.state?.newProjectId){const e=ke?.find((e=>e.soundtrapProjectId===Pe.location.state?.newProjectId));e&&(_e(e),I({type:"OPEN_SOUNDTRAP_MODAL"}))}}),[Pe,je,I,ke]);const we=(0,i.useCallback)((()=>{S({targetUri:e,intent:g?"unfollow":"follow",type:"click"});const a=se.actionBarFactory().followButtonFactory();g?(p(!1),re.logInteraction(a.hitUnfollow({itemToBeUnfollowed:e}))):(p(!0),re.logInteraction(a.hitFollow({itemToBeFollowed:e})))}),[g,re,S,p,se,e]),Se=(0,i.useCallback)((e=>{I({type:"CLOSE_MODAL"}),e?(o((0,ba.dL)(e.name)),o((0,ba.GR)(e.image?[{url:e.image,height:null,width:null}]:[]))):"soundtrap_publish"===Pe.location.state?.referrer&&Pe.location.state?.newProjectId&&Pe.replace(Pe.location.pathname)}),[o,I,Pe]),Ce=(0,i.useCallback)((()=>{I({type:"OPEN_MODAL"});const e=se.headerFactory().usernameFactory().hitUiReveal();re.logInteraction(e)}),[re,I,se]),Re=(0,i.useCallback)((()=>{I({type:"OPEN_MODAL_WITH_IMAGEPICKER"});const e=se.headerFactory().profileImageFactory().hitUiReveal();re.logInteraction(e)}),[re,I,se]),Oe=(0,i.useMemo)((()=>[{url:Z}]),[Z]),De=(0,i.useCallback)((()=>{const e=se.headerFactory().usernameFactory().hitUiReveal();re.logInteraction(e)}),[re,se]),Ue=(0,i.useCallback)(((e,a)=>{if(!a)return;const t=se.headerFactory().followersLinkFactory().hitUiNavigate({destination:a});re.logInteraction(t)}),[re,se]),Ee=(0,i.useCallback)(((e,a)=>{if(!a)return;const t=se.headerFactory().followersLinkFactory().hitUiNavigate({destination:a});re.logInteraction(t)}),[re,se]),Ae=(0,i.useCallback)((()=>{const e=se.actionBarFactory().contextMenuButtonFactory().hitUiReveal();re.logInteraction(e)}),[re,se]);if(!O||D||ne||ce||be||ve)return(0,v.jsx)(_.h,{hasError:!1,errorMessage:k.ag.get("error.not_found.title.page")});const Te=j()("contentSpacing",w);function Me(e){return X&&n?e:e-1}let Fe=!!ge?.length,Le=!!de?.length;return d&&(Fe&&=q||O.show_follows,Le&&=q||O.show_follows),(0,v.jsxs)("div",{className:P,children:[(0,v.jsx)(u.$,{children:ae}),(0,v.jsxs)(B.gF,{backgroundColor:te,children:[(0,v.jsx)(z.W,{children:(0,v.jsx)(Q.i,{text:ae})}),(0,v.jsx)(Ia._,{menu:(0,v.jsx)(J.I,{uri:O.uri}),children:(0,v.jsx)("div",{className:C,children:(0,v.jsx)(K.T,{canEdit:q,name:ae,images:Oe,onClick:Re,placeholderType:"user",shape:B.Kc.CIRCLE})})}),(0,v.jsxs)(B.sP,{children:[(0,v.jsx)(B.dy,{small:!0,uppercase:!0,children:E?(0,v.jsx)(_a.S,{text:k.ag.get("card.tag.profile")}):k.ag.get("card.tag.profile")}),(0,v.jsx)(Ia._,{menu:(0,v.jsx)(J.I,{uri:O.uri}),children:(0,v.jsx)(B.xd,{canEdit:q,editTitle:k.ag.get("playlist.edit-details.title"),onClick:Ce,children:ae})}),(0,v.jsx)(B.QS,{totalFollowers:O.followers_count,totalFollowing:O.following_count,publicPlaylists:O.total_public_playlists_count,userUri:e,onCreatorClick:De,onTotalFollowersClick:Ue,onTotalFollowingClick:Ee})]})]}),(0,v.jsx)(F.o,{backgroundColor:te,children:(0,v.jsxs)(F.F,{children:[!q&&(0,v.jsx)(V.r,{children:(0,v.jsx)(G.e,{isFollowing:Boolean(g),onClick:we,disabled:R})}),(0,v.jsx)(ya.y,{menu:(0,v.jsx)(J.I,{uri:O.uri,onEditProfileCallback:Ce}),children:(0,v.jsx)(L.z,{label:k.ag.get("more.label.context",ae),onClick:Ae})})]})}),(0,v.jsxs)(ja.Nh,{spec:se,children:[je&&(0,v.jsx)(ca,{className:Te,userId:ie,username:Y,userDisplayName:ae,isCurrentUser:q}),X&&n&&(0,v.jsx)(Pa.q,{className:Te,total:X.total_episode_count,title:k.ag.get("episodes"),seeAllUri:(0,l.QK)(Y,["episodes"]).toURI(),id:"episodes",index:0,children:X.episodes?.map(((e,a)=>(0,v.jsx)(h.B,{index:a,uri:e.uri,name:e.name,images:e.images,durationMilliseconds:1e3*parseInt(e.duration?.seconds??"0",10),releaseDate:e.publish_time?.toISOString(),description:`Stream count ${e.stream_count}`,showImages:[],resume_point:null,isExplicit:!1,is19PlusOnly:!1,sharingInfo:null},e.uri)))}),(0,v.jsx)(Pa.q,{className:Te,total:ye?.total||0,title:k.ag.get("top_artists_this_month"),tagline:k.ag.get("only_visible_to_you"),seeAllUri:(0,l.QK)(Y,["top","artists"]).toURI(),id:"top-artists",index:Me(1),children:ye?.items.map(((e,a)=>(0,v.jsx)(H.I,{index:a,uri:e.uri,name:e.name,images:e.images},e.uri)))}),(0,v.jsx)(Aa,{className:Te,title:k.ag.get("top_tracks_this_month"),tagline:k.ag.get("only_visible_to_you"),seeAllUri:(0,l.QK)(Y,["top","tracks"]).toURI(),uri:e,tracks:Ie?.items,spec:oe}),(0,v.jsx)(Pa.q,{className:Te,total:O.total_public_playlists_count,title:k.ag.get("public_playlists"),seeAllUri:(0,l.QK)(Y,["playlists"]).toURI(),id:"playlists",index:Me(2),children:U?.map(((e,a)=>(0,v.jsx)(W.Z,{index:a,uri:e.uri,name:e.name,images:[{url:Na({imageUriOrUrl:e.image_url}),width:300,height:300}],authorName:e.owner_name,description:e.followers_count?k.ag.get("user.followers",e.followers_count):""},e.uri)))}),$?.length?(0,v.jsx)(Pa.q,{className:Te,total:$?.length,title:k.ag.get("recently_played_artists"),seeAllUri:(0,l.QK)(Y,["recently-played-artists"]).toURI(),id:"recently-played-artists",index:Me(3),children:$?.map(((e,a)=>(0,v.jsx)(H.I,{index:a,uri:e.uri,name:e.name,images:[{url:e.image_url}]},e.uri)))}):null,Fe?(0,v.jsx)(Pa.q,{className:Te,title:k.ag.get("followers"),total:ge?.length,seeAllUri:(0,l.QK)(Y,["followers"]).toURI(),id:"followers",index:Me(4),children:ge?.map(((e,a)=>(0,v.jsx)(N.P,{index:a,uri:e.uri,name:e.name,images:[{url:e.image_url}]},e.uri)))}):null,Le?(0,v.jsx)(Pa.q,{className:Te,title:k.ag.get("following"),total:de?.length,seeAllUri:(0,l.QK)(Y,["following"]).toURI(),id:"following",index:Me(5),children:de?.map(((e,a)=>(0,v.jsx)(N.P,{index:a,uri:e.uri,name:e.name,images:[{url:e.image_url}]},e.uri)))}):null,q&&x&&("editProfile"===b?(0,v.jsx)(aa,{uri:e,name:ae,image:Z,onClose:Se,shouldOpenImagePicker:y}):"soundtrap"===b&&je&&Ne?(0,v.jsx)(ma.x,{project:Ne,userDisplayName:ae,onClose:Se}):null)]})]})},Fa=e=>{const{uri:a}=e,{data:t,loading:i,error:s}=(0,c.J)(m.n5.getPlaylists,[{uri:a}]),{public_playlists:r,total_public_playlists_count:o=0}=t||{};return i?(0,v.jsx)(_.h,{hasError:null!==s,errorMessage:k.ag.get("error.not_found.title.page")}):(0,v.jsx)(f.P,{className:j()("contentSpacing",S),total:o,title:k.ag.get("public_playlists"),showAll:!0,children:r?.map(((e,a)=>(0,v.jsx)(W.Z,{index:a,uri:e.uri,name:e.name,authorName:e.owner_name,description:e.followers_count?k.ag.get("user.followers",e.followers_count):"",images:[{url:Na({imageUriOrUrl:e.image_url}),width:300,height:300}]},e.uri)))})},La=e=>{const{uri:a}=e,{data:t,loading:i,error:s}=(0,c.J)(m.n5.getRecentlyPlayedArtists,[{uri:a,limit:50}]),r=t?.artists;return i?(0,v.jsx)(_.h,{hasError:null!==s,errorMessage:k.ag.get("error.not_found.title.page")}):(0,v.jsx)(f.P,{className:j()("contentSpacing",S),total:r?.length,title:k.ag.get("recently_played_artists"),showAll:!0,children:r?.map(((e,a)=>(0,v.jsx)(H.I,{index:a,name:e.name,uri:e.uri,images:[{url:e.image_url}]},e.uri)))})},Ha=()=>{const{data:e,loading:a,error:t}=(0,c.J)(m.n5.getUserTopArtists),i=e?.body;return a?(0,v.jsx)(_.h,{hasError:null!==t,errorMessage:k.ag.get("error.not_found.title.page")}):i?(0,v.jsx)(f.P,{className:j()("contentSpacing",S),total:i.items.length,title:k.ag.get("top_artists_this_month"),tagline:k.ag.get("only_visible_to_you"),showAll:!0,children:i.items.map(((e,a)=>(0,v.jsx)(H.I,{index:a,uri:e.uri,name:e.name,images:e.images},e.uri)))}):null},Wa=({uri:e})=>{const{data:a,loading:t,error:i}=(0,c.J)(m.n5.getProfile,[{uri:e}]);return a&&!t&&(a?.is_current_user||!1)?(0,v.jsx)(Ha,{}):(0,v.jsx)(_.h,{hasError:null!==i,errorMessage:k.ag.get("error.not_found.title.page")})},Ja=({uri:e})=>{const{data:a,loading:t,error:i}=(0,c.J)(m.n5.getUserTopTracks,[{offset:0,limit:50}]),s=a?.body;return t?(0,v.jsx)(_.h,{hasError:null!==i,errorMessage:k.ag.get("error.not_found.title.page")}):s?(0,v.jsxs)("div",{className:j()("contentSpacing",S,R),children:[(0,v.jsxs)("div",{className:O,children:[(0,v.jsx)(q.D,{as:"h1",variant:"canon",className:D,children:k.ag.get("top_tracks_this_month")}),(0,v.jsx)(q.D,{as:"p",variant:"mesto",children:k.ag.get("only_visible_to_you")})]}),(0,v.jsx)(Ea,{tracks:s.items,uri:e,hasHeaderRow:!0})]}):null},Ka=({uri:e})=>{const{data:a,loading:t,error:i}=(0,c.J)(m.n5.getProfile,[{uri:e}]);return a&&!t&&(a?.is_current_user||!1)?(0,v.jsx)(Ja,{uri:e}):(0,v.jsx)(_.h,{hasError:null!==i,errorMessage:k.ag.get("error.not_found.title.page")})},Ba=(0,i.memo)((function(){const{userId:e=""}=(0,r.UO)(),a=decodeURIComponent(e),t=(0,l.QK)(a).toURI();return(0,v.jsx)("section",{children:(0,v.jsxs)(s.rs,{children:[(0,v.jsx)(n.g,{exact:!0,path:"/user/:userId/playlists",pathV6:"playlists",children:(0,v.jsx)(d.K,{pageId:o.Wg.PROFILE_PLAYLISTS,children:(0,v.jsx)(Fa,{uri:t})})}),(0,v.jsx)(n.g,{exact:!0,path:"/user/:userId/top/tracks",pathV6:"top/tracks",children:(0,v.jsx)(d.K,{pageId:o.Wg.PROFILE_TOP_TRACKS,children:(0,v.jsx)(Ka,{uri:t})})}),(0,v.jsx)(n.g,{exact:!0,path:"/user/:userId/top/artists",pathV6:"top/artists",children:(0,v.jsx)(d.K,{pageId:o.Wg.PROFILE_TOP_ARTISTS,children:(0,v.jsx)(Wa,{uri:t})})}),(0,v.jsx)(n.g,{exact:!0,path:"/user/:userId/recently-played-artists",pathV6:"recently-played-artists",children:(0,v.jsx)(d.K,{pageId:o.Wg.PROFILE_RECENTLY_PLAYED_ARTISTS,children:(0,v.jsx)(La,{uri:t})})}),(0,v.jsx)(n.g,{exact:!0,path:"/user/:userId/following",pathV6:"following",children:(0,v.jsx)(d.K,{pageId:o.Wg.PROFILE_FOLLOWING,children:(0,v.jsx)(E,{uri:t})})}),(0,v.jsx)(n.g,{exact:!0,path:"/user/:userId/followers",pathV6:"followers",children:(0,v.jsx)(d.K,{pageId:o.Wg.PROFILE_FOLLOWERS,children:(0,v.jsx)(U,{uri:t})})}),(0,v.jsx)(n.g,{exact:!0,path:"/user/:userId/episodes",pathV6:"episodes",children:(0,v.jsx)(d.K,{pageId:o.Wg.PROFILE_EPISODES,children:(0,v.jsx)(y,{uri:t})})}),(0,v.jsx)(n.g,{exact:!0,path:"/user/:userId",pathV6:"/",children:(0,v.jsx)(d.K,{pageId:o.Wg.PROFILE,children:(0,v.jsx)(Ma,{uri:t})})})]})})})),Va=Ba},9586:(e,a,t)=>{t.d(a,{$:()=>i});const i=e=>e?.linked_from?.uri||e.uri}}]);
//# sourceMappingURL=xpui-routes-profile.js.map