"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[6210],{25857:(e,t,n)=>{n.d(t,{K:()=>u});var a=n(59496),s=n(84875),o=n.n(s),r=n(1781),i=n(63266),c=n(37480);const l="G8b_VGQSxRwZSatAhUTd";var d=n(4637);const h=(0,a.lazy)((()=>n.e(3071).then(n.bind(n,53071))));function u({children:e,"data-testid":t,className:n,crossPromoVariant:s,...u}){const m=(0,a.useMemo)((()=>(0,d.jsx)(r.x,{..."to"in u?{to:u.to}:void 0,children:(0,d.jsx)(c.PodcastSponsorCallToActionButtonBase,{children:e,...u})})),[e,u]);return(0,d.jsx)("div",{className:o()(l,n),"data-testid":t,children:s&&s.buttonAction!==i.kI?(0,d.jsx)(a.Suspense,{fallback:m,children:(0,d.jsx)("div",{children:(0,d.jsx)(h,{crossPromoVariant:s,children:e,potentiallyMalformedUri:"to"in u?u.to:void 0,...u})})}):m})}},37480:(e,t,n)=>{n.r(t),n.d(t,{PodcastSponsorCallToActionButtonBase:()=>r,default:()=>i});var a=n(4285),s=n(2592),o=n(4637);function r({children:e,...t}){return(0,o.jsx)(a.D,{as:"div",...t,buttonSize:t.buttonSize||a.D.sm,children:(0,o.jsx)(s.D,{variant:"mestoBold",children:e})})}const i=r},1781:(e,t,n)=>{n.d(t,{x:()=>r});var a=n(59496),s=n(4637);const o=(0,a.lazy)((()=>Promise.resolve().then(n.bind(n,45937))));function r(e){return"to"in e?(0,s.jsx)(o,{...e}):(0,s.jsx)("div",{...e})}},60887:(e,t,n)=>{n.d(t,{G:()=>r,I:()=>o});var a=n(59496),s=n(77646);const o=e=>e?async e=>{const{adsCosmos:t}=await Promise.resolve().then(n.bind(n,80834));return await t.get(e)}:e=>fetch(e,{mode:"no-cors"});function r(e){const{isDesktop:t}=(0,s.v9)((e=>e.platform));return(0,a.useMemo)((()=>e(t)),[e,t])}},63266:(e,t,n)=>{n.d(t,{Pu:()=>s,kI:()=>a});const a="navigate",s="follow"},66210:(e,t,n)=>{n.r(t),n.d(t,{MAX_SPONSORS_TO_DISPLAY_IN_PREVIEW_IF_SOME_ARE_HIDDEN:()=>k,ShowSponsorsPreviewWithData:()=>I,default:()=>P});var a=n(59496),s=n(2592),o=n(60570),r=n(46076),i=n(60887),c=n(25857),l=n(95053),d=n(84875),h=n.n(d);const u="GoBUqE90bjUv_7ndH9Fw";var m=n(4637);function v(e){return(0,m.jsx)("span",{...e,className:h()(u,e.className)})}const S="RnqjezHOt23z2EKd7j_l",f="M33ItRKEoYWPnq4DwL8n",p="KfQ2IK1i8BYSRgl3VYf4",w="Re1JThkswwaLzRdqavcO",g="uvrjZps73BZs41Z_0JcP",x="w2tPVFzE6CB2GFDWFwlE";function j({thereIsOnlyASingleShowSponsor:e,firstShowSponsor:t,showSponsorsDataThatActuallyGetDisplayedInPreview:n,numberOfHiddenSponsors:a}){return(0,m.jsxs)(s.D,{className:h()(f,{[w]:e}),children:["Sponsored by"," ",e?(0,m.jsx)(v,{children:t.metadata.advertiser}):(0,m.jsxs)(m.Fragment,{children:[n.length>2?n.slice(0,-2).flatMap(((e,t)=>[(0,m.jsx)(v,{children:e.metadata.advertiser},`advertiser ${e.metadata.creativeId||e.metadata.creative_id||e.metadata.advertiser} - ${t}`),", "])):"",a?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(v,{children:n[n.length-2].metadata.advertiser}),","," ",(0,m.jsx)(v,{children:n[n.length-1].metadata.advertiser})," ","and more"]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(v,{children:n[n.length-2].metadata.advertiser})," ","and"," ",(0,m.jsx)(v,{children:n[n.length-1].metadata.advertiser})]}),"."]})]})}var _=n(33184),E=n(1781);const k=5;function I(e){const t={...e,fireTrackingEvent:e.fireTrackingEvent??i.I},{showSponsorsData:n,showId:d}=t,u=(0,l.D)(d),v=(0,a.useMemo)((()=>n.length>6?n.length-k:0),[n]),f=(0,a.useMemo)((()=>n.slice(0,v?k:6)),[n,v]),w=1===f.length,I=f[0],P=(0,r.s4)(),b=(0,i.G)(t.fireTrackingEvent);(0,a.useEffect)((function(){w&&f.forEach((({trackingEvents:e})=>e?.viewed.forEach(b)))}),[w,f,b]);const y=(0,a.useCallback)((async e=>P.send((0,o.createPodcastAdCtaCardEvent)({uri:t.uri,reason:"Show page",lineitem_id:f.map((e=>e.metadata.lineitemId)),...e}))),[t.uri,f,P]);(0,a.useEffect)((function(){y()}),[t.showSponsorsData,y]);const D=function({thereIsOnlyASingleShowSponsor:e,props:t,allShowSponsorsPathname:n,sendPodcastAdCtaCardEventForShowSponsorsPreview:s,firstShowSponsor:o,fireTrackingEvent:r=i.I}){const c=(0,i.G)(r);return(0,a.useMemo)((()=>{const a=h()(S,{[p]:e}),r={"--max-sponsors-to-display-in-preview":6,"--logo-size":"38px"};return e?function(e){return(0,m.jsx)(E.x,{className:a,style:r,to:o.clickthrough,...e,onClick:function(t){e.onClick?.(t),o.trackingEvents?.clicked?.forEach(c),s({ui_navigate:[o.clickthrough],navigate_to_external_uri:[!0]})}})}:function(e){return(0,m.jsx)(_.rU,{className:a,style:r,to:{pathname:n},state:t,...e,onClick:function(t){e.onClick?.(t),s({cta_card_see_all:!0})}})}}),[e,t,n,s,o,c])}({thereIsOnlyASingleShowSponsor:w,props:t,allShowSponsorsPathname:u,sendPodcastAdCtaCardEventForShowSponsorsPreview:y,firstShowSponsor:I});return(0,m.jsxs)(D,{children:[f?.map(((e,t)=>(0,m.jsx)("img",{src:e.metadata.logoImage,alt:e.metadata.advertiser,width:38,height:38,className:g},`logo image ${e.metadata.creativeId||e.metadata.creative_id||e.metadata.advertiser} - ${t}`))),v?(0,m.jsxs)(s.D,{className:x,children:["+",v]}):null,(0,m.jsx)(j,{thereIsOnlyASingleShowSponsor:w,firstShowSponsor:I,showSponsorsDataThatActuallyGetDisplayedInPreview:f,numberOfHiddenSponsors:v}),w?(0,m.jsx)(c.K,{children:I.metadata.buttonMessage}):null]})}const P=I}}]);
//# sourceMappingURL=6210.js.map