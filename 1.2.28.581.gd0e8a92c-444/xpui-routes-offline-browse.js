"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[1997],{21347:(e,a,i)=>{i.r(a),i.d(a,{default:()=>U});i(55330);var n=i(84875),r=i.n(n),s=i(5701),t=i(53319),l=i(79068),u=i(94939),c=i(35151),o=i(45618),d=i(91733),g=i(96215),m=i(11527);function x(e,a){switch(e.type){case d.p.ALBUM:return(0,m.jsx)(t.r,{uri:e.uri,name:e.name,images:e.images,sharingInfo:null,artists:e.artists,index:a},e.uri);case d.p.ARTIST:return(0,m.jsx)(l.I,{uri:e.uri,name:e.name,images:e.images,index:a},e.uri);case d.p.SHOW:return(0,m.jsx)(o._,{uri:e.uri,name:e.name,images:e.images,publisher:e.publisher,sharingInfo:null,mediaType:g.E.UNKNOWN,index:a},e.uri);case d.p.AUDIOBOOK:return(0,m.jsx)(u.c,{uri:e.uri,name:e.name,images:e.images,authorName:e.authorName,index:a},e.uri);case d.p.PLAYLIST:return(0,m.jsx)(c.Z,{uri:e.uri,name:e.name,images:e.images,description:"",authorName:e.creatorName,index:a},e.uri);default:return null}}var f=i(61801),h=i(50959),p=i(49857),b=i(10642),j=i(82608),y=i(55170),w=i(39154),v=i(68473),S=i(16055),I=i(2292),N=i(642),k=i(22038),P=i(11765),A=i(30059),C=i(61144);const L=function({uri:e,name:a,images:i,index:n}){const r=(0,S.u)(),t=(0,h.useRef)(null),l=(0,h.useRef)(!0),u=(0,h.useContext)(I.t),{isPlaying:c}=(0,P.cR)(v.b),{togglePlay:o}=(0,k.n)({uri:v.b,pages:[{items:t.current?.map((e=>({...e,provider:null})))||[]}]},{featureIdentifier:"local_files"});(0,h.useEffect)((()=>(l.current=!0,()=>{l.current=!1})),[]);const d=(0,N.I)(),g=(0,p.y1)((async(e,a)=>{if(!t.current){const e=await u.getTracks();t.current=e}l&&o({loggingParams:a},{uri:v.b,pages:[{items:t.current?.map((e=>({...e,provider:null})))||[]}]})}),w.s_,{leading:!0,trailing:!1});return r.canFetchAllTracks&&d?(0,m.jsx)(b.Z,{index:n,delegatePlayback:!0,delegateLogging:!0,isPlaying:c,onPlay:g,headerText:a,featureIdentifier:"local_files",uri:e,renderCardImage:()=>(0,m.jsx)(j.x,{images:i,FallbackComponent:A.S}),renderSubHeaderContent:()=>(0,m.jsx)(C.i,{children:s.ag.get("local-files.description")})}):null},T=({index:e})=>{const a=(0,y.gB)();return(0,m.jsx)(h.Suspense,{fallback:null,children:(0,m.jsx)(L,{index:e,name:a.name,uri:a.uri,images:a.images})})};var _=i(86352),B=i(87190);const O="ctcxxigybw6qGQde916g",R="QGlY4v4eRdOcBHgHljcF",D="LFYYI0yKpFvSeNhBWRw4",E=()=>(0,m.jsxs)("div",{className:R,children:[(0,m.jsx)(_.D,{size:"xxlarge",className:D}),(0,m.jsx)(B.D,{as:"h1",variant:"brio",semanticColor:"textBase",dir:"auto",children:s.ag.get("web-player.offline.empty-state.title")}),(0,m.jsx)(B.D,{as:"h2",variant:"ballad",semanticColor:"textSubdued",dir:"auto",children:s.ag.get("web-player.offline.empty-state.subtitle")})]});var F=i(69767),H=i(94150);const U=function(){const{hasError:e,items:a}=function(){const e=(0,H.c)(),[a,i]=(0,h.useState)(!0),[n,r]=(0,h.useState)(!1),[s,t]=(0,h.useState)([]);return(0,h.useEffect)((()=>{(async()=>{try{const a=await e.getDownloads();t(a)}catch(e){r(!0)}finally{i(!1)}})()}),[e]),{isLoading:a,hasError:n,items:s}}(),i=(0,N.I)();return e?null:(0,m.jsx)("div",{className:r()(O,"contentSpacing"),children:a.length>0||i?(0,m.jsxs)(F.JL,{value:"headered-grid",children:[(0,m.jsx)(f.P,{title:s.ag.get("music_downloads"),total:a.length,seeAllUri:"/collection/music-downloads",alwaysShowSeeAll:!0,children:a.map(((e,a)=>(0,m.jsx)(F.JL,{value:"card",index:a,children:x(e,a)},e.uri)))}),i&&(0,m.jsx)(f.P,{title:s.ag.get("local-files"),total:1,showAll:!0,children:(0,m.jsx)(T,{index:0})})]}):(0,m.jsx)(E,{})})}}}]);
//# sourceMappingURL=xpui-routes-offline-browse.js.map