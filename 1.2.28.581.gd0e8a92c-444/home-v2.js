"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[7704],{53661:(e,t,s)=>{s.d(t,{E:()=>n});var i=s(50959),a=s(11527);const n=e=>(0,a.jsx)(i.Suspense,{fallback:null,children:(0,i.createElement)((0,i.lazy)((async()=>{const{FeatureActivationSection:e}=await Promise.all([s.e(1814),s.e(9792)]).then(s.bind(s,48673));return{default:e}})),e)})},70761:(e,t,s)=>{s.r(t),s.d(t,{SKELETON_CARDS_COUNT:()=>he,SKELETON_SHELVES_COUNT:()=>ge,default:()=>je});s(55330);var i=s(50959),a=s(84875),n=s.n(a),r=s(92389),o=s(76917),c=s(29611),l=s(79721),d=s(5701),p=s(8968),m=s(69080),u=s(77864),g=s(26831),h=s(11668),x=s(74082),f=s(90763),j=s(14908),y=s(1186),b=s(59242),v=s(80685),S=s(71610),w=s(59016),k=s(84726),D=s(90343),_=s(2473),N=s(87190),C=s(21651),E=s(60063),M=s(93722),H=s(10473),F=s(99422);const I="AaXwi9LLckdsxNwrosnQ",A="yX31EzBkHzNooefkSvT3",W="EjJHF7tjFYigQK8pIVbV",$="Z5xLXZofWXGooKRjW6kd",P="kM546dTx5cxDNH530zm8",L="mnhJCpUiriAb7Ay3HOTz",T="rRldspwHsrgo8DsecR2Q";var U=s(11527);const R=({isMWP:e})=>(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,disablePictureInPicture:!0,className:`${$} ${P}`,"aria-hidden":"true",children:[(0,U.jsx)("source",{src:(0,M.g)(`videos/Sw23-${e?"Mobile":"Desktop"}-Left.webm`),type:"video/webm; codecs=vp09.01.41.08"}),(0,U.jsx)("source",{src:(0,M.g)(`videos/Sw23-${e?"Mobile":"Desktop"}-Left.mp4`),type:"video/mp4"})]}),(0,U.jsxs)("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,disablePictureInPicture:!0,className:`${$} ${L}`,"aria-hidden":"true",children:[(0,U.jsx)("source",{src:(0,M.g)(`videos/Sw23-${e?"Mobile":"Desktop"}-Right.webm`),type:"video/webm; codecs=vp09.01.41.08"}),(0,U.jsx)("source",{src:(0,M.g)(`videos/Sw23-${e?"Mobile":"Desktop"}-Right.mp4`),type:"video/mp4"})]})]}),O=({isMWP:e})=>(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)("picture",{children:[(0,U.jsx)("source",{srcSet:(0,M.g)(`images/Sw23-${e?"Mobile":"Desktop"}-Left.webp`),type:"image/webp"}),(0,U.jsx)("source",{srcSet:(0,M.g)(`images/Sw23-${e?"Mobile":"Desktop"}-Left.png`),type:"image/png"}),(0,U.jsx)("img",{className:`${$} ${P}`,src:"",alt:""})]}),(0,U.jsxs)("picture",{children:[(0,U.jsx)("source",{srcSet:(0,M.g)(`images/Sw23-${e?"Mobile":"Desktop"}-Right.webp`),type:"image/webp"}),(0,U.jsx)("source",{srcSet:(0,M.g)(`images/Sw23-${e?"Mobile":"Desktop"}-Right.png`),type:"image/png"}),(0,U.jsx)("img",{className:`${$} ${L}`,src:"",alt:""})]})]}),J=(0,i.forwardRef)((({linkUri:e,loggedIn:t,isMWP:s,isStatic:i=!1,onClick:a},r)=>{const o=(0,H.jh)(),c=(0,F.T)();return(0,U.jsx)("div",{className:I,ref:r,children:(0,U.jsxs)("div",{className:(0,_.Mg)("invertedLight",n()(A,{[W]:s})),children:[i||c?(0,U.jsx)(O,{isMWP:s}):(0,U.jsx)(R,{isMWP:s}),(0,U.jsx)(N.D,{as:"h2",variant:"brio",semanticColor:"textBase",className:T,children:t?d.ag.get("shared.wrapped-banner.title"):d.ag.get("shared.wrapped-banner.title-loggedout")}),(0,U.jsx)(N.D,{as:"p",variant:o===H.Uo.SMALL||s?"mesto":"ballad",semanticColor:"textBase",children:t?d.ag.get("shared.wrapped-banner.body"):d.ag.get("shared.wrapped-banner.body-loggedout")}),(0,U.jsx)(C.D,{colorSet:"invertedDark",iconTrailing:E.T,href:e,target:"_blank",size:o===H.Uo.SMALL||s?"small":"medium",onClick:a,children:d.ag.get("shared.wrapped-banner.button")})]})})}));var z=s(26917);const Z=()=>{const e=(0,k.g)(),t=(0,c.W6)(D.bQB),{openURLWithSessionTransfer:s}=(0,z.e)(),{spec:a,logger:n}=(0,b.fU)(w.e,{data:{identifier:"wrapped",uri:"spotify:2023wrapped"}}),r=(0,i.useMemo)((()=>a.campaignFactory({identifier:"wrapped",uri:"spotify:2023wrapped"}).bannerFactory({identifier:"home_wrapped_banner",uri:"desktop_banner"})),[a]),o=(0,b.Wi)(r),l="https://spotify.com/wrapped",d=(0,i.useCallback)((e=>{n.logInteraction(r.hitUiNavigate({destination:l})),s(l),e.preventDefault()}),[n,s,r]);return(0,U.jsx)(J,{linkUri:l,loggedIn:!e,onClick:d,ref:o,isStatic:t})};var Q=s(72686);const B=JSON.parse('{"uri":"spotify:section:0JQ5DAVAaDNAlq7hOF3StH","data":{"__typename":"HomeYourDJSectionData","title":{"text":"Meet DJ"}},"sectionItems":{"items":[{"uri":"spotify:playlist:37i9dQZF1EYkqdzj48dyYq","content":{"__typename":"PlaylistResponseWrapper","data":{"__typename":"Playlist","uri":"spotify:playlist:37i9dQZF1EYkqdzj48dyYq","name":"DJ","images":{"items":[{"sources":[{"url":"https://lexicon-assets.spotifycdn.com/DJ-Beta-CoverArt-300.jpg","width":null,"height":null}],"extractedColors":{"colorDark":{"hex":"#0858B8","isFallback":false}}}]},"description":"All kinds of music, picked by your own AI DJ.","ownerV2":{"data":{"__typename":"User","name":"Spotify"}}}},"data":null}],"totalCount":1}}');var K=s(4955),V=s(36564),q=s(86506),Y=(s(14534),s(69776),s(99801),s(15880)),X=s(87205);const G=({spec:e,section:t,index:s})=>(0,i.useMemo)((()=>t.sectionItems.items.some((e=>(0,X.d)(e.content)))),[t.sectionItems])?(0,U.jsx)(b.Nh,{spec:e.shelvesFactory(),children:(0,U.jsx)(Y.q,{total:t.sectionItems.totalCount,seeAllUri:t.uri,pageId:t.uri,title:t.data.title?.text??"",index:s,id:t.uri,children:t.sectionItems.items.map(X.x).filter((e=>!!e))})}):null;var ee=s(80111);const te=({spec:e,section:t,index:s})=>(0,U.jsx)(b.Nh,{spec:e.shelvesFactory(),children:(0,U.jsx)(ee.default,{title:t.data.title?.text??void 0,showAll:!1,index:s})});var se=s(17578),ie=s(53661),ae=s(18289);const ne=({spec:e,greeting:t,section:s,index:i})=>{const a=(0,V._n)();switch(s.data?.__typename){case"HomeGenericSectionData":return(0,U.jsx)(G,{spec:e,section:(0,ae.f)(s,s.data),index:i});case"HomeShortsSectionData":return(0,U.jsx)(se.s,{spec:e,greeting:t,section:(0,ae.f)(s,s.data)});case"HomeRecentlyPlayedSectionData":return(0,U.jsx)(te,{spec:e,section:(0,ae.f)(s,s.data),index:i});case"HomeFeedBaselineSectionData":case"HomeNativeAdsSectionData":case"HomeOnboardingSectionData":case"HomeOnboardingSectionDataV2":return null;case"HomeYourDJSectionData":{if(!a)return null;const e=(0,ae.f)(s,s.data),{data:t,sectionItems:i}=e,n=i.items[0];if("PlaylistResponseWrapper"===n.content.__typename&&"Playlist"===n.content.data.__typename){const{data:e}=n.content;return(0,U.jsx)(V.KE,{uri:V.rv,shelfTitle:t.title?.text??"",title:e.name,description:e.description??""})}return null}case"HomeFeatureActivationSectionDataV2":return(0,U.jsx)(ie.E,{sectionItems:s.sectionItems.items,uri:s.uri,localStorageKey:s.data.localStorageKey});case"HomeFeatureActivationSectionData":case null:case void 0:return null;default:return(0,q._)(s.data),null}},re=({spec:e,greeting:t,container:s})=>{const{spec:a,logger:n}=(0,b.fU)(Q.createDesktopHomeFeatureActivationShelfEventFactory,{}),r=((e,t)=>t?[e.sections.items[0],B,...e.sections.items.slice(1)]:e.sections.items)(s,(0,c.W6)(D.iiT,{loadingValue:!1}));return(0,i.useEffect)((()=>{(0,K.wW)()&&n.logImpression(a.impressionElementFactory().impression())}),[a,n]),(0,U.jsx)(U.Fragment,{children:r.map(((s,i)=>(0,U.jsx)(ne,{spec:e,greeting:t,section:s,index:i},`${i}-${s.uri}`)))})};var oe=s(81691),ce=s(42744),le=s(65939),de=s(87798),pe=s(49937);const me=()=>(0,c.W6)(D.Jw1)===D.pFI.ONHOME?(0,U.jsx)(pe.w,{children:(0,U.jsx)(de.W,{onSearch:!1})}):null;var ue=s(79590);const ge=6,he=6,xe=(0,i.memo)((({shelfCount:e,cardCount:t})=>(0,U.jsx)("section",{"data-testid":"home-page",children:(0,U.jsx)("div",{className:ue.Z.home,children:(0,U.jsxs)("div",{className:n()(ue.Z.content,"contentSpacing"),children:[(0,U.jsx)(m.H,{withTitle:!1}),[...new Array(e).keys()].map(((e,s)=>(0,U.jsx)(oe.e,{withTitle:!0,cardCount:t},s)))]})})}))),fe=({spec:e})=>{(0,g.z)("home");const t=(0,r.v9)(le.rZ),{subfeedId:s=null}=(0,o.UO)(),{data:i,error:a,fetching:l}=(0,v.b3)({timeZone:(0,S.UE)(),sp_t:(0,f.vQ)("sp_t")??"",country:t??"",facet:s},{cacheTime:S.us,staleTime:S.fS}),p=(0,c.W6)(D._dp),m=(0,c.W6)(D.bQB),h=p||m;if(l)return(0,U.jsx)(xe,{shelfCount:ge,cardCount:he});if(null!==a)return(0,U.jsx)(u.h,{hasError:!0,errorMessage:d.ag.get("error.generic")});const x=i?.home;return"HomeResponsePayload"!==x?.__typename?(0,U.jsx)(u.h,{hasError:!0,errorMessage:d.ag.get("error.generic")}):0===x.sectionContainer.sections.totalCount||0===x.sectionContainer.sections.items.length?((0,j.vK)(new Error("Empty response from pathfinder"),"Home"),(0,U.jsx)(u.h,{hasError:!0,errorMessage:d.ag.get("error.generic")})):(0,U.jsx)("section",{"data-testid":"home-page",children:(0,U.jsx)("div",{className:ue.Z.home,children:(0,U.jsxs)("div",{className:n()(ue.Z.content,"contentSpacing"),children:[h&&(0,U.jsx)(Z,{}),(0,U.jsx)(re,{spec:e,greeting:x.greeting?.text??null,container:x.sectionContainer})]})})})},je=()=>{const{spec:e}=(0,b.fU)(l.F,{data:{identifier:"home",uri:"spotify:home"}}),t=(0,c.W6)(D.ygs),s=(0,x.S)(t),a=(0,ce.k)({type:"locale",uri:"home"});return(0,U.jsx)(b.Nh,{spec:e,children:(0,U.jsxs)(h.q,{config:s,children:[(0,U.jsx)(p.$,{children:(0,y.nW)({i18n:d.ag,shouldLocalize:a})}),(0,U.jsx)(i.Suspense,{fallback:null,children:(0,U.jsx)(me,{})}),(0,U.jsx)(fe,{spec:e})]})})}}}]);
//# sourceMappingURL=home-v2.js.map