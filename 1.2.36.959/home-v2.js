"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[9319],{73229:(e,a,s)=>{s.d(a,{G:()=>r});var t=s(79474),n=s(13274);const r=e=>(0,n.jsx)(t.Suspense,{fallback:null,children:(0,t.createElement)((0,t.lazy)((async()=>{const{FeatureActivationSection:e}=await Promise.all([s.e(4151),s.e(3417)]).then(s.bind(s,13294));return{default:e}})),e)})},77293:(e,a,s)=>{s.r(a),s.d(a,{SKELETON_CARDS_COUNT:()=>xs,SKELETON_SHELVES_COUNT:()=>gs,default:()=>ys});var t=s(79474),n=s(97500),r=s.n(n),i=s(99754),l=s(83648),o=s(22215),c=s(16906),d=s(14056),u=s(64647),m=s(12604),p=s(82089),g=s(87571),x=s(33711),h=s(63192),j=s(94300),y=s(40643),b=s(64658),v=s(67302),f=s(73217),k=s(19498),C=s(33560),N=s(86082),_=s(39205),S=s(13274);const R=()=>(0,o.NC)(k.FAj)===k.z3X.ONHOME?(0,S.jsx)(N.g,{children:(0,S.jsx)(_.o,{onSearch:!1})}):null;var I=s(43329),P=s(43603),w=s(98764),T=s(25766),A=s(11283),U=s(61938),D=s(64664),F=s(14494);const M="iC5KPBY1LYMrQkGPnG8m",L=()=>{const e=(0,i.wA)(),a=(0,F.s)(),{spec:s}=(0,v.r)(U.V,{}),n=(0,t.useCallback)((()=>{e(D.r8.actions.open()),a.logInteraction(s.learnMoreButtonFactory().hitUiReveal())}),[e,a,s]);return(0,S.jsxs)(w.E,{as:"p",semanticColor:"textBase",className:M,children:[(0,S.jsx)(T.p,{size:"small"}),d.Ru.get("home.dsa-message",(0,S.jsx)(A.H,{condensedAll:!0,size:"small",semanticColor:"textBase",onClick:n,children:d.Ru.get("home.dsa-message-link")}))]})};var H=s(27318),E=s(7125),B=s(98258),W=s(19448),z=s(61080),O=s(34340),V=s(87939),Q=s(11867),$=s(97247),J=s(99025);const q="oncgBAFkunsYPz4icLG7",Z="bctyR0DdgoudSxC6j8nw",G="ZlJQ9zbhmUTk2MeTziP7",Y="uOT2oirHdJA8NsGlsyA2",K="_0Zn5lYC3o0cU44PBPnvN",X="V2fn7ev3_1mroI9UxjL7",ee="iNxrs2Niil0QTvUYbTxf",ae=({isMWP:e})=>(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,disablePictureInPicture:!0,className:`${Y} ${K}`,"aria-hidden":"true",children:[(0,S.jsx)("source",{src:(0,V.b)(`videos/Sw23-${e?"Mobile":"Desktop"}-Left.webm`),type:"video/webm; codecs=vp09.01.41.08"}),(0,S.jsx)("source",{src:(0,V.b)(`videos/Sw23-${e?"Mobile":"Desktop"}-Left.mp4`),type:"video/mp4"})]}),(0,S.jsxs)("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,disablePictureInPicture:!0,className:`${Y} ${X}`,"aria-hidden":"true",children:[(0,S.jsx)("source",{src:(0,V.b)(`videos/Sw23-${e?"Mobile":"Desktop"}-Right.webm`),type:"video/webm; codecs=vp09.01.41.08"}),(0,S.jsx)("source",{src:(0,V.b)(`videos/Sw23-${e?"Mobile":"Desktop"}-Right.mp4`),type:"video/mp4"})]})]}),se=({isMWP:e})=>(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("picture",{children:[(0,S.jsx)("source",{srcSet:(0,V.b)(`images/Sw23-${e?"Mobile":"Desktop"}-Left.webp`),type:"image/webp"}),(0,S.jsx)("source",{srcSet:(0,V.b)(`images/Sw23-${e?"Mobile":"Desktop"}-Left.png`),type:"image/png"}),(0,S.jsx)("img",{className:`${Y} ${K}`,src:"",alt:""})]}),(0,S.jsxs)("picture",{children:[(0,S.jsx)("source",{srcSet:(0,V.b)(`images/Sw23-${e?"Mobile":"Desktop"}-Right.webp`),type:"image/webp"}),(0,S.jsx)("source",{srcSet:(0,V.b)(`images/Sw23-${e?"Mobile":"Desktop"}-Right.png`),type:"image/png"}),(0,S.jsx)("img",{className:`${Y} ${X}`,src:"",alt:""})]})]}),te=(0,t.forwardRef)((({linkUri:e,loggedIn:a,isMWP:s,isStatic:t=!1,onClick:n},i)=>{const l=(0,$.y)(),o=(0,J.j)();return(0,S.jsx)("div",{className:q,ref:i,children:(0,S.jsxs)("div",{className:(0,B.Ju)("invertedLight",r()(Z,{[G]:s})),children:[t||o?(0,S.jsx)(se,{isMWP:s}):(0,S.jsx)(ae,{isMWP:s}),(0,S.jsx)(W.Z,{as:"h2",variant:"brio",semanticColor:"textBase",className:ee,children:a?d.Ru.get("shared.wrapped-banner.title"):d.Ru.get("shared.wrapped-banner.title-loggedout")}),(0,S.jsx)(W.Z,{as:"p",variant:l===Q.E.SMALL||s?"mesto":"ballad",semanticColor:"textBase",children:a?d.Ru.get("shared.wrapped-banner.body"):d.Ru.get("shared.wrapped-banner.body-loggedout")}),(0,S.jsx)(z.$,{colorSet:"invertedDark",iconTrailing:O.H,href:e,target:"_blank",size:l===Q.E.SMALL||s?"small":"medium",onClick:n,children:d.Ru.get("shared.wrapped-banner.button")})]})})}));var ne=s(918),re=s(52792);const ie=()=>{const e=(0,E.V)(),a=(0,o.NC)(k.ATM),{openURLWithSessionTransfer:s}=(0,ne.L)(),{spec:n,logger:r}=(0,v.r)(H.S,{data:{identifier:"wrapped",uri:"spotify:2023wrapped"}}),i=(0,t.useMemo)((()=>n.campaignFactory({identifier:"wrapped",uri:"spotify:2023wrapped"}).bannerFactory({identifier:"home_wrapped_banner",uri:"desktop_banner"})),[n]),l=(0,re.t)(i),c="https://spotify.com/wrapped",d=(0,t.useCallback)((e=>{r.logInteraction(i.hitUiNavigate({destination:c})),s(c),e.preventDefault()}),[r,s,i]);return(0,S.jsx)(te,{linkUri:c,loggedIn:!e,onClick:d,ref:l,isStatic:a})};var le=s(66028),oe=s(38979),ce=s(65495);const de="https://courses.spotify.com",ue="g_ZfHMz8LSgWU5Qaieku",me="DoUXmBjp5CRbnq4mW3ZI",pe="OqiLgM4sjZJF7XHLp9IT",ge="G8Wbz9o3NLrM0R7BQ7T8",xe="XU7Xkw3gpSkI30OT4yi9",he="bqyUbG1156QTwpdbpkn2",je="VgCwhQqzpB5OWIUGmkVg",ye="DMRgUMoK06FyNCPBHoR0",be="jzhy8JA5VwJPcoAgT6AQ",ve=["Amp up your learning to the next level.","The first 2 lessons of each course are on us."],fe=({index:e})=>{const{spec:a,logger:s,UBIFragment:n}=(0,v.r)(oe.y,{data:{uri:"spotify:app:learning",position:e,reason:""}}),i=(0,t.useCallback)((()=>{const e=a.cardLinkFactory({position:0}).hitNavigateToExternalUri({destination:de});s.logInteraction(e)}),[s,a]);return(0,S.jsx)(n,{spec:a,children:(0,S.jsx)("div",{className:r()(pe),children:(0,S.jsx)("div",{className:ue,tabIndex:0,role:"button",onClick:()=>{i(),window.open(de,"_blank","noopener")},children:(0,S.jsxs)("div",{className:me,children:[(0,S.jsxs)("div",{className:ge,children:[(0,S.jsx)("div",{className:he,children:(0,S.jsx)(w.E,{variant:"titleMedium",semanticColor:"textBase",children:"Courses on Spotify"})}),(0,S.jsx)(w.E,{variant:"bodySmall",className:je,children:ve[0]}),(0,S.jsx)(w.E,{variant:"bodySmall",className:je,children:ve[1]})]}),(0,S.jsx)("div",{className:xe,children:(0,S.jsx)(z.$,{as:"a",size:"small",href:de,target:"_blank",colorSet:"invertedLight",iconTrailing:ce.p,onClick:e=>{i(),e.stopPropagation()},children:(0,S.jsx)(w.E,{variant:"bodySmallBold",children:"Discover Courses"})})}),(0,S.jsx)("div",{className:ye}),(0,S.jsx)("div",{className:be})]})})})})};var ke=s(52458),Ce=s(881);const Ne="FUF9sjxfAzPAU8pkLGEg",_e="cn7epF8GOYiNFb71DP4Q",Se=({spec:e,index:a,shelfTitle:s})=>(0,S.jsx)(b.r,{spec:e.shelvesFactory(),children:(0,S.jsxs)(Ce.v,{className:Ne,children:[(0,S.jsx)("div",{className:_e,children:(0,S.jsx)(ke.U,{title:s})}),(0,S.jsx)(fe,{index:a})]})}),Re=JSON.parse('{"data":{"__typename":"HomeLearningSectionData","title":{"text":"Introducing video courses"}},"sectionItems":{"items":[{"title":"","description":""}],"totalCount":1}}'),Ie=JSON.parse('{"uri":"spotify:section:0JQ5DAVAaDNAlq7hOF3StH","data":{"__typename":"HomeYourDJSectionData","title":{"text":"Meet DJ"}},"sectionItems":{"items":[{"uri":"spotify:playlist:37i9dQZF1EYkqdzj48dyYq","content":{"__typename":"PlaylistResponseWrapper","data":{"__typename":"Playlist","uri":"spotify:playlist:37i9dQZF1EYkqdzj48dyYq","name":"DJ","images":{"items":[{"sources":[{"url":"https://lexicon-assets.spotifycdn.com/DJ-Beta-CoverArt-300.jpg","width":null,"height":null}],"extractedColors":{"colorDark":{"hex":"#0858B8","isFallback":false}}}]},"description":"All kinds of music, picked by your own AI DJ.","ownerV2":{"data":{"__typename":"User","name":"Spotify"}}}},"data":null}],"totalCount":1}}');var Pe=s(33482),we=s(12124),Te=s(83856),Ae=s(82924),Ue=s(48327),De=s(16265),Fe=s(33037);const Me=({uri:e,size:a})=>{const[s,t]=(0,Fe.A)(e);return(0,S.jsx)(Ae.M,{size:a,isAdded:s,onClick:()=>{t(!s)}})},Le=({uri:e,size:a})=>(0,De.v)(e)?(0,S.jsx)(Ue.g,{uri:e,size:a}):(0,S.jsx)(Me,{uri:e,size:a});var He=s(3775),Ee=s(16990);const Be=new He.l("bigCardBackgroundAlbum","query","a6aa4dbdf69d04e2cef4252832d5905b778933b11f74d8e9a83a6762c7551bbb",null),We=new He.l("bigCardBackgroundPlaylist","query","a6aa4dbdf69d04e2cef4252832d5905b778933b11f74d8e9a83a6762c7551bbb",null);var ze=s(24577);const Oe=e=>{const a=e.find((e=>e.canvas?.fileId&&e.canvas?.uri))?.canvas||null,s=e.find((e=>(e.albumOfTrack?.coverArt?.sources?.length||0)>0))?.albumOfTrack?.coverArt;return{canvas:a,backgroundImageUrl:(0,ze.g)(s?.sources||[])?.url||null,backgroundColor:s?.extractedColors?.colorDark?.hex||null}},Ve=e=>{const{data:a,loading:s}=(t={uri:e},n={staleTime:36e5},(0,Ee.I)(Be,t,n));var t,n;const r={loading:s,data:{canvas:null,backgroundImageUrl:null,backgroundColor:null}};if(a&&"Album"===a.albumUnion.__typename){const e=a.albumUnion.tracks.items.map((e=>e.track)),{canvas:s,backgroundImageUrl:t}=Oe(e);r.data.canvas=s,r.data.backgroundImageUrl=t}return r},Qe=e=>{const{data:a,loading:s}=(t={uri:e},n={staleTime:36e5},(0,Ee.I)(We,t,n));var t,n;const r={loading:s,data:{canvas:null,backgroundImageUrl:null,backgroundColor:null}};if(a&&"Playlist"===a.playlistV2.__typename&&"PlaylistItemsPage"===a.playlistV2.content.__typename){const e=a.playlistV2.content.items.reduce(((e,a)=>("TrackResponseWrapper"===a.itemV2.__typename&&"Track"===a.itemV2.data.__typename&&e.push(a.itemV2.data),e)),[]),{canvas:s,backgroundImageUrl:t}=Oe(e);r.data.canvas=s,r.data.backgroundImageUrl=t}return r};var $e=s(66956),Je=s(32371),qe=s(263),Ze=s(30692),Ge=s(77458),Ye=s(2092),Ke=s(1523),Xe=s(26271),ea=s(60786),aa=s(36471);const sa="Q36ugVAb7krhThyRTmJ_",ta="i7cvZqNQZspF0iFqwL_q",na="QSkuUiKpZ4MHrdOB83XV",ra="AqLt2Nk3rygv3mAt_6gi",ia="XKQRNQAUOAjRwwjuUnRU",la="QSrmESe9Ad31lVmBDdTo",oa="QDRGWQfk7nYyU2Mm3kFM",ca="ieyJDLNudPfN0Dc6bwjh",da="Do4x701ZrO6oFWJWnsNw",ua="uw7snqn4j_j7v0S1Fpmi",ma="PHgLQg31p9qeCUcSicCg",pa="lGxecOZ8oBfh2DzjoP0p",ga="Hf9Q0qSpT2RXgmYT6bNE",xa="bdiJ1G8TQ1rV0_rYDjws",ha="FUyKOZGo4cLlF8PSnINm",ja="ZZqy7vcJrfQy4lXxCTB6",ya="qWtIAYA_A_mOQIlxBb02",ba="BdPspy97AcLd4WhT_L2N",va="uXior6eQ5ToMzLMpd159",fa="Icn8TjyVe6vIEWpxmYhl",ka="b1MNyAc2rwfSNmGTjzwh",Ca=({onClick:e=(()=>{}),onPlay:a=(()=>{}),onContextMenu:s=(()=>{}),uri:n,headerText:i,renderFooter:o,isPlayable:c=!0,isAddable:u=!0,renderSubtitle:m,className:p,playUri:g=n,testId:x,ariaPlayLabel:h,ariaPauseLabel:j,index:y,requestId:b,images:k,color:C,dragMimeType:N,shouldRenderHeaderImage:_=!0,shouldRenderCenteredImage:R=!1})=>{const{data:I}=(e=>{let a=null;return(0,Te._T)(e)&&(a=Ve),(0,Te.tb)(e)&&(a=Qe),a?a(e):{loading:!1,data:{canvas:null,backgroundImageUrl:null,backgroundColor:null}}})(n),{canvas:P,backgroundImageUrl:T,backgroundColor:A}=I,U=(0,l.Zp)(),D=(0,aa.W)(),F=(0,f.W)({type:"link",uri:n}),{spec:M,logger:L,UBIFragment:H}=(0,v.r)(oe.y,{data:{uri:n,position:y,reason:b??""}}),{isPlaying:E,isActive:B,togglePlay:W}=(0,Xe.P)({uri:g},{featureIdentifier:"home"}),{draggable:z,onDragStart:O}=(0,Ye.P)({itemUris:[n],itemMimeTypes:N?[N]:[],dragLabelText:i}),V=(0,t.useCallback)((()=>{let e=M.cardPlayButtonFactory().hitPause({itemToBePaused:n});E||(e=B?M.cardPlayButtonFactory().hitResume({itemToBeResumed:n}):M.cardPlayButtonFactory().hitPlay({itemToBePlayed:n}));const s=L.logInteraction(e);a(n,s),D({targetUri:n,intent:E?"pause":"play",type:"click"}),W({loggingParams:s})}),[B,E,L,D,a,M,W,n]),Q=(0,t.useCallback)((()=>{D({targetUri:n,intent:"navigate",type:"click"});const e=M.hitUiNavigate({destination:n});L.logInteraction(e)}),[L,D,M,n]),$=(0,t.useCallback)((()=>{e(n),Q();const a=(0,Te.o_)(n).toURLPath(!0),s=F?(0,ea.hF)(a):a;U(s)}),[e,n,Q,F,U]),q=(0,t.useRef)(null),[Z,G]=(0,t.useState)(!1),[Y,K]=(0,t.useState)(!1),X=(0,t.useCallback)((()=>{G((e=>!e))}),[]),ee=(0,t.useRef)(null),ae=(0,t.useCallback)((()=>{ee.current&&K(ee.current.scrollHeight>ee.current.clientHeight)}),[]),se=Z?d.Ru.get("less"):d.Ru.get("more");(0,t.useLayoutEffect)((()=>{ae()}),[ae]);const te=(0,J.j)();let ne=null;R||(P&&!te?ne=(0,S.jsx)(Ge.Gg,{className:da,fileId:P.fileId,canvasType:P.type,canvasUri:P.uri,playbackType:Ge.RT.LoopOnHover,playerContainerClass:`BigCard_${y}`,mouseHoverRef:q}):T&&(ne=(0,S.jsx)("img",{alt:"",className:ca,src:T})));const re={"--background-color":A||C||""};return(0,S.jsx)(H,{spec:M,children:(0,S.jsx)(Ze.E,{uri:n,trigger:Ze.l.OnMouseDown,children:(0,S.jsxs)("div",{ref:q,className:r()(sa,p,{[ba]:E,[fa]:Z}),style:re,"data-testid":x,draggable:z,onDragStart:O,onContextMenu:s,children:[ne,ne?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{className:na}),!!o&&(0,S.jsx)("div",{className:ra})]}):(0,S.jsx)("div",{className:ta}),(0,S.jsxs)("header",{className:ia,children:[_&&(0,S.jsx)("div",{className:la,children:(0,S.jsx)($e.M,{images:k,color:C})}),(0,S.jsxs)("div",{className:oa,children:[(0,S.jsx)(Je.default,{to:n,children:(0,S.jsx)(w.E,{as:"span",variant:"titleSmall",semanticColor:"textBase",children:i})}),(0,S.jsx)(w.E,{as:"span",variant:"bodySmall",semanticColor:"textSubdued",children:m()})]})]}),R&&(0,S.jsx)("div",{className:va,onClick:$,onKeyDown:$,role:"button",tabIndex:-1,children:(0,S.jsx)($e.M,{images:k,color:C,desiredSize:180*window.devicePixelRatio})}),(0,S.jsxs)("div",{className:xa,children:[(0,S.jsx)(w.E,{variant:"bodySmall",semanticColor:"textSubdued",className:ha,ref:ee,children:o?.()}),(Y||Z)&&(0,S.jsx)(w.E,{onClick:X,className:ja,variant:"bodySmallBold",semanticColor:"textBase",children:se})]}),(0,S.jsxs)("div",{className:ma,children:[(0,S.jsx)("div",{className:pa,children:E&&(0,S.jsxs)("div",{className:ua,children:[(0,S.jsx)(Ke.J,{animated:!0}),(0,S.jsx)(w.E,{variant:"bodySmall",semanticColor:"textPositive",children:d.Ru.get("playing")})]})}),(0,S.jsxs)("div",{className:ga,children:[u&&(0,S.jsx)(Le,{size:"large",uri:n}),c&&(0,S.jsx)("div",{className:ya,children:(0,S.jsx)(qe.R,{isPlaying:E,onClick:V,ariaPlayLabel:h,ariaPauseLabel:j,version:E?qe.H.primary:qe.H.secondary})})]})]}),(0,S.jsx)("div",{onClick:$,className:ka,"data-testid":"bigcard-click-handler",role:"button",tabIndex:0})]})})})};var Na=s(19258),_a=s(88291),Sa=s(84387),Ra=s(84749),Ia=s(47498),Pa=s(35663),wa=s(8548),Ta=s(86357),Aa=s(80734),Ua=s(70968),Da=s(45640),Fa=s(15552),Ma=s(13161);function La(e,a){return function(e){switch(e.__typename){case"AlbumResponseWrapper":case"EpisodeOrChapterResponseWrapper":case"PlaylistResponseWrapper":return!0;case"ArtistResponseWrapper":case"UserResponseWrapper":case"DiscoveryFeedResponseWrapper":case"PodcastOrAudiobookResponseWrapper":case"TrackResponseWrapper":case"UnknownType":return!1;default:return(0,Da.k)(e),!1}}(e.content)?function(e,a){if("GenericError"===e.__typename||"NotFound"===e.__typename||"RestrictedContent"===e.__typename||"DiscoveryFeed"===e.__typename)return null;const s=`${a}-${e.uri}`,t=(0,Ma.f0)(e),n=(0,Ma.Uk)(e);switch(e.__typename){case"Album":return(0,S.jsx)(_a.h,{menu:(0,S.jsx)(Sa.h,{uri:e.uri}),children:(0,S.jsx)(Ca,{index:a,headerText:e.name,uri:e.uri,images:t,color:n,isPlayable:!0,isAddable:!0,renderSubtitle:()=>(0,S.jsxs)("div",{children:[(0,S.jsx)(Na.t,{children:d.Ru.get("card.tag.album")}),(0,S.jsx)("span",{children:(0,Aa.K)(e.artists).map(((e,a)=>[a>0&&d.Ru.getSeparator(),(0,S.jsx)(we.m,{artist:e,index:a},e.uri)]))})]})},s)});case"Audiobook":return(0,S.jsx)(_a.h,{menu:(0,S.jsx)(Ra.p,{uri:e.uri}),children:(0,S.jsx)(Ca,{index:a,headerText:e.name,shouldRenderHeaderImage:!1,uri:e.uri,images:t,color:n,isAddable:!0,isPlayable:!0,shouldRenderCenteredImage:!0,renderSubtitle:()=>(0,S.jsxs)("div",{children:[(0,S.jsx)(Na.t,{children:d.Ru.get("card.tag.audiobook")}),(0,S.jsx)("span",{children:e.authors?.[0]?.name})]})},s)});case"Episode":return(0,S.jsx)(_a.h,{menu:(0,S.jsx)(Ia.b,{uri:e.uri}),children:(0,S.jsx)(Ca,{index:a,headerText:e.name,shouldRenderHeaderImage:!1,uri:e.uri,images:t,color:n,isAddable:!0,isPlayable:!0,shouldRenderCenteredImage:!0,renderSubtitle:()=>(0,S.jsxs)("div",{children:[(0,S.jsx)(Na.t,{children:d.Ru.get("card.tag.episode")}),(0,S.jsx)("span",{children:"Podcast"===e.podcastV2.data.__typename?e.podcastV2.data.name:""})]}),renderFooter:()=>{const a=(0,Ua.JO)(e.releaseDate),s=a?new Date(a):void 0,t=s&&!isNaN(s.getTime())&&!isNaN(e.duration.totalMilliseconds);return(0,S.jsxs)(S.Fragment,{children:[t&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(Na.t,{semanticColor:"textBase",children:(0,Fa.gD)(s)}),(0,S.jsx)(Na.t,{semanticColor:"textBase",children:d.Ru.get("episode.length",Math.ceil(e.duration.totalMilliseconds/6e4))})]}),(0,S.jsx)("span",{children:(0,S.jsx)(wa.N,{source:e.description??"",LinkComponent:Je.default})})]})}},s)});case"Playlist":return(0,S.jsx)(_a.h,{menu:(0,S.jsx)(Pa.W,{uri:e.uri}),children:(0,S.jsx)(Ca,{index:a,headerText:e.name,uri:e.uri,images:t,color:n,isAddable:!0,isPlayable:!(0,Ta.p)(e?.attributes),renderSubtitle:()=>(0,S.jsxs)("div",{children:[(0,S.jsx)(Na.t,{children:d.Ru.get("card.tag.playlist")}),"User"===e.ownerV2.data.__typename&&(0,S.jsx)("span",{children:e.ownerV2.data.name})]}),renderFooter:()=>(0,S.jsx)(wa.N,{source:e.description??"",LinkComponent:Je.default})},s)});case"User":case"Artist":case"Podcast":case"Track":case"Chapter":return null;default:return(0,Da.k)(e),null}}(e.content.data,a):null}const Ha=({spec:e,section:a})=>(0,S.jsx)(b.r,{spec:e.shelvesFactory(),children:a.sectionItems.items.map(La).filter((e=>!!e))});var Ea=s(67447),Ba=s(52688);const Wa=({spec:e,section:a,index:s})=>(0,t.useMemo)((()=>a.sectionItems.items.some((e=>(0,Ba.v)(e.content)))),[a.sectionItems])?(0,S.jsx)(b.r,{spec:e.shelvesFactory(),children:(0,S.jsx)(Ea.p,{total:a.sectionItems.totalCount,seeAllUri:a.uri,pageId:a.uri,title:a.data.title?.text??"",index:s,id:a.uri,children:a.sectionItems.items.map(Ba.G).filter((e=>!!e))})}):null;var za=s(22144);const Oa=({spec:e,section:a,index:s})=>(0,S.jsx)(b.r,{spec:e.shelvesFactory(),children:(0,S.jsx)(za.RecentlyPlayed,{title:a.data.title?.text??void 0,showAll:!1,index:s})});var Va=s(74115),Qa=s(73229),$a=s(95231),Ja=s(833),qa=s(72423),Za=s(11856);const Ga="TgIhernaNXqtuyzKPjDc",Ya="mwc_1Zp_E6v9sr0fTnL1",Ka="ZMRUy3XCzjoj3U3v8zNb",Xa="Fj9nUGnQyCPsnhDKLx7n",es="knJzYlLp6ylpADL42ohP",as=({canvas:e,canvasContainerClass:a,mouseHoverRef:s})=>{if(!(0,J.j)()&&e?.fileId&&e?.uri)return(0,S.jsx)(Ge.Gg,{className:Xa,fileId:e.fileId,playerContainerClass:a,canvasUri:e.uri,playbackType:Ge.RT.LoopOnHover,mouseHoverRef:s});const t=(0,ze.g)(e?.thumbnail?.sources,{desiredSize:300,desiredLabel:"standard"});return(0,S.jsx)(qa._,{className:Ka,src:t?.url,loading:"lazy",testid:"card-image",fadeIn:!0,children:(0,S.jsx)($a.e,{size:"xxlarge"})})},ss=({canvas:e,sectionUri:a,discoveryFeedUri:s,uri:n,canvasContainerClass:r,title:i})=>{const{open:l}=(0,Za.P)(),o=(0,t.useRef)(null);return(0,S.jsx)("div",{className:Ga,ref:o,children:(0,S.jsxs)("div",{className:Ya,tabIndex:0,role:"button",onClick:()=>{l(a,s,n)},children:[(0,S.jsx)(as,{canvas:e,canvasContainerClass:r,mouseHoverRef:o}),(0,S.jsx)("div",{className:es,children:(0,S.jsx)(Ja.Z,{variant:"ballad",lineClamp:2,title:i,dir:"auto",children:i})})]})})};var ts=s(65132),ns=s(70256);const rs=({shelfTitle:e,section:a,spec:s,index:t})=>(0,S.jsx)(ts.x,{config:(0,ns.s1)(ns.yV.WATCH_FEED),children:(0,S.jsx)(b.r,{spec:s.shelvesFactory(),children:(0,S.jsx)(Ea.p,{total:a.sectionItems.totalCount,pageId:a.uri,title:e??"",index:t,id:a.uri,children:a.sectionItems.items.map(((e,a)=>"DiscoveryFeedResponseWrapper"===e.content.__typename&&"DiscoveryFeed"===e.content.data.__typename?((e,a,s)=>{if("TrackResponseWrapper"!==e.firstItem?.__typename||"Track"!==e.firstItem.data.__typename)return null;const t=e.firstItem.data;return(0,S.jsx)(ss,{uri:t.uri,sectionUri:"spotify:section:0JQ5DABRtFWApcy61XJEvU",discoveryFeedUri:a,canvas:t.canvas,title:e.title??"",canvasContainerClass:`Home_WatchFeed_Canvas_${s}`},`${t.uri}-${s}`)})(e.content.data,e.uri,a):null))})})});var is=s(84114),ls=s(90553),os=s(47895),cs=s(99411);const ds=({spec:e,greeting:a,section:s,index:t})=>{const n=(0,os.b8)(),r=(0,o.NC)(k.BYw),i=(0,o.NC)(k.q4i);switch(s.data?.__typename){case"HomeGenericSectionData":return(0,S.jsx)(Wa,{spec:e,section:(0,cs.M)(s,s.data),index:t});case"HomeShortsSectionData":return(0,S.jsx)(Va.$,{spec:e,greeting:a,section:(0,cs.M)(s,s.data)});case"HomeRecentlyPlayedSectionData":return(0,S.jsx)(Oa,{spec:e,section:(0,cs.M)(s,s.data),index:t});case"HomeFeedBaselineSectionData":return i?(0,S.jsx)(Ha,{spec:e,section:(0,cs.M)(s,s.data),index:t}):null;case"HomeNativeAdsSectionData":case"HomeOnboardingSectionData":case"HomeOnboardingSectionDataV2":return null;case"HomeYourDJSectionData":{const e=(0,cs.M)(s,s.data),{data:a,sectionItems:t}=e,r=t.items[0];if(n(s,s.data)&&"PlaylistResponseWrapper"===r.content.__typename&&"Playlist"===r.content.data.__typename){const{data:e}=r.content;return(0,S.jsx)(is.ed,{uri:ls.N6,shelfTitle:a.title?.text??"",title:e.name,description:e.description??""})}return null}case"HomeWatchFeedSectionData":{const a=(0,cs.M)(s,s.data);return r?(0,S.jsx)(rs,{shelfTitle:s.data.title?.text??"",spec:e,index:t,section:a}):null}case"HomeFeatureActivationSectionDataV2":return(0,S.jsx)(Qa.G,{sectionItems:s.sectionItems.items,uri:s.uri,localStorageKey:s.data.localStorageKey});case"HomeFeatureActivationSectionData":case null:case void 0:return null;default:return(0,Da.k)(s.data),null}};const us=({spec:e,greeting:a,container:s})=>{const{spec:n,logger:r}=(0,v.r)(le._,{}),i=(0,o.NC)(k.gtB,{loadingValue:!1}),l=(0,o.NC)(k.RiV,{loadingValue:!1}),c=(0,t.useMemo)((()=>((e,a,s)=>{const t=[];s&&t.push(Re),a&&t.push(Ie);let n=[];return n=function(e){const a=e.sections.items;return a.length>0&&"HomeShortsSectionData"===a[0].data?.__typename}(e)?[e.sections.items[0],...t,...e.sections.items.slice(1)]:[...t,...e.sections.items],n.map((e=>"HomeLearningSectionData"===e.data?.__typename?{localOverride:!0,item:e}:{localOverride:!1,item:e}))})(s,i,l)),[s,i,l]);return(0,t.useEffect)((()=>{(0,Pe.Ek)()&&r.logImpression(n.impressionElementFactory().impression())}),[n,r]),(0,S.jsx)(S.Fragment,{children:c.map(((s,t)=>{if(s.localOverride){const a=s.item,n=a?.sectionItems.items[0];return a&&n?(0,S.jsx)(Se,{spec:e,index:t,shelfTitle:a.data.title.text},`${t}-${n.title}`):null}return(0,S.jsx)(ds,{spec:e,greeting:a,section:s.item,index:t},`${t}-${s.item.uri}`)}))})};var ms=s(2001),ps=s(85257);const gs=6,xs=6,hs=(0,t.memo)((({shelfCount:e,cardCount:a})=>(0,S.jsx)("section",{"data-testid":"home-page",children:(0,S.jsx)("div",{className:ps.A.home,children:(0,S.jsxs)("div",{className:r()(ps.A.content,"contentSpacing"),children:[(0,S.jsx)(m.y,{withTitle:!1}),[...new Array(e).keys()].map(((e,s)=>(0,S.jsx)(ms.f,{withTitle:!0,cardCount:a},s)))]})})}))),js=({spec:e})=>{(0,x.m)("home");const a=(0,i.d4)(C.JJ),s=(0,l.zy)(),t=new URLSearchParams(s.search).get("pCountry"),{subfeedId:n=null}=(0,l.g)(),{data:c,error:u,fetching:m}=(0,I.B8)({timeZone:(0,P.Ff)(),sp_t:(0,h.v8)("sp_t")??"",country:t??a,facet:n,sectionItemsLimit:10},{gcTime:P.gO,staleTime:P.jl}),y=(0,o.NC)(k.Y_Z),b=(0,o.NC)(k.ATM),v=y||b,f=!(0,g.p)();if(m)return(0,S.jsx)(hs,{shelfCount:gs,cardCount:xs});if(null!==u)return(0,S.jsx)(p.A,{hasError:!0,errorMessage:d.Ru.get("error.generic")});const N=c?.home;return"HomeResponsePayload"!==N?.__typename?(0,S.jsx)(p.A,{hasError:!0,errorMessage:d.Ru.get("error.generic")}):0===N.sectionContainer.sections.totalCount||0===N.sectionContainer.sections.items.length?((0,j.Jy)(new Error("Empty response from pathfinder"),"Home"),(0,S.jsx)(p.A,{hasError:!0,errorMessage:d.Ru.get("error.generic")})):(0,S.jsx)("section",{"data-testid":"home-page",children:(0,S.jsx)("div",{className:r()(ps.A.home,ps.A.homeHome),children:(0,S.jsxs)("div",{className:r()(ps.A.content,"contentSpacing"),children:[v&&(0,S.jsx)(ie,{}),f&&(0,S.jsx)(L,{}),(0,S.jsx)(us,{spec:e,greeting:N.greeting?.text??null,container:N.sectionContainer})]})})})},ys=()=>{const{spec:e}=(0,v.r)(c.Y,{data:{identifier:"home",uri:"spotify:home"}}),a=(0,f.W)({type:"locale",uri:"home"});return(0,S.jsxs)(b.r,{spec:e,children:[(0,S.jsx)(u.Q,{children:(0,y.pr)({i18n:d.Ru,shouldLocalize:a})}),(0,S.jsx)(t.Suspense,{fallback:null,children:(0,S.jsx)(R,{})}),(0,S.jsx)(js,{spec:e})]})}}}]);
//# sourceMappingURL=home-v2.js.map