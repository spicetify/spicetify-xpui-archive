"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[5885],{57192:(e,t,n)=>{n.r(t),n.d(t,{HomeAdsContainer:()=>v,default:()=>m});var i=n(79474),s=n(79698),o=n(3273),r=n(30939),l=n(77977),d=n(92462);const u={threshold:[0,.5,1]};var c=n(13274);const f=(0,i.lazy)((()=>Promise.all([n.e(4151),n.e(2193),n.e(7599)]).then(n.bind(n,20965)))),a=(0,i.lazy)((()=>Promise.all([n.e(4151),n.e(599)]).then(n.bind(n,39233)))),b=(0,i.lazy)((()=>n.e(6665).then(n.bind(n,21778)))),v=()=>{const{fetchAndSetHomeAd:e,setHomeAd:t,homeAd:n}=(0,l.bT)(),{homeAdElement:v,setHomeAdElement:m}=(0,s.y)(),h=n&&"then"in n,{visibilityState:w}=function({target:e}){const[t,n]=(0,i.useState)("visible_unknown");return(0,i.useEffect)((()=>{if(e){const t=new IntersectionObserver((([{intersectionRatio:e}])=>n((()=>e>=1?"visible_100":e>=.5?"visible_50":e<.5?"visible_0":"visible_unknown"))),u);return t.observe(e),()=>t.disconnect()}n("visible_unknown")}),[e]),{visibilityState:t}}({target:v??void 0});if((0,i.useEffect)((function(){return e?.(),()=>t(void 0)}),[e,t]),function({visibilityState:e,homeAdIsCurrentlyBeingFetched:t}){const{fetchAndSetHomeAd:n}=(0,l.bT)(),s=(0,r.n)(),u=(0,d.$)(),[c,f]=(0,i.useState)(),a=(0,o.A)((()=>!t&&n?.()));(0,i.useEffect)((()=>{s&&u&&("visible_50"===e||"visible_100"===e)&&c&&Date.now()-c>=18e5&&a()}),[s,c,u,e,a]),(0,i.useEffect)((()=>{t||f(Date.now())}),[t,f])}({visibilityState:w,homeAdIsCurrentlyBeingFetched:h}),!n||h)return null;const A="text/html"===n.display[0]?.mimeType;return(0,c.jsx)(i.Suspense,{children:A?(0,c.jsx)(f,{homeAd:n,ref:m}):(0,c.jsx)(b,{homeAd:n,visibilityState:w,children:(0,c.jsx)(a,{homeAd:n,ref:m})})})},m=v},79698:(e,t,n)=>{n.d(t,{H:()=>o,y:()=>s});var i=n(79474);function s(){const[e,t]=(0,i.useState)(null);return{homeAdElement:e,setHomeAdElement:t}}const o=i.forwardRef},92462:(e,t,n)=>{n.d(t,{$:()=>s});var i=n(79474);const s=()=>{const[e,t]=(0,i.useState)(document.hasFocus());return(0,i.useEffect)((()=>{function e(){t(!0)}function n(){t(!1)}return window.addEventListener("focus",e),window.addEventListener("blur",n),()=>{window.removeEventListener("focus",e),window.removeEventListener("blur",n)}}),[]),e}}}]);
//# sourceMappingURL=home-ads-container.js.map