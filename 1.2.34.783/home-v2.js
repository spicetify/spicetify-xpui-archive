"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[9319],{82523:(e,t,s)=>{s.d(t,{G:()=>n});var a=s(79474),i=s(13274);const n=e=>(0,i.jsx)(a.Suspense,{fallback:null,children:(0,a.createElement)((0,a.lazy)((async()=>{const{FeatureActivationSection:e}=await Promise.all([s.e(4151),s.e(3417)]).then(s.bind(s,18862));return{default:e}})),e)})},65582:(e,t,s)=>{s.r(t),s.d(t,{SKELETON_CARDS_COUNT:()=>Qe,SKELETON_SHELVES_COUNT:()=>Ke,default:()=>tt});s(1137);var a=s(79474),i=s(97500),n=s.n(i),r=s(85980),o=s(61343),c=s(56260),l=s(66829),d=s(37298),m=s(96590),p=s(94973),u=s(12441),h=s(61678),x=s(53600),g=s(995),j=s(80427),y=s(49882),v=s(15486),f=s(79785),b=s(44083),S=s(99099),C=s(3106),w=s(73534),N=s(33037),k=s(94135),D=s(12793),_=s(65664),I=s(94491),A=s(70163),M=s(97799),F=s(80424);const H="AaXwi9LLckdsxNwrosnQ",R="yX31EzBkHzNooefkSvT3",L="EjJHF7tjFYigQK8pIVbV",E="Z5xLXZofWXGooKRjW6kd",T="kM546dTx5cxDNH530zm8",P="mnhJCpUiriAb7Ay3HOTz",$="rRldspwHsrgo8DsecR2Q";var U=s(13274);const z=({isMWP:e})=>(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,disablePictureInPicture:!0,className:`${E} ${T}`,"aria-hidden":"true",children:[(0,U.jsx)("source",{src:(0,I.b)(`videos/Sw23-${e?"Mobile":"Desktop"}-Left.webm`),type:"video/webm; codecs=vp09.01.41.08"}),(0,U.jsx)("source",{src:(0,I.b)(`videos/Sw23-${e?"Mobile":"Desktop"}-Left.mp4`),type:"video/mp4"})]}),(0,U.jsxs)("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,disablePictureInPicture:!0,className:`${E} ${P}`,"aria-hidden":"true",children:[(0,U.jsx)("source",{src:(0,I.b)(`videos/Sw23-${e?"Mobile":"Desktop"}-Right.webm`),type:"video/webm; codecs=vp09.01.41.08"}),(0,U.jsx)("source",{src:(0,I.b)(`videos/Sw23-${e?"Mobile":"Desktop"}-Right.mp4`),type:"video/mp4"})]})]}),O=({isMWP:e})=>(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)("picture",{children:[(0,U.jsx)("source",{srcSet:(0,I.b)(`images/Sw23-${e?"Mobile":"Desktop"}-Left.webp`),type:"image/webp"}),(0,U.jsx)("source",{srcSet:(0,I.b)(`images/Sw23-${e?"Mobile":"Desktop"}-Left.png`),type:"image/png"}),(0,U.jsx)("img",{className:`${E} ${T}`,src:"",alt:""})]}),(0,U.jsxs)("picture",{children:[(0,U.jsx)("source",{srcSet:(0,I.b)(`images/Sw23-${e?"Mobile":"Desktop"}-Right.webp`),type:"image/webp"}),(0,U.jsx)("source",{srcSet:(0,I.b)(`images/Sw23-${e?"Mobile":"Desktop"}-Right.png`),type:"image/png"}),(0,U.jsx)("img",{className:`${E} ${P}`,src:"",alt:""})]})]}),W=(0,a.forwardRef)((({linkUri:e,loggedIn:t,isMWP:s,isStatic:a=!1,onClick:i},r)=>{const o=(0,M.y)(),c=(0,F.j)();return(0,U.jsx)("div",{className:H,ref:r,children:(0,U.jsxs)("div",{className:(0,N.Ju)("invertedLight",n()(R,{[L]:s})),children:[a||c?(0,U.jsx)(O,{isMWP:s}):(0,U.jsx)(z,{isMWP:s}),(0,U.jsx)(k.Z,{as:"h2",variant:"brio",semanticColor:"textBase",className:$,children:t?d.R.get("shared.wrapped-banner.title"):d.R.get("shared.wrapped-banner.title-loggedout")}),(0,U.jsx)(k.Z,{as:"p",variant:o===A.E.SMALL||s?"mesto":"ballad",semanticColor:"textBase",children:t?d.R.get("shared.wrapped-banner.body"):d.R.get("shared.wrapped-banner.body-loggedout")}),(0,U.jsx)(D.$,{colorSet:"invertedDark",iconTrailing:_.H,href:e,target:"_blank",size:o===A.E.SMALL||s?"small":"medium",onClick:i,children:d.R.get("shared.wrapped-banner.button")})]})})}));var J=s(16750),V=s(68256);const Y=()=>{const e=(0,C.V)(),t=(0,c.NC)(w.ATM),{openURLWithSessionTransfer:s}=(0,J.L)(),{spec:i,logger:n}=(0,v.r)(S.S,{data:{identifier:"wrapped",uri:"spotify:2023wrapped"}}),r=(0,a.useMemo)((()=>i.campaignFactory({identifier:"wrapped",uri:"spotify:2023wrapped"}).bannerFactory({identifier:"home_wrapped_banner",uri:"desktop_banner"})),[i]),o=(0,V.t)(r),l="https://spotify.com/wrapped",d=(0,a.useCallback)((e=>{n.logInteraction(r.hitUiNavigate({destination:l})),s(l),e.preventDefault()}),[n,s,r]);return(0,U.jsx)(W,{linkUri:l,loggedIn:!e,onClick:d,ref:o,isStatic:t})};s(62355),s(63512);var B=s(51618),Z=s(43029),X=s(52117),G=s(67071);const K="https://courses.spotify.com",Q="dnyg39bzenKDCjizwMzt",q="wQraCJRwv242wm4StxJc",ee="K7stzlHC447r9oht42X6",te="ZRShtgAZLMUHmCZ3kelw",se="fodeOTunaw7uLX6oRbLw",ae="CVo6IW1mq3srWy9YZrAk",ie="IbWcT9VDY62fMGWKyVRg",ne="Dfqze5PoXWjDFglzjSTo",re="KBC0QaBWPGFHcOPnXlFA",oe=["Learn from the best online creators.","Try everything, for free."],ce=({index:e})=>{const{spec:t,logger:s,UBIFragment:i}=(0,v.r)(X.y,{data:{uri:"spotify:app:learning",position:e,reason:""}}),r=(0,a.useCallback)((()=>{const e=t.cardLinkFactory({position:0}).hitNavigateToExternalUri({destination:K});s.logInteraction(e)}),[s,t]);return(0,U.jsx)(i,{spec:t,children:(0,U.jsx)("div",{className:n()(ee),children:(0,U.jsx)("div",{className:Q,tabIndex:0,role:"button",onClick:()=>{r(),window.open(K,"_blank","noopener")},children:(0,U.jsxs)("div",{className:q,children:[(0,U.jsxs)("div",{className:te,children:[(0,U.jsx)("div",{className:ae,children:(0,U.jsx)(Z.E,{variant:"titleMedium",semanticColor:"textBase",children:"Video Courses"})}),(0,U.jsx)(Z.E,{variant:"bodySmall",className:ie,children:oe[0]}),(0,U.jsx)(Z.E,{variant:"bodySmall",className:ie,children:oe[1]})]}),(0,U.jsx)("div",{className:se,children:(0,U.jsx)(D.$,{as:"a",size:"small",href:K,target:"_blank",colorSet:"invertedLight",iconTrailing:G.p,onClick:e=>{r(),e.stopPropagation()},children:(0,U.jsx)(Z.E,{variant:"bodySmallBold",children:"Discover Courses"})})}),(0,U.jsx)("div",{className:ne}),(0,U.jsx)("div",{className:re})]})})})})};var le=s(6018),de=s(14053);const me="zecaxp9A6ET66ZYuMSLr",pe="CNmffmOxA0meXLgIZ2P4",ue=({spec:e,index:t,shelfTitle:s,isDjRendered:i})=>{const n=(0,a.useCallback)((e=>e<=3?e:(4!==e||i)&&(5!==e||i)?4===e&&i?3:i?Math.min(3,e-3):3:2),[i]);return(0,U.jsx)(y.r,{spec:e.shelvesFactory(),children:(0,U.jsxs)(de.W,{getSpanColumns:n,className:me,children:[(0,U.jsx)("div",{className:pe,children:(0,U.jsx)(le.U,{title:s})}),(0,U.jsx)(ce,{index:t})]})})},he=JSON.parse('{"data":{"__typename":"HomeLearningSectionData","title":{"text":"Introducing"}},"sectionItems":{"items":[{"title":"Video Courses","description":"Learn from the best online creators.Try everything, for free."}],"totalCount":1}}'),xe=JSON.parse('{"uri":"spotify:section:0JQ5DAVAaDNAlq7hOF3StH","data":{"__typename":"HomeYourDJSectionData","title":{"text":"Meet DJ"}},"sectionItems":{"items":[{"uri":"spotify:playlist:37i9dQZF1EYkqdzj48dyYq","content":{"__typename":"PlaylistResponseWrapper","data":{"__typename":"Playlist","uri":"spotify:playlist:37i9dQZF1EYkqdzj48dyYq","name":"DJ","images":{"items":[{"sources":[{"url":"https://lexicon-assets.spotifycdn.com/DJ-Beta-CoverArt-300.jpg","width":null,"height":null}],"extractedColors":{"colorDark":{"hex":"#0858B8","isFallback":false}}}]},"description":"All kinds of music, picked by your own AI DJ.","ownerV2":{"data":{"__typename":"User","name":"Spotify"}}}},"data":null}],"totalCount":1}}');var ge=s(75970),je=s(88879),ye=(s(48117),s(68607),s(59734)),ve=s(83144);const fe=({spec:e,section:t,index:s})=>(0,a.useMemo)((()=>t.sectionItems.items.some((e=>(0,ve.v)(e.content)))),[t.sectionItems])?(0,U.jsx)(y.r,{spec:e.shelvesFactory(),children:(0,U.jsx)(ye.p,{total:t.sectionItems.totalCount,seeAllUri:t.uri,pageId:t.uri,title:t.data.title?.text??"",index:s,id:t.uri,children:t.sectionItems.items.map(ve.G).filter((e=>!!e))})}):null;var be=s(69348);const Se=({spec:e,section:t,index:s})=>(0,U.jsx)(y.r,{spec:e.shelvesFactory(),children:(0,U.jsx)(be.RecentlyPlayed,{title:t.data.title?.text??void 0,showAll:!1,index:s})});var Ce=s(67337),we=s(82523),Ne=s(65019),ke=s(71310),De=s(466),_e=s(97839),Ie=s(75743);const Ae="_4nkqAJHg6YoDSzloLPlL",Me="UCCfU0h1tfMZDsSS4v5z",Fe="axRfNs6D2nj7YtkGNuAn",He="VA7Mqm6kV6b2lvjr9Y8N",Re="RjE5xUUpMX1dnGOXUATo",Le=({canvas:e,canvasContainerClass:t})=>{if(!(0,F.j)()&&e?.fileId&&e?.uri)return(0,U.jsx)(_e.Gg,{className:He,fileId:e.fileId,playerContainerClass:t,canvasUri:e.uri,playOnlyOnHover:!0});const s=(0,De.g)(e?.thumbnail?.sources,{desiredSize:300,desiredLabel:"standard"});return(0,U.jsx)(ke._,{className:Fe,src:s?.url,loading:"lazy",testid:"card-image",fadeIn:!0,children:(0,U.jsx)(Ne.e,{size:"xxlarge"})})},Ee=({canvas:e,sectionUri:t,discoveryFeedUri:s,uri:a,canvasContainerClass:i,title:n})=>{const{open:r}=(0,Ie.P)();return(0,U.jsx)("div",{className:Ae,children:(0,U.jsxs)("div",{className:Me,tabIndex:0,role:"button",onClick:()=>{r(t,s,a)},children:[(0,U.jsx)(Le,{canvas:e,canvasContainerClass:i}),(0,U.jsx)("div",{className:Re,children:n})]})})},Te=({shelfTitle:e,section:t,spec:s,index:a})=>(0,U.jsx)(y.r,{spec:s.shelvesFactory(),children:(0,U.jsx)(ye.p,{total:t.sectionItems.totalCount,pageId:t.uri,title:e??"",index:a,id:t.uri,children:t.sectionItems.items.map(((e,t)=>{return"HomeDiscoveryFeedEntrypointItemFeatureData"===e.data?.__typename?(s=e.data,a=e.uri,i=t,"TrackResponseWrapper"!==s.coverItem.__typename||"Track"!==s.coverItem.data.__typename?null:(0,U.jsx)(Ee,{uri:s.coverItem.data.uri,sectionUri:"spotify:section:0JQ5DABRtFWApcy61XJEvU",discoveryFeedUri:a,canvas:s.coverItem.data.canvas,title:s.title??"",canvasContainerClass:`Home_WatchFeed_Canvas_${i}`},`${s.coverItem.data.uri}-${i}`)):null;var s,a,i}))})});var Pe=s(6420),$e=s(93569),Ue=s(44687),ze=s(2907);const Oe=({spec:e,greeting:t,section:s,index:a})=>{const i=(0,Ue.b8)(),n=(0,c.NC)(w.BYw,{loadingValue:!1});switch(s.data?.__typename){case"HomeGenericSectionData":return(0,U.jsx)(fe,{spec:e,section:(0,ze.M)(s,s.data),index:a});case"HomeShortsSectionData":return(0,U.jsx)(Ce.$,{spec:e,greeting:t,section:(0,ze.M)(s,s.data)});case"HomeRecentlyPlayedSectionData":return(0,U.jsx)(Se,{spec:e,section:(0,ze.M)(s,s.data),index:a});case"HomeFeedBaselineSectionData":case"HomeNativeAdsSectionData":case"HomeOnboardingSectionData":case"HomeOnboardingSectionDataV2":return null;case"HomeYourDJSectionData":{const e=(0,ze.M)(s,s.data),{data:t,sectionItems:a}=e,n=a.items[0];if(i(s,s.data)&&"PlaylistResponseWrapper"===n.content.__typename&&"Playlist"===n.content.data.__typename){const{data:e}=n.content;return(0,U.jsx)(Pe.ed,{uri:$e.N6,shelfTitle:t.title?.text??"",title:e.name,description:e.description??""})}return null}case"HomeWatchFeedSectionData":{const t=(0,ze.M)(s,s.data);return n?(0,U.jsx)(Te,{shelfTitle:s.data.title?.text??"",spec:e,index:a,section:t}):null}case"HomeFeatureActivationSectionDataV2":return(0,U.jsx)(we.G,{sectionItems:s.sectionItems.items,uri:s.uri,localStorageKey:s.data.localStorageKey});case"HomeFeatureActivationSectionData":case null:case void 0:return null;default:return(0,je.k)(s.data),null}};const We=({spec:e,greeting:t,container:s})=>{const{spec:i,logger:n}=(0,v.r)(B.createDesktopHomeFeatureActivationShelfEventFactory,{}),r=(0,c.NC)(w.gtB,{loadingValue:!1}),o=(0,c.NC)(w.RiV,{loadingValue:!1}),l=(0,a.useMemo)((()=>((e,t,s)=>{const a=[];s&&a.push(he),t&&a.push(xe);let i=[];return i=function(e){const t=e.sections.items;return t.length>0&&"HomeShortsSectionData"===t[0].data?.__typename}(e)?[e.sections.items[0],...a,...e.sections.items.slice(1)]:[...a,...e.sections.items],i.map((e=>"HomeLearningSectionData"===e.data?.__typename?{localOverride:!0,item:e}:{localOverride:!1,item:e}))})(s,r,o)),[s,r,o]),d=(0,Ue.b8)();return(0,a.useEffect)((()=>{(0,ge.Ek)()&&n.logImpression(i.impressionElementFactory().impression())}),[i,n]),(0,U.jsx)(U.Fragment,{children:l.map(((s,a)=>{if(s.localOverride){const t=s.item,i=t?.sectionItems.items[0];if(!t||!i)return null;const n=l.find((e=>"HomeYourDJSectionData"===e.item.data?.__typename));let r=!1;if(n){const e=n.item;r=d(e,e.data)}return(0,U.jsx)(ue,{spec:e,index:a,isDjRendered:r,shelfTitle:t.data.title.text},`${a}-${i.title}`)}return(0,U.jsx)(Oe,{spec:e,greeting:t,section:s.item,index:a},`${a}-${s.item.uri}`)}))})};var Je=s(89401),Ve=s(25341),Ye=s(23760),Be=s(49800),Ze=s(97876);const Xe=()=>(0,c.NC)(w.FAj)===w.z3X.ONHOME?(0,U.jsx)(Ze.g,{children:(0,U.jsx)(Be.o,{onSearch:!1})}):null;var Ge=s(5133);const Ke=6,Qe=6,qe=(0,a.memo)((({shelfCount:e,cardCount:t})=>(0,U.jsx)("section",{"data-testid":"home-page",children:(0,U.jsx)("div",{className:Ge.A.home,children:(0,U.jsxs)("div",{className:n()(Ge.A.content,"contentSpacing"),children:[(0,U.jsx)(p.y,{withTitle:!1}),[...new Array(e).keys()].map(((e,s)=>(0,U.jsx)(Je.f,{withTitle:!0,cardCount:t},s)))]})})}))),et=({spec:e})=>{(0,h.m)("home");const t=(0,r.d4)(Ye.JJ),s=(0,o.zy)(),a=new URLSearchParams(s.search).get("pCountry"),{subfeedId:i=null}=(0,o.g)(),l=(0,c.NC)(w.BYw,{loadingValue:!1}),{data:m,error:p,fetching:j}=(0,f.B8)({timeZone:(0,b.Ff)(),sp_t:(0,x.v8)("sp_t")??"",country:a??t,facet:i,sectionItemsLimit:l?3:10},{gcTime:b.gO,staleTime:b.jl}),y=(0,c.NC)(w.Y_Z),v=(0,c.NC)(w.ATM),S=y||v;if(j)return(0,U.jsx)(qe,{shelfCount:Ke,cardCount:Qe});if(null!==p)return(0,U.jsx)(u.A,{hasError:!0,errorMessage:d.R.get("error.generic")});const C=m?.home;return"HomeResponsePayload"!==C?.__typename?(0,U.jsx)(u.A,{hasError:!0,errorMessage:d.R.get("error.generic")}):0===C.sectionContainer.sections.totalCount||0===C.sectionContainer.sections.items.length?((0,g.Jy)(new Error("Empty response from pathfinder"),"Home"),(0,U.jsx)(u.A,{hasError:!0,errorMessage:d.R.get("error.generic")})):(0,U.jsx)("section",{"data-testid":"home-page",children:(0,U.jsx)("div",{className:n()(Ge.A.home,Ge.A.homeHome),children:(0,U.jsxs)("div",{className:n()(Ge.A.content,"contentSpacing"),children:[S&&(0,U.jsx)(Y,{}),(0,U.jsx)(We,{spec:e,greeting:C.greeting?.text??null,container:C.sectionContainer})]})})})},tt=()=>{const{spec:e}=(0,v.r)(l.Y,{data:{identifier:"home",uri:"spotify:home"}}),t=(0,Ve.W)({type:"locale",uri:"home"});return(0,U.jsxs)(y.r,{spec:e,children:[(0,U.jsx)(m.Q,{children:(0,j.pr)({i18n:d.R,shouldLocalize:t})}),(0,U.jsx)(a.Suspense,{fallback:null,children:(0,U.jsx)(Xe,{})}),(0,U.jsx)(et,{spec:e})]})}}}]);
//# sourceMappingURL=home-v2.js.map