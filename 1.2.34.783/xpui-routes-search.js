"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[7125],{5716:(e,t,s)=>{s.r(t),s.d(t,{default:()=>Gr});s(62355),s(63512);var a=s(79474),r=s(97500),i=s.n(r),n=s(85980),o=s(61343),c=s(3074),l=s.n(c),u=s(56260),d=s(68087),p=s(37298),m=s(17737),h=s(97691),y=s(97228),x=s(15486),g=(s(1137),s(59734)),j=s(66633),f=s(39431),b=s(38680),C=s(13274);const R=()=>{const{searchHistory:e,clearSearchHistory:t}=(0,b.k)();return 0===e.length?null:(0,C.jsx)(g.p,{index:0,id:"recent-searches",total:e.length,seeAllUri:"spotify:app:recent-searches",title:p.R.get("search.title.recent-searches"),children:e.map(((e,s)=>(0,C.jsx)(f.pZ,{index:s,value:"search-history",children:(0,C.jsx)(j.X,{entity:e,index:s,clearSearchHistory:t})},e.uri)))})},v="CCi1L2OQvgdZvxkRHeKE",k=()=>{const{spec:e,UBIFragment:t}=(0,x.r)(h.createDesktopFindEventFactory,{data:{uri:"search:find"}}),{recentSearchesSpec:s,browseAllSpec:r}=(0,a.useMemo)((()=>({recentSearchesSpec:e.recentSearchesFactory(),topGenresSpec:e.topGenresFactory(),browseAllSpec:e.browseAllFactory()})),[e]);return(0,C.jsxs)("div",{className:v,children:[(0,C.jsx)(t,{spec:s,children:(0,C.jsx)(R,{})}),(0,C.jsx)(y.F,{browseAllSpec:r})]})};var E=s(25908),S=s(23546),N=s(1107),A=s(35195);const w=(0,a.createContext)(null),I=w.Provider;function T(){const e=(0,a.useContext)(w);if(null===e)throw new Error("Trying to use 'SearchContext' without 'SearchProvider'!");return e}var F=s(73534),P=s(95068);const U="fVB_YDdnaDlztX7CcWTA",_="e179_Eg8r7Ub6yjjxctr",q="VIeVCUUETJyYPCDpsBif",L="ZWI7JsjzJaR_G8Hy4W6J",D=({to:e,title:t,selected:s,onClick:a})=>(0,C.jsx)(A.default,{replace:!0,to:e,tabIndex:-1,onClick:a,className:L,children:(0,C.jsx)(E.v,{selected:s,selectedColorSet:"invertedLight",tabIndex:-1,children:t})}),O=({searchCategories:e,selectedCategory:t,displayChips:s})=>{const a=(0,u.NC)(F.bRr),{query:r}=T(),{spec:n,logger:o}=(0,x.r)(S.createDesktopSearchChipsEventFactory,{});if(!r||!s)return null;const c=encodeURIComponent(r);return(0,C.jsx)("div",{className:U,children:(0,C.jsx)("div",{className:i()(_,"contentSpacing"),children:(0,C.jsx)("div",{className:q,children:(0,C.jsxs)(N.F,{children:[!a&&e.length>0&&(0,C.jsx)(D,{to:`spotify:app:search:${c}`,title:p.R.get("search.title.all"),selected:void 0===t,onClick:()=>{o.logInteraction(n.chipFactory({identifier:"all",position:0}).hitUiNavigate({destination:`spotify:app:search:${c}`}))}},"all"),e.map(((e,s)=>{const a=P.j7[e]?.()??"";return a||console.warn("Received empty title for category: ",e),(0,C.jsx)(D,{to:`spotify:app:search:${c}:${e}`,title:a,selected:t===e,onClick:()=>{o.logInteraction(n.chipFactory({identifier:e,position:s+1}).hitUiNavigate({destination:`spotify:app:search:${c}:${e}`}))}},e)}))]})})})})};s(45689),s(1342),s(87992),s(20081),s(49480),s(24055),s(19292),s(15702);var M=s(70915),H=s(47458),B=s(53600),V=s(34092),W=s(23e3),$=s(48885);const G={[V.pb.Podcasts]:["podcasts","podcastAndEpisodes"],[V.pb.Episodes]:["episodes","podcastAndEpisodes"],[V.pb.TopResults]:["topResults","topResults"],[V.pb.Artists]:["artists","artists"],[V.pb.Albums]:["albums","albums"],[V.pb.Playlists]:["playlists","playlists"],[V.pb.Tracks]:["tracks","tracks"],[V.pb.Audiobooks]:["audiobooks","audiobooks"],[V.pb.Genres]:["genres","genres"],[V.pb.Users]:["users","users"]};var K=s(2346),Z=s(21626),Q=s(93129),J=s(23138),z=s(65504);const X={albums:d.$h.SEARCH_ALBUMS,artists:d.$h.SEARCH_ARTISTS,episodes:d.$h.SEARCH_EPISODES,genres:d.$h.SEARCH_GENRES,playlists:d.$h.SEARCH_PLAYLISTS,podcasts:d.$h.SEARCH_SHOWS,audiobooks:d.$h.SEARCH_AUDIOBOOKS,tracks:d.$h.SEARCH_SONGS,users:d.$h.SEARCH_PROFILES,podcastAndEpisodes:d.$h.SEARCH_PODCASTS_AND_EPISODES,topResults:d.$h.SEARCH};function Y({children:e}){const{query:t="",category:s=""}=(0,o.g)();return(0,C.jsx)(z.e,{pageId:X[s],entityUri:`spotify:app:search:${t}:${s}`,children:e})}function ee({children:e}){const{query:t}=(0,o.g)();return(0,C.jsx)(z.e,{pageId:d.$h.SEARCH,entityUri:`spotify:app:search:${t}`,children:e})}var te=s(79230),se=s(57865),ae=s(48762),re=s(6018),ie=s(48581),ne=s(43029),oe=s(12793),ce=s(35514),le=s(68256);const ue="hngqMWKjlLOEcuxpoHz9",de="WjLSNZPxuT0Zuw42kxSM",pe="zFOvsuNQpwehjH2VoiLL",me="zeGt0Z2HCYRvd6ziu_t9",he=({forChip:e})=>{const{query:t,serpId:s}=T(),a=!(0,K.n)(),r=`/search/${t}`,i=(0,ae.Ru)(t).toURI(),{spec:n,logger:o}=(0,x.r)(ce.createDesktopSearchEmptyResultsEventFactory,{data:{uri:i,reason:s}}),c=(0,le.t)(n);return(0,C.jsxs)("div",{className:ue,"aria-live":"polite",ref:c,children:[(0,C.jsx)(ne.E,{as:"h1",variant:"titleSmall",className:de,children:e?p.R.get("search.empty-results-title-for-chip",t,e):p.R.get("search.empty-results-title",t)}),(0,C.jsx)("p",{className:pe,children:a?p.R.get("web-player.search-modal.offline"):p.R.get("search.empty-results-text")}),e&&(0,C.jsx)(ie.N_,{to:r,children:(0,C.jsx)(oe.$,{colorSet:"invertedLight",className:me,onClick:()=>{o.logInteraction(n.seeAllButtonFactory().hitUiNavigate({destination:r}))},children:p.R.get("search.see-all")})})]})};var ye=s(42665);const xe={results:null,isError:!1,isFetchMoreError:!1},ge=(e,t)=>{const s=(0,ye.a)(),r=(0,a.useRef)(null),i=(0,a.useRef)(0),[n,o]=(0,a.useState)(xe),c=(0,a.useCallback)((async(a=!1)=>{if(!s())return;a&&(i.current=0,r.current=null);let n=e;if(null!==r.current){if(i.current>=r.current)return;i.current+n>r.current&&(n=r.current-i.current)}try{const e=await t(i.current,n);i.current+=n,r.current=e.totalCount||0,s()&&o((t=>({isError:!1,isFetchMoreError:!1,results:(a||null===t.results?[]:t.results).concat(e.items)})))}catch(e){s()&&o((e=>{const t=null===e.results||a;return{results:a?[]:e.results,isError:t,isFetchMoreError:!t}}))}}),[e,t,s]);return(0,a.useEffect)((()=>{c(!0)}),[c]),{results:n.results,isError:n.isError,fetchData:c,totalCountRef:r}};var je=s(88879),fe=s(77775),be=s(86778),Ce=s(35583),Re=s(23790),ve=s(65948);const ke=a.memo((function({uri:e,size:t=Ce.M.md,className:s,onClick:r,showUpsell:i}){const[n,o]=(0,Re.A)(e),c=(0,ve.W)(),l=(0,a.useCallback)((()=>{c({targetUri:e,intent:"add-to-library",type:"click"}),o(!0)}),[c,e,o]);return(0,C.jsx)(Ce.f,{className:s,isFollowing:n,onFollow:l,onClick:r,uri:e,size:t,showUpsell:i})})),Ee="RTP39YFgFAoVSlly6vCF",Se="QT1jLaHHvO5g2YQor2Fw",Ne="wArYyZVjFviopRvRFV8t",Ae="kRDD8AcqeOf5UDjOSQ8j",we="XN4TCZATPrKkEMngUtFc",Ie="VYaCpehPPhmTYPRxMBub",Te="abMqJCpsuShBo0DaZ7IY",Fe="ON88h0KYGqXMdOfsqot8",Pe="BHFMWOZUKxElyq1Ffc_S",Ue="EyH4QLenIbFw0x8r83eK",_e="JA9jP30dm3GJikfs7vBn",qe="xKl_2100SG4svBvzZ8Xv",Le="leel3U31UlOaYhKp6FgQ",De="FxqpfDsISPKNu1XFExOg",Oe="kE234isNxJ9XiTT8QoJL",Me="KcOp4A5HBQ4EPH0IDRxg",He="oODk_3Glvh7wotUlk4ov";var Be=s(49245),Ve=s(39974);const We=({uri:e,spec:t})=>{const s=(0,Ve.s)(),r=(0,a.useCallback)(((a,r)=>{(0,Be.Qv)(r,t.downloadButtonFactory(),s,e)}),[s,t,e]);return(0,C.jsx)(ke,{className:Ae,uri:e,size:Ce.M.xs,showUpsell:!1,onClick:r})};var $e=s(4658),Ge=s(96721);const Ke=({shape:e=$e.u.ROUNDED_CORNERS,type:t,name:s,images:a})=>(0,C.jsx)($e.b,{shape:e,size:Ge.Qe.SIZE_64,images:a,type:t,title:s});var Ze=s(33032),Qe=s(12764);const Je=(0,a.createContext)((()=>{})),ze=({menu:e,name:t,spec:s})=>{const r=(0,Ve.s)(),i=(0,a.useContext)(Je),n=(0,a.useCallback)((()=>{r.logInteraction(s.contextButtonFactory().hitUiReveal()),i(!0)}),[r,i,s]),o=(0,a.useCallback)((()=>{i(!1)}),[i]);return(0,C.jsx)(Qe.bz,{menu:e,onShow:n,onHide:o,children:(0,C.jsx)(Ze.e,{className:we,size:Ze.M.sm,label:p.R.get("more.label.context",t)})})};var Xe=s(84245);const Ye=({name:e,uri:t,spec:s})=>{const r=(0,Ve.s)(),i=(0,a.useCallback)((()=>{r.logInteraction(s.titleLinkFactory({uri:t}).hitUiNavigate({destination:t}))}),[r,s,t]);return(0,C.jsx)(Xe.Zp,{label:e,showDelay:Xe.uF,children:(0,C.jsx)(A.default,{to:t,className:Pe,onClick:i,children:(0,C.jsx)(ne.E,{variant:"bodyMediumBold",semanticColor:"textBase",className:Ue,children:e})})})};var et=s(67404),tt=s(98678),st=s(91484),at=s(21310),rt=s(96655),it=s(13031);const nt=a.forwardRef((function({children:e,isLocked:t=!1,uri:s,playAriaLabel:a,spec:r},n){const o=(0,Ve.s)(),{isPlaying:c,isActive:l,togglePlay:u}=(0,it.P)({uri:s},{featureIdentifier:"search"}),d=(0,tt.YQ)((e=>{if(e.preventDefault(),e.detail>0&&e.currentTarget&&e.currentTarget.blur(),t)o.logInteraction(r.playbackButtonFactory().hitShowPaywall({paywalledItem:s}));else{const e=(0,Be.$I)({isPlaying:c,isActive:l,spec:r.playbackButtonFactory(),logger:o,uri:s});u({loggingParams:e})}}),rt.dG,{leading:!0,trailing:!1});return(0,C.jsxs)("div",{className:i()(_e),children:[c?(0,C.jsx)(at.J,{className:Te,animated:!0}):e,(0,C.jsx)(st.x,{className:Ie,iconClassName:Me,onClick:d,isPlaying:c,isLocked:t,playAriaLabel:a,ref:n})]})}));var ot=s(70163),ct=s(97799);const lt="kwJGggri7IZMFvQEClUf",ut="yt0QcQy0t7LfbeVaEJG_",dt="WHMDRepGVQXXrTx3838g",pt="wLoqasagmgNF8ULGMhil",mt="cpC_03FZN3i93V8j3g0l",ht="S7CXd4i9huhWL_kPV_e3",yt="c85eTWJAYaGjCiwH1WDu",xt="cTTgGuDbNSWllHjVqiUx",gt=({className:e,leading:t,media:s,pretitle:a,title:r,subtitle:n,body:o,footer:c,trailing:l,draggable:u,onContextMenu:d,onTouchStart:p,onTouchEnd:m,onDragStart:h,onDoubleClick:y})=>{const x=(0,ct.y)();return(0,C.jsxs)("div",{className:i()(e,lt),onContextMenu:d,onTouchStart:p,onTouchEnd:m,draggable:u,onDragStart:h,onDoubleClick:y,children:[t?(0,C.jsx)("div",{className:ut,children:t}):null,s?(0,C.jsx)("div",{className:dt,children:s}):null,(0,C.jsxs)("div",{className:pt,children:[a?(0,C.jsx)("div",{children:a}):null,r?(0,C.jsx)("div",{className:yt,children:r}):null,n?(0,C.jsx)("div",{className:xt,children:n}):null,o?(0,C.jsx)("div",{children:o}):null,c?(0,C.jsx)("div",{children:c}):null]}),l?(0,C.jsx)("div",{className:i()(mt,{[ht]:x===ot.E.MEDIUM}),children:l}):null]})};s(48117);var jt=s(59866);const ft=e=>void 0!==e;const bt=({uri:e,destinationUri:t=e,name:s,createdBy:r,menu:n,media:o,leading:c,title:l,subtitle:u,body:d,trailing:p,onClick:m,spec:h})=>{const{isActive:y}=(0,et.l_)(e),x=(0,Ve.s)(),g=(0,a.useCallback)((()=>{x.logInteraction(h.secondaryHitUiReveal())}),[x,h]),j=(0,a.useCallback)((e=>{e.isDefaultPrevented()||(x.logInteraction(h.hitUiNavigate({destination:t})),m(e))}),[x,m,h,t]),f=function(e,t){if(e!==t)return`?highlight=${e}`}(e,t),b=(0,le.t)(h),{draggable:R,onDragStart:v}=((e,t,s)=>{const{draggable:r,onDragStart:i}=(0,jt.P)(),n=(0,a.useCallback)((a=>{if(a.target!==a.currentTarget)return;const r=[t,s].filter(ft).join(" • ");i(a,{itemUris:[e],dragLabelText:r})}),[i,s,t,e]);return(0,a.useMemo)((()=>({draggable:r,onDragStart:n})),[n,r])})(e,s,r),[k,E]=(0,a.useState)(!1);return(0,C.jsx)(Je.Provider,{value:E,children:(0,C.jsx)(Qe.hy,{menu:n,onShow:g,children:(0,C.jsx)(A.default,{to:t,search:f,tabIndex:-1,onClick:j,className:Ee,"data-context-menu-open":k.toString(),ref:b,children:(0,C.jsx)(gt,{leading:c||!0,title:l,subtitle:u,body:d,trailing:p,media:o,className:i()(Se,{[Fe]:y}),onDragStart:v,draggable:R})})})})};var Ct=s(32853),Rt=s(54767);const vt=({uri:e,type:t,spec:s})=>{const r=(0,Ve.s)(),i=(0,a.useCallback)((t=>{const a=t?s.heartButtonFactory().hitLike({itemToBeLiked:e}):s.heartButtonFactory().hitRemoveLike({itemNoLongerLiked:e});r.logInteraction(a)}),[s,r,e]);return["episode","audiobook"].includes(t)?(0,C.jsx)(Ct.b,{uri:e,className:Ne,onClick:i}):(0,C.jsx)(Rt.b,{uri:e,className:Ne,onClick:i})};var kt=s(41627),Et=s(25668),St=s(53098),Nt=s(33861),At=s(10410);const wt=({children:e,uri:t,name:s,index:r,menu:i,spec:n})=>{const{draggable:o,onDragStart:c}=(0,jt.P)({itemUris:[t],dragLabelText:s}),l=(0,Ve.s)(),u=(0,a.useCallback)((()=>{const e=n.subtitleLinkFactory({uri:t,position:r}).hitUiNavigate({destination:t});l.logInteraction(e)}),[r,l,n,t]);return(0,C.jsx)(kt.h,{menu:i,children:(0,C.jsx)("span",{children:(0,C.jsx)(Xe.Zp,{label:s,showDelay:Xe.uF,children:(0,C.jsx)(A.default,{draggable:o,to:t,onDragStart:c,dir:"auto",onClick:u,children:e})})})})},It=({artists:e,spec:t})=>e?(0,C.jsx)(C.Fragment,{children:e.map((({uri:e,name:s},a)=>[a>0&&p.R.getSeparator(),(0,C.jsx)(wt,{name:s,uri:e,index:a,menu:(0,C.jsx)(Et.t,{uri:e}),spec:t,children:s},e)]))}):null,Tt=({topics:e=[],spec:t})=>0===e.length?null:(0,C.jsx)(C.Fragment,{children:e.filter(At.f).map((({uri:e,title:s},a)=>[a>0&&p.R.getSeparator(),(0,C.jsx)(wt,{name:s,uri:e,index:a,spec:t,children:s},e)]))}),Ft=({show:e,spec:t})=>(0,C.jsx)(wt,{name:e.name,uri:e.uri,index:0,menu:(0,C.jsx)(St.H,{uri:e.uri}),spec:t,children:e.name}),Pt=({uri:e,name:t,spec:s})=>(0,C.jsx)(wt,{name:t,uri:e,index:0,menu:(0,C.jsx)(Nt.B,{uri:e}),spec:s,children:t}),Ut=a.memo((function({album:e,onClick:t,index:s,withEntityTag:a=!1}){const{requestId:r,uri:i,type:n,name:o,images:c,year:l,artists:u}=e,d=u[0].name,{spec:m}=(0,x.r)(fe.createDesktopSearchRowEventFactory,{data:{position:s,reason:r??"",uri:i}}),{isPlaying:h}=(0,et.l_)(i),y=(0,C.jsx)(be.h,{uri:i});return(0,C.jsx)(bt,{spec:m,menu:y,uri:i,name:o,createdBy:u.map((e=>e.name)).join(p.R.getSeparator()),onClick:t,media:(0,C.jsx)(Ke,{type:n,name:o,images:c}),leading:(0,C.jsx)(nt,{isLocked:!1,uri:i,spec:m,playAriaLabel:h?p.R.get("pause"):p.R.get("tracklist.a11y.play",o,d)}),title:(0,C.jsx)(Ye,{name:o,uri:i,spec:m}),subtitle:(0,C.jsxs)(ne.E,{variant:"bodySmall",semanticColor:"textSubdued",className:He,children:[a&&(0,C.jsx)(ne.E,{className:Oe,children:p.R.get("card.tag.album")}),(0,C.jsx)(ne.E,{className:Oe,children:(0,C.jsx)(It,{artists:u,spec:m})})]}),body:(0,C.jsx)(ne.E,{variant:"bodySmall",semanticColor:"textSubdued",children:l}),trailing:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(We,{uri:i,spec:m}),(0,C.jsx)(vt,{uri:i,type:"album",spec:m}),(0,C.jsx)(ze,{menu:y,name:o,spec:m})]})})}));var _t=s(154);const qt=a.memo((function({artist:e,onClick:t,index:s,withEntityTag:a=!1}){const{requestId:r,uri:i,type:n,name:o,images:c,verified:l}=e,{spec:u}=(0,x.r)(fe.createDesktopSearchRowEventFactory,{data:{position:s,reason:r??"",uri:i}}),{isPlaying:d}=(0,et.l_)(i),m=(0,C.jsx)(Et.t,{uri:i});return(0,C.jsx)(bt,{spec:u,menu:m,uri:i,name:o,onClick:t,media:(0,C.jsx)(Ke,{type:n,name:o,images:c}),leading:(0,C.jsx)(nt,{isLocked:!1,uri:i,spec:u,playAriaLabel:d?p.R.get("playlist.a11y.play",o):p.R.get("pause")}),title:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(Ye,{name:o,uri:i,spec:u}),l&&(0,C.jsx)(_t.M,{iconSize:"small"})]}),subtitle:a&&(0,C.jsx)(ne.E,{variant:"bodySmall",semanticColor:"textSubdued",children:p.R.get("card.tag.artist")}),trailing:(0,C.jsx)(ze,{menu:m,name:o,spec:u})})}));var Lt=s(2574),Dt=s(17672);const Ot=a.memo((function({book:e,onClick:t,index:s,withEntityTag:a=!1}){const{requestId:r,uri:i,type:n,name:o,images:c,authorName:l,publishDate:u,topics:d}=e,{spec:m}=(0,x.r)(fe.createDesktopSearchRowEventFactory,{data:{position:s,reason:r??"",uri:i}}),h=(0,C.jsx)(Lt.p,{uri:i}),y=d&&d.length>0;return(0,C.jsx)(bt,{spec:m,menu:h,uri:i,name:o,onClick:t,media:(0,C.jsx)(Ke,{type:n,name:o,images:c}),title:(0,C.jsx)(Ye,{name:o,uri:i,spec:m}),subtitle:(0,C.jsxs)(ne.E,{variant:"bodySmall",semanticColor:"textSubdued",className:He,children:[a&&(0,C.jsx)(ne.E,{className:Oe,children:p.R.get("search.row.subtitle")}),(0,C.jsx)(Xe.Zp,{label:l,showDelay:Xe.uF,children:(0,C.jsx)(ne.E,{className:Oe,children:l})})]}),body:(0,C.jsxs)(C.Fragment,{children:[u&&(0,C.jsx)(ne.E,{variant:"bodySmall",semanticColor:"textSubdued",className:Oe,children:(0,Dt.gD)((0,Dt.ad)(u.toISOString()))}),y&&(0,C.jsx)(ne.E,{variant:"bodySmall",semanticColor:"textSubdued",className:Oe,children:(0,C.jsx)(Tt,{topics:d,spec:m})})]}),trailing:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(vt,{uri:i,type:"audiobook",spec:m}),(0,C.jsx)(ze,{menu:h,name:o,spec:m})]})})}));var Mt=s(1009),Ht=s(5837),Bt=s(70856),Vt=s(75206),Wt=s(35126),$t=s(96827),Gt=s(31481),Kt=s(52415);const Zt=a.memo((function({episode:e,onClick:t,index:s,withEntityTag:r=!1}){const{requestId:n,uri:o,type:c,name:l,images:u,show:d,release:m,duration:h,isExplicit:y,is19PlusOnly:g,timeLeft:j,mediaType:f}=e,{logger:b,spec:R}=(0,x.r)(fe.createDesktopSearchRowEventFactory,{data:{position:s,reason:n??"",uri:o}}),{isPlaying:v}=(0,et.l_)(o),k=(0,a.useCallback)(((e,t)=>{(0,Be.Qv)(t,R.downloadButtonFactory(),b,o)}),[b,R,o]),E=(0,C.jsx)(Bt.b,{uri:o}),S=f?.includes(Gt.C.Video)??!1,N=!(e.podcastSubscription.isPaywalled&&!e.podcastSubscription.isUserSubscribed);return(0,C.jsx)(bt,{spec:R,menu:E,uri:o,name:l,createdBy:d?.name||void 0,onClick:t,media:(0,C.jsx)(Ke,{type:c,name:l,images:u}),leading:(0,C.jsx)(nt,{isLocked:!1,uri:o,spec:R,playAriaLabel:v?p.R.get("pause"):d?p.R.get("tracklist.a11y.play",l,d.publisher):p.R.get("playlist.a11y.play",l)}),title:(0,C.jsx)(Ye,{name:l,uri:o,spec:R}),subtitle:(0,C.jsxs)(C.Fragment,{children:[S&&(0,C.jsx)(Kt.T,{}),y&&(0,C.jsx)(Vt.g,{}),g&&(0,C.jsx)(Wt.q,{size:16}),(0,C.jsxs)(ne.E,{variant:"bodySmall",semanticColor:"textSubdued",className:He,children:[r&&(0,C.jsx)(ne.E,{children:p.R.get("card.tag.episode")}),d&&(0,C.jsx)(ne.E,{className:Oe,children:(0,C.jsx)(Ft,{show:d,spec:R})})]})]}),body:(0,C.jsxs)(C.Fragment,{children:[m.date&&(0,C.jsx)(ne.E,{variant:"bodySmall",semanticColor:"textSubdued",className:Oe,children:(0,Dt.gD)((0,Dt.ad)(m.date))}),(0,C.jsx)(ne.E,{variant:"bodySmall",semanticColor:"textSubdued",className:i()(Oe,qe),children:j.milliseconds>0?(0,C.jsx)($t.d,{durationMs:h.milliseconds}):(0,C.jsxs)(ne.E,{className:Le,children:[p.R.get("episode.played"),(0,C.jsx)(Mt.i,{size:"small",className:De,"aria-hidden":"true"})]})})]}),trailing:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(Ht.e,{className:Ae,uri:o,size:Ht.M.xs,showUpsell:!1,onClick:k,canDownload:N}),(0,C.jsx)(vt,{uri:o,type:"episode",spec:R}),(0,C.jsx)(ze,{menu:E,name:l,spec:R})]})})}));var Qt=s(97376);const Jt=a.memo((function({genre:e,onClick:t,index:s}){const{requestId:a,uri:r,type:i,name:n,images:o}=e,{spec:c}=(0,x.r)(fe.createDesktopSearchRowEventFactory,{data:{position:s,reason:a??"",uri:r}});return(0,C.jsx)(bt,{spec:c,menu:(0,C.jsx)(Qt.h,{uri:r}),uri:r,name:n,onClick:t,media:(0,C.jsx)(Ke,{type:i,name:n,images:o}),title:(0,C.jsx)(Ye,{name:n,uri:r,spec:c})})}));var zt=s(31995);const Xt=a.memo((function({playlist:e,onClick:t,index:s,withEntityTag:a=!1}){const{requestId:r,uri:i,type:n,name:o,images:c,owner:l}=e,{spec:u}=(0,x.r)(fe.createDesktopSearchRowEventFactory,{data:{position:s,reason:r??"",uri:i}}),{isPlaying:d}=(0,et.l_)(i),m=l.displayName?p.R.get("tracklist.a11y.play",o,l.displayName):p.R.get("play"),h=(0,C.jsx)(zt.W,{uri:i});return(0,C.jsx)(bt,{spec:u,menu:h,uri:i,name:o,createdBy:l.displayName??void 0,onClick:t,media:(0,C.jsx)(Ke,{type:n,name:o,images:c}),leading:(0,C.jsx)(nt,{isLocked:!1,uri:i,spec:u,playAriaLabel:d?p.R.get("pause"):m}),title:(0,C.jsx)(Ye,{name:o,uri:i,spec:u}),subtitle:(0,C.jsxs)(ne.E,{variant:"bodySmall",semanticColor:"textSubdued",className:He,children:[a&&(0,C.jsx)(ne.E,{className:Oe,children:p.R.get("card.tag.playlist")}),l.displayName&&(0,C.jsx)(ne.E,{className:Oe,children:(0,C.jsx)(Pt,{uri:l.uri,name:p.R.get("search.playlist-by",l.displayName),spec:u})})]}),trailing:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(We,{uri:i,spec:u}),(0,C.jsx)(vt,{uri:i,type:"playlist",spec:u}),(0,C.jsx)(ze,{menu:h,name:o,spec:u})]})})})),Yt=a.memo((function({show:e,onClick:t,index:s,withEntityTag:a=!1}){const{requestId:r,uri:n,type:o,name:c,images:l,publisher:u,topics:d}=e,{spec:m}=(0,x.r)(fe.createDesktopSearchRowEventFactory,{data:{position:s,reason:r??"",uri:n}}),h=(0,C.jsx)(St.H,{uri:n});return(0,C.jsx)(bt,{spec:m,menu:h,uri:n,name:c,onClick:t,media:(0,C.jsx)(Ke,{type:o,name:c,images:l}),title:(0,C.jsx)(Ye,{name:c,uri:n,spec:m}),subtitle:(0,C.jsxs)(ne.E,{variant:"bodySmall",semanticColor:"textSubdued",children:[(0,C.jsxs)("div",{children:[a&&(0,C.jsx)(ne.E,{className:Oe,children:p.R.get("card.tag.show")}),(0,C.jsx)(ne.E,{className:i()(Oe),children:u})]}),(0,C.jsx)("div",{children:(0,C.jsx)(ne.E,{className:i()(Oe,He),children:(0,C.jsx)(Tt,{topics:d,spec:m})})})]}),trailing:(0,C.jsx)(ze,{menu:h,name:c,spec:m})})}));var es=s(75450);const ts=a.memo((function({track:e,onClick:t,index:s,withEntityTag:a=!1}){const{requestId:r,uri:i,type:n,name:o,artists:c,album:l,isExplicit:u,is19PlusOnly:d}=e,m=c[0].name,{spec:h}=(0,x.r)(fe.createDesktopSearchRowEventFactory,{data:{position:s,reason:r??"",uri:i}}),{isPlaying:y}=(0,et.l_)(i),g=(0,C.jsx)(es.P,{uri:i});return(0,C.jsx)(bt,{spec:h,uri:i,destinationUri:l?.uri||void 0,menu:g,name:o,createdBy:c.map((e=>e.name)).join(p.R.getSeparator()),onClick:t,media:(0,C.jsx)(Ke,{type:n,name:o,images:l?.images||[]}),leading:(0,C.jsx)(nt,{isLocked:!1,uri:i,spec:h,playAriaLabel:y?p.R.get("pause"):p.R.get("tracklist.a11y.play",o,m)}),title:(0,C.jsx)(Ye,{name:o,uri:i,spec:h}),subtitle:(0,C.jsxs)(C.Fragment,{children:[u&&(0,C.jsx)(Vt.g,{}),d&&(0,C.jsx)(Wt.q,{size:16}),(0,C.jsxs)(ne.E,{variant:"bodySmall",semanticColor:"textSubdued",className:He,children:[a&&(0,C.jsx)(ne.E,{children:p.R.get("card.tag.track")}),(0,C.jsx)(ne.E,{className:Oe,children:(0,C.jsx)(It,{artists:c,spec:h})})]})]}),trailing:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(vt,{uri:i,type:"track",spec:h}),(0,C.jsx)(ze,{menu:g,name:o,spec:h})]})})})),ss=a.memo((function({user:e,onClick:t,index:s,withEntityTag:a=!1}){const{requestId:r,uri:i,type:n,name:o,images:c}=e,{spec:l}=(0,x.r)(fe.createDesktopSearchRowEventFactory,{data:{position:s,reason:r??"",uri:i}}),u=(0,C.jsx)(Nt.B,{uri:i});return(0,C.jsx)(bt,{spec:l,menu:u,uri:i,name:o,onClick:t,media:(0,C.jsx)(Ke,{type:n,name:o,images:c,shape:$e.u.CIRCLE}),title:(0,C.jsx)(Ye,{name:o,uri:i,spec:l}),subtitle:a&&(0,C.jsx)(ne.E,{variant:"bodySmall",semanticColor:"textSubdued",children:p.R.get("card.tag.profile")}),trailing:(0,C.jsx)(ze,{menu:u,name:o,spec:l})})})),as=({entity:e,index:t,withEntityTag:s})=>{const{onAddToHistory:r}=T(),i=(0,a.useCallback)((()=>{r(e)}),[e,r]);switch(e.type){case W.c.ALBUM:return(0,C.jsx)(Ut,{album:e,onClick:i,index:t,withEntityTag:s});case W.c.ARTIST:return(0,C.jsx)(qt,{artist:e,onClick:i,index:t,withEntityTag:s});case W.c.AUDIOBOOK:return(0,C.jsx)(Ot,{book:e,onClick:i,index:t,withEntityTag:s});case W.c.EPISODE:return(0,C.jsx)(Zt,{episode:e,onClick:i,index:t,withEntityTag:s});case W.c.GENRE:return(0,C.jsx)(Jt,{genre:e,onClick:i,index:t});case W.c.PLAYLIST:return(0,C.jsx)(Xt,{playlist:e,onClick:i,index:t,withEntityTag:s});case W.c.USER:return(0,C.jsx)(ss,{user:e,onClick:i,index:t,withEntityTag:s});case W.c.SHOW:return(0,C.jsx)(Yt,{show:e,onClick:i,index:t,withEntityTag:s});case W.c.TRACK:return(0,C.jsx)(ts,{track:e,onClick:i,index:t,withEntityTag:s});case W.c.PRE_RELEASE_ALBUM:case W.c.PRE_RELEASE_BOOK:return null;default:return(0,je.k)(e),null}};var rs=s(62701),is=s(19134),ns=s(39337);const os="FSAE0ABtUCeNRJckpcCH",cs="H2PDjUgJNBIH5eWg59M0",ls="vRlEuZATPhZt2l04RVIw",us="Adlh7XTc3j3pXM3jGgr8",ds=({index:e,item:t})=>{const{episode:s,show:a}=t,{usePlayContextItem:r}=(0,it.P)({uri:t.episode.uri},{featureIdentifier:"search",referrerIdentifier:"search"});return(0,C.jsxs)("div",{className:us,children:[(0,C.jsx)(ns.q,{index:e,episode:{...s,requestId:t.requestId},showMetadata:a,usePlayContextItem:r}),(0,C.jsx)("hr",{className:ls,"aria-hidden":!0})]})},ps=({showTitle:e=!0,displayEmptyPageOnEmptyResults:t=!0,displayError:s=!0,enableInfiniteScroll:a=!1,fetchData:r,totalCountRef:n,items:o,isError:c,isSearchV3Enabled:l})=>{const{query:u,serpId:d}=T(),p=(0,ae.Ru)(u).toURI(),{ref:m,breakpoint:h}=(0,is.x)({[ot.E.MEDIUM]:0,[ot.E.LARGE]:600}),y=(0,Ve.s)(),g=`spotify:app:search:${encodeURIComponent(u)}:${Ds}`,{spec:j,UBIFragment:f}=(0,x.r)(se.w,{data:{uri:p,reason:d}});return c?s?(0,C.jsx)(te.o,{}):null:0===n.current?t?(0,C.jsx)(f,{spec:j.emptyResultsFactory(),children:(0,C.jsx)(he,{forChip:P.j7.episodes()})}):null:(0,C.jsxs)(ct.o.Provider,{value:h,children:[o&&e&&(0,C.jsx)(re.U,{title:P.j7.episodes(),seeAllUri:g,onClickTitle:()=>{j&&y.logInteraction(j.episodesListFactory().episodesListHeaderFactory().titleFactory().hitUiNavigate({destination:g}))},onClickSeeAll:()=>{j&&y.logInteraction(j.episodesListFactory().episodesListHeaderFactory().seeAllLinkFactory().hitUiNavigate({destination:g}))},hasMoreElements:!a&&o.length<(n.current||0)}),(0,C.jsx)("div",{ref:m,className:cs,children:o&&(0,C.jsx)(rs._,{triggerOnInitialLoad:!1,className:i()({[os]:l}),onReachBottom:()=>{a&&r()},children:o})})]})},ms=e=>{const{query:t,api:s}=T(),{results:r,isError:i,fetchData:n,totalCountRef:o}=ge(30,(0,a.useCallback)(((e,a)=>s.getFullEpisodes(t,e,a)),[s,t]));return(0,C.jsx)(ps,{...e,fetchData:n,totalCountRef:o,items:r?.map(((e,t)=>(0,C.jsx)(ds,{item:e,index:t},t))),isError:i})},hs=e=>{const{query:t,api:s}=T(),{results:r,isError:i,fetchData:n,totalCountRef:o}=ge(30,(0,a.useCallback)(((e,a)=>s.getSearchCategoryResults(t,"episodes",!1,!1,e,a)),[s,t]));return(0,C.jsx)(ps,{...e,fetchData:n,totalCountRef:o,items:r?.map(((e,t)=>(0,C.jsx)(as,{entity:e,index:t},t))),isError:i,isSearchV3Enabled:!0})},ys=e=>(0,u.NC)(F.bRr)?(0,C.jsx)(hs,{...e}):(0,C.jsx)(ms,{...e});var xs=s(62894);const gs=e=>{const{title:t,category:s,query:a,results:r,onAddToHistory:i,position:n,showSeeAll:o}=e;if(!r)return null;const{items:c,totalCount:l}=r;return c&&0!==c.length?(0,C.jsx)(g.p,{index:n,id:s,total:l||0,title:t,testId:`${s}-search-entity`,seeAllUri:`spotify:app:search:${encodeURIComponent(a)}:${s}`,showSeeAll:o,children:c.map(((e,t)=>(0,C.jsx)(f.pZ,{value:s,index:t,children:(0,C.jsx)(xs.Q,{onClick:()=>i(e),entity:e,index:t})},e.uri)))}):null},js="pE9ccpPiPFWfTWfDdKT_",fs=({results:e})=>{const{query:t,serpId:s,onAddToHistory:a}=T(),r=(0,ae.Ru)(t).toURI(),{spec:i,UBIFragment:n}=(0,x.r)(se.w,{data:{uri:r,reason:s}});return 0===e?.podcasts.totalCount&&0===e?.episodes.totalCount?(0,C.jsx)(n,{spec:i.emptyResultsFactory(),children:(0,C.jsx)(he,{forChip:P.j7.podcastAndEpisodes()})}):(0,C.jsx)(n,{spec:i,children:(0,C.jsxs)("div",{className:js,children:[0!==e?.podcasts.totalCount&&(0,C.jsx)("div",{children:(0,C.jsx)(gs,{position:0,category:"podcasts",title:P.j7.podcastAndEpisodes(),query:t,results:e?.podcasts,onAddToHistory:a})}),0!==e?.episodes.totalCount&&(0,C.jsx)("div",{children:(0,C.jsx)(ys,{displayEmptyPageOnEmptyResults:!1,displayError:!1})})]})})};var bs=s(94200);const Cs="bCoyoXohuLs0f6urF2PD",Rs="EF2m35WFubo6yUwP04MQ",vs=({displayChips:e,category:t})=>{const{query:s,api:r,serpId:n,onAddToHistory:o}=T(),c=(0,u.NC)(F.Jl4)&&"audiobooks"===t,{results:l,isError:d,fetchData:p,totalCountRef:m}=ge(30,(0,a.useCallback)(((e,a)=>r.getSearchCategoryResults(s,t,!0,c,e,a)),[r,t,c,s])),h=(0,a.useCallback)(((e,t)=>(0,C.jsx)(f.pZ,{value:"card",index:t,children:(0,C.jsx)(xs.Q,{entity:e,onClick:()=>o(e),testId:`search-category-card-${t}`,index:t})},`${e.uri}-${t}`)),[o]),y=(0,ae.Ru)(s).toURI(),{spec:g,UBIFragment:j}=(0,x.r)(bs.b,{data:{uri:y,identifier:t,reason:n}}),b=(0,a.useMemo)((()=>g.cardsFactory()),[g]),R=(0,a.useMemo)((()=>g.emptyResultsFactory()),[g]);return d?(0,C.jsx)(te.o,{}):0===m.current?(0,C.jsx)(j,{spec:R,children:(0,C.jsx)(he,{forChip:P.j7[t]()})}):(0,C.jsx)(j,{spec:b,children:(0,C.jsx)("div",{className:i()(Cs,{[Rs]:e}),children:l&&(0,C.jsx)(rs._,{onReachBottom:p,triggerOnInitialLoad:!1,children:(0,C.jsx)(Z.E,{render:()=>l.map(((e,t)=>h(e,t)))})})})})};var ks=s(3094),Es=s(80982),Ss=s(65553),Ns=s(466),As=s(51773),ws=s(56291);const Is="BSIos9yETsaI3yKEqX2P",Ts=({pageSize:e=100})=>{if(e>100)throw new Error("PathFinder does not support page sizes > 100");const t=(0,ws.A)(),{query:s,api:r,serpId:i}=T(),{results:n,isError:o,fetchData:c,totalCountRef:l}=ge(e,(0,a.useCallback)(((e,t)=>r.getSearchCategoryResults(s,"tracks",!1,!1,e,t)),[r,s])),u=(0,a.useCallback)(((e,t)=>{const s=(0,Ns.g)(e.album?.images,{desiredSize:40});return(0,C.jsx)(As.x0,{index:t,uri:(0,Ss.a)(e),duration:e.duration,name:e.name,album:e.album||void 0,artists:e.artists,isPlayable:e.isPlayable,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,imgUrl:s?.url||"",requestId:e.requestId,isLyricsMatch:e.isLyricsMatch,hasAssociatedVideo:e.hasAssociatedVideo},t+e.uri)}),[]),d=(0,a.useMemo)((()=>[As.$C.INDEX,As.$C.TITLE_AND_ARTIST,As.$C.ALBUM,As.$C.DURATION]),[]),m=(0,a.useCallback)((e=>({uri:e.uri})),[]),h=(0,ae.Ru)(s).toURI(),{spec:y,UBIFragment:g}=(0,x.r)(ks.t,{data:{uri:h,reason:i}}),j=(0,a.useMemo)((()=>y.tracksFactory()),[y]),b=p.R.get("search.showing-category-query-songs",s);if(o)return(0,C.jsx)(te.o,{});if(0===l.current)return(0,C.jsx)(g,{spec:y.emptyResultsFactory(),children:(0,C.jsx)(he,{forChip:P.j7.podcastAndEpisodes()})});const R=t?48:Es.uC+48;return(0,C.jsx)(g,{spec:j,children:(0,C.jsx)(f.pZ,{value:"search-results-tracklist",children:(0,C.jsx)("div",{className:Is,children:n&&(0,C.jsx)(rs._,{triggerOnInitialLoad:!1,onReachBottom:c,children:(0,C.jsx)(As.S4,{ariaLabel:b,hasHeaderRow:!0,columns:d,renderRow:u,resolveItem:m,nrTracks:n.length,headerTop:R,tracks:n,columnPersistenceKey:"search-results-tracklist"},s)})})})})},Fs="hciep85bysUuJqNoK7uw",Ps="Xa3KEcm2U_GOL2KMSoHw",Us="KjXzXFYQr6Wp2QlxPUAY",_s=({category:e})=>{const{query:t,api:s,serpId:r}=T(),n=(0,u.NC)(F.Jl4)&&"audiobooks"===e,{results:o,isError:c,fetchData:l,totalCountRef:d}=ge(50,(0,a.useCallback)(((a,r)=>s.getSearchCategoryResults(t,e,!0,n,a,r)),[s,e,n,t])),p=(0,ae.Ru)(t).toURI(),{spec:m,UBIFragment:h}=(0,x.r)(bs.b,{data:{uri:p,identifier:e,reason:r}}),{ref:y,breakpoint:g}=(0,is.x)({[ot.E.MEDIUM]:0,[ot.E.LARGE]:600}),j=(0,a.useMemo)((()=>m.cardsFactory()),[m]);if(c)return(0,C.jsx)(te.o,{});if(0===d.current)return(0,C.jsx)(h,{spec:m.emptyResultsFactory(),children:(0,C.jsx)(he,{forChip:P.j7[e]()})});const f="episodes"===e||"podcasts"===e,b="topResults"===e;return(0,C.jsx)(h,{spec:j,children:(0,C.jsx)(ct.o.Provider,{value:g,children:(0,C.jsx)("div",{ref:y,className:i()(Fs,{[Us]:f}),children:o&&(0,C.jsx)(rs._,{onReachBottom:l,triggerOnInitialLoad:!1,className:Ps,children:o.map(((e,t)=>(0,C.jsx)(as,{entity:e,index:t,withEntityTag:b},e.uri)))})})})})},qs=({results:e,hasResults:t})=>{const{query:s,serpId:r}=T(),i=(0,ae.Ru)(s).toURI(),{spec:n,UBIFragment:o}=(0,x.r)(bs.b,{data:{uri:i,identifier:"topResults",reason:r}}),{ref:c,breakpoint:l}=(0,is.x)({[ot.E.MEDIUM]:0,[ot.E.LARGE]:600}),u=(0,a.useMemo)((()=>n.cardsFactory()),[n]);return e&&t||n.emptyResultsFactory(),(0,C.jsx)(o,{spec:u,children:(0,C.jsx)(ct.o.Provider,{value:l,children:(0,C.jsx)("div",{ref:c,className:Fs,children:e&&(0,C.jsx)(rs._,{triggerOnInitialLoad:!1,className:Ps,children:e.topResults.items.map(((e,t)=>(0,C.jsx)(as,{entity:e,index:t,withEntityTag:!0},e.uri)))})})})})},Ls="podcastAndEpisodes",Ds="episodes",Os=({results:e,hasResults:t,displayChips:s})=>{const{category:a}=T(),r=(0,u.NC)(F.bRr);return a?a===Ls?(0,C.jsx)(fs,{results:e}):r?"topResults"===a?(0,C.jsx)(qs,{results:e,hasResults:t}):(0,C.jsx)(_s,{category:a}):"tracks"===a?(0,C.jsx)(Ts,{}):a===Ds?(0,C.jsx)(ys,{enableInfiniteScroll:!0,showTitle:!1}):(0,C.jsx)(vs,{displayChips:s,category:a}):(0,C.jsx)(te.o,{})};var Ms=s(49800),Hs=s(73189),Bs=s(50808),Vs=s(15139),Ws=s(95106);const $s="LUFFqrJ0LibaWeKlygOn",Gs="jxHVSSmC3dlNxM44xhZc",Ks="JdQcbvkyI1N0RIhsKzoJ",Zs="Drdf4TIgw9aCcq7O5kEu",Qs=e=>{const t=(0,ae.o_)(e.uri);return t?(0,C.jsx)(ie.N_,{to:`/artist/${t.id}/concerts`,onClick:e.onClick,className:Zs,children:(0,C.jsxs)("div",{className:$s,children:[(0,C.jsx)("div",{className:Gs,children:(0,C.jsx)(Ws.T,{className:Ks})}),e.children]})}):null},Js="GnFcfI0qJZYx5zkOugKJ",zs="B_ow1wbs2_lZdMWmHVXM",Xs="hW0elHXQkN4JexepEAC3",Ys="lsu4FCOwUyWDlaoN11sN",ea="VjhgkqpvaOlhxjckke0x",ta="buzy9vwjx4Yp7Fh7vcYF",sa=({artistUri:e})=>{const{spec:t}=(0,x.r)(Vs._,{data:{uri:e}}),s=(0,Ve.s)(),r=(0,le.t)(t),n=(0,a.useMemo)((()=>t.onTourShelfFactory({uri:e})),[e,t]);return(0,C.jsxs)("section",{className:i()(ea),ref:r,children:[(0,C.jsx)("div",{className:Js,children:(0,C.jsx)("div",{className:zs,children:(0,C.jsx)("div",{className:Xs,children:(0,C.jsx)(ne.E,{as:"h2",variant:"titleSmall",className:Ys,children:p.R.get("search.title.concerts")})})})}),(0,C.jsx)("div",{className:ta,children:(0,C.jsx)(Qs,{uri:e,onClick:()=>{s.logInteraction(n.hitUiNavigate({destination:`${e}:concerts`}))},children:p.R.get("search.concerts.see-all")})})]})};var aa=s(49882);const ra=a.memo((function({tracks:e,query:t}){const s=(0,u.NC)(F.LX5),r=(0,a.useCallback)(((e,t)=>{const a=(0,Ns.g)(e.album?.images,{desiredSize:40});return(0,C.jsx)(As._8,{uri:(0,Ss.a)(e),duration:e.duration,name:e.name,album:e.album||void 0,artists:e.artists,isPlayable:e.isPlayable,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,index:t,imgUrl:a?.url||"",requestId:e.requestId,isLyricsMatch:e.isLyricsMatch,hasAssociatedVideo:e.hasAssociatedVideo&&s},e.uri)}),[s]),i=(0,a.useMemo)((()=>[As.$C.TITLE_AND_ARTIST,As.$C.DURATION]),[]),n=(0,a.useCallback)((e=>({uri:e.uri})),[]);return e&&(0,C.jsx)(f.pZ,{value:"search-results-tracklist",children:(0,C.jsx)(As.S4,{ariaLabel:p.R.get("search.a11y.songs-search-results"),renderRow:r,rowPlaceholder:As.qq,nrTracks:Math.min(e.length,4),tracks:e,resolveItem:n,columns:i},t)})}),((e,t)=>e.tracks===t.tracks));var ia=s(72160);const na="rP1oFnzzvss0GV6VPgGG",oa="XQakH0M0GDc6g6JKeyds",ca="yGcWcNiO6uXCw8TsaZGG",la="wcLbUjCu5V18bwS2tqcg",ua="PW9eULMYYH14XQgoJ0ui",da="VL6wjp4Br_D3FEWrUGGR",pa="QVIrLvegL13F9cEdMqfT",ma="Lj3brgOJmjcq6MQ22XKq",ha=({tracks:e,query:t,className:s,showSeeAll:r=!0,spec:n})=>{const o=(0,Ve.s)(),c=(0,a.useCallback)((()=>(0,C.jsx)("div",{className:ma,children:(0,C.jsx)(a.Suspense,{fallback:null,children:(0,C.jsx)(ra,{tracks:e.items,query:t})})})),[t,e]),l=`spotify:app:search:${encodeURIComponent(t)}:tracks`,u=(0,a.useCallback)((()=>{const e=n.headerFactory().titleFactory().hitUiNavigate({destination:l});o.logInteraction(e)}),[o,n,l]),d=(0,a.useCallback)((()=>{const e=n.headerFactory().seeAllFactory().hitUiNavigate({destination:l});o.logInteraction(e)}),[o,n,l]);return e.items.length?(0,C.jsxs)("section",{className:i()(pa,s),"aria-label":p.R.get("search.title.tracks"),"data-testid":"search-tracks-result",children:[(0,C.jsx)("div",{className:na,children:e.items.length>3?(0,C.jsxs)("div",{className:i()(oa,ca,la),children:[(0,C.jsx)("div",{className:ua,children:(0,C.jsx)(ne.E,{as:"h2",variant:"titleSmall",children:r?(0,C.jsx)(A.Link,{to:l,className:da,onClick:u,children:p.R.get("search.title.tracks")}):(0,C.jsx)("span",{className:da,children:p.R.get("search.title.tracks")})})}),r&&(0,C.jsx)(ia.SeeAll,{link:l,onClick:d})]}):(0,C.jsx)(ne.E,{as:"h2",variant:"titleSmall",className:da,children:p.R.get("search.title.tracks")})}),(0,C.jsx)(aa.r,{spec:n,children:(0,C.jsx)(Z.E,{render:c})})]}):null},ya=({topRecommendations:e,query:t,className:s,onAddToHistory:a,position:r,showSeeAll:i})=>{const n=e.totalCount||0;return(0,C.jsx)(g.p,{index:r,id:"top-recommendations",className:s,total:n,title:p.R.get("artist-page.featuring",e.artistName),seeAllUri:`spotify:app:search:${encodeURIComponent(t)}:topRecommendations`,showSeeAll:i,children:e.items.map(((e,t)=>(0,C.jsx)(f.pZ,{index:t,value:"top-recommendations",children:(0,C.jsx)(xs.Q,{onClick:()=>a(e),entity:e,index:t})},e.uri)))})};var xa=s(29432);const ga="iGyMsGo7FgYQQThBj2y9",ja="eITFAR9yPwhjL_2gxB09",fa="nGARy02O1AklvHT7OBLA",ba="EFHPppToKFxfm6SRhL6K",Ca="EbZrO5qZMclA_AaI3NV8",Ra="rjgEnbv42_EUDbaiZnA2",va="FTRmZyHUkeVY_X3RawUc",ka="Tx_CKMgRE8CpW5vLdpAe",Ea=({topResults:e,onAddToHistory:t})=>{const[s]=e.items;return s&&(0,C.jsx)(xa.$,{total:1,className:ga,title:p.R.get("search.title.top-result"),withEncoreCards:!1,children:[(0,C.jsx)("div",{"aria-live":"polite","data-testid":"top-result-card",className:ja,children:(0,C.jsx)(f.pZ,{value:"top-result-card",children:(0,C.jsx)(xs.Q,{isHero:!0,index:0,onClick:()=>t(s),entity:s})})},"top-result-item")]})},Sa=({results:e})=>{const{query:t,onAddToHistory:s,serpId:r}=T(),i=(0,ae.Ru)(t).toURI(),{spec:n,UBIFragment:o}=(0,x.r)(Bs.P,{data:{uri:i,reason:r}}),c=e.topResults.items.length>0,l=e.tracks.items.length>0,u=e.topRecommendations.items.length>0,[d]=e.topResults.items??[],p=(m=d,m?.type===W.c.ARTIST&&d.hasConcerts);var m;const h=(0,a.useMemo)((()=>({topResult:n.topResultFactory(),trackList:n.trackListFactory(),shelves:n.shelvesFactory()})),[n]);return(0,C.jsx)(Z.E,{className:fa,rowGap:Hs.WG,colGap:Hs.CJ,testId:"search-results",render:({columnCount:a})=>{let r,i;return c?r=a>3?Ca:Ra:u&&(a>5&&l?(r=ba,i=va):(r=Ra,i=ka)),(0,C.jsxs)(f.pZ,{value:"search-results",children:[c&&(0,C.jsx)(o,{spec:h.topResult,children:(0,C.jsx)(Ea,{topResults:e.topResults,onAddToHistory:s})}),(0,C.jsxs)("section",{className:r,children:[p&&(0,C.jsx)(sa,{artistUri:d.uri}),l&&(0,C.jsx)(ha,{spec:h.trackList,query:t,tracks:p?{totalCount:3,items:e.tracks.items.slice(0,3)}:e.tracks,onAddToHistory:s,showSeeAll:!1})]}),u&&(0,C.jsx)(o,{spec:h.shelves,children:(0,C.jsx)(ya,{position:0,query:t,className:i,topRecommendations:e.topRecommendations,onAddToHistory:s,showSeeAll:!1})}),P.ud.map(((a,r)=>(0,C.jsx)(o,{spec:h.shelves,children:(0,C.jsx)(gs,{position:r+1,category:a,title:P.j7[a](),query:t,results:e[a],onAddToHistory:s,showSeeAll:!1})},`search-shelf-${a}`)))]})}})},Na=({results:e,hasResults:t,category:s="topResults"})=>{const a=(0,u.NC)(F.bRr),{category:r,query:i,serpId:n}=T(),o=(0,ae.Ru)(i).toURI(),c=!(0,K.n)(),{spec:l,UBIFragment:d}=(0,x.r)(Bs.P,{data:{uri:o,reason:n}});return c?(0,C.jsx)(he,{}):e?e&&!t?(0,C.jsx)(d,{spec:l.emptyResultsFactory(),children:(0,C.jsx)(he,{})}):a&&!r?s===Ls?(0,C.jsx)(fs,{results:e}):(0,C.jsx)(qs,{results:e,hasResults:t}):(0,C.jsx)(Sa,{results:e}):null};var Aa=s(39806),wa=s(97876),Ia=s(3106),Ta=s(61678),Fa=s(23760);const Pa=(e,t)=>{const s="object"==typeof e?.requestIds?e?.requestIds:void 0,a=s?.[t],r="object"==typeof a?a:void 0;return"string"==typeof r?.["search-api"]?r?.["search-api"]:void 0},Ua=e=>Pa(e,"/searchV2"),_a=e=>Pa(e,"/searchV2/topResults");var qa=s(82871);s(17094);const La=new qa.l("searchFullEpisodes","query","22e377f7b7c40e7ee0aa57dcb6d27120e524bb7dc14271101abed22aded60f8e",null);var Da=s(22596),Oa=s(51424),Ma=s(17018),Ha=s(59870),Ba=s(61661),Va=s(89517),Wa=s(83998);function $a(e){return e.map((e=>e.url?{url:e.url,width:Number(e.width)||56,height:Number(e.height)||56}:e))}const Ga={type:W.c.SHOW,uri:"",name:"",publisher:"",images:[],mediaType:Wa.Q.UNKNOWN};function Ka(e,t){return{items:Za(e?.items||[],t),totalCount:e?.totalCount||0}}function Za(e,t){return e.map((e=>Qa(e,t))).filter(Oa.P)}function Qa(e,t){if("Episode"!==e.data?.__typename)return null;const s=e.data,a=s.podcastV2.data;let r=Ga;return"Podcast"===a.__typename&&(r={type:W.c.SHOW,uri:a.uri,name:a.name,publisher:a.publisher?.name||"",mediaType:(0,Va.w)(a.mediaType),images:$a(a.coverArt?.sources||[])}),{type:W.c.EPISODE,name:s.name,images:$a(s.coverArt?.sources||[]),uri:s.uri,duration:{milliseconds:s.duration.totalMilliseconds},isExplicit:s.contentRating?.label===V.x7.Explicit,release:(0,Ha.mp)(s.releaseDate),description:s.description||"",timeLeft:{milliseconds:s.playedState.state===V._w.Completed?0:s.duration.totalMilliseconds-s.playedState.playPositionMilliseconds},is19PlusOnly:s.contentRating?.label===V.x7.NineteenPlus,show:r,requestId:t,color:(0,Ma.m)(s.coverArt?.extractedColors),mediaType:s.mediaTypes??[],podcastSubscription:(0,Ba.Wx)(s.restrictions,s.playability)}}const Ja={...Ga,description:"",htmlDescription:"",coverArt:[],trailer:null,topics:[],podcastType:"UNKNOWN",showTypes:[],publisherName:"",consumptionOrder:"recent",nextBestEpisode:void 0,gatedContentAccessReason:void 0,isLocked:!1};function za(e,t){return e.map((e=>function(e,t){if("Episode"!==e.data?.__typename)return null;let s=Ja;"Podcast"===e.data.podcastV2.data.__typename&&(s=(0,Da._v)(e.data.podcastV2.data));return{requestId:t,episode:(0,Da.S)(e.data),show:s}}(e,t))).filter(Oa.P)}async function Xa(e,t){const s=await e(La,t),a=s?.data?.searchV2?.episodes;return a?function(e,t){return{items:za(e?.items||[],t),totalCount:e?.totalCount||0}}(a,Ua(s?.extensions)):null}const Ya=new qa.l("searchDesktop","query","339dfbacfc823a4b720b2c42dda51cc5b302966652b823958a6bdddbe914fa41",null);function er(e,t){if("PreRelease"!==e.data?.__typename)return null;const s=e.data.preReleaseContent;if(!s)return null;const a=(0,Ha.mp)(e.data.releaseDate),r=s.artists.items.map((e=>"Artist"===e.data.__typename?{type:W.c.ARTIST,name:e.data.profile.name,uri:e.data.uri}:null)).filter(Oa.P);return{type:W.c.PRE_RELEASE_ALBUM,name:s.name||"",uri:e.data.uri,images:$a(s.coverArt?.sources||[]),release:a,releaseTimezone:e.data.timezone,artists:r,color:(0,Ma.m)(s.coverArt?.extractedColors),requestId:t}}function tr(e,t){return{items:(e?.items||[]).map((e=>{const{__typename:s}=e;switch(s){case"AlbumResponseWrapper":return sr(e,t);case"PreReleaseResponseWrapper":return er(e,t);case"UnknownTypeWrapper":return null;default:return(0,je.k)(s),null}})).filter(Oa.P),totalCount:e?.totalCount||0}}function sr(e,t){if("Album"!==e.data.__typename)return null;const s=e.data;return{type:W.c.ALBUM,name:s.name,uri:s.uri,images:$a(s.coverArt?.sources||[]),artists:s.artists.items.map((e=>({type:W.c.ARTIST,name:e.profile.name,uri:e.uri}))),year:s.date?.year,requestId:t,color:(0,Ma.m)(e.data.coverArt?.extractedColors)}}const ar=new qa.l("searchAlbums","query","4ddf4d062c3c268954bb113ca2a24c6440e8c832170185388a087ca8608c727c",null);function rr(e,t){return{items:ir(e?.items||[],t),totalCount:e?.totalCount||0}}function ir(e,t){return e.map((e=>nr(e,t))).filter(Oa.P)}function nr(e,t){if("Artist"!==e.data?.__typename)return null;const s=e.data;return{type:W.c.ARTIST,name:s.profile.name,images:$a(s.visuals?.avatarImage?.sources||[]),uri:s.uri,verified:s.profile.verified||!1,requestId:t,hasConcerts:s.hasConcerts??!1,color:(0,Ma.m)(s.visuals.avatarImage?.extractedColors)}}const or=new qa.l("searchArtists","query","79a2bd8dbfa6772d9063df2b59bc04120f2805214a3a8bf07a335fc39150f837",null);function cr(e,t){return{items:lr(e?.items||[],t),totalCount:e?.totalCount}}function lr(e,t){return e.map((e=>ur(e,t))).filter(Oa.P)}function ur(e,t){if("Audiobook"!==e.data?.__typename)return null;const s=e.data;let a=null;return s.isPreRelease&&s.preReleaseEndDateTime?a=new Date(s.preReleaseEndDateTime?.isoString):s.publishDate&&(a=new Date(s.publishDate.isoString)),{type:W.c.AUDIOBOOK,uri:s.uri,name:s.name,images:$a(s.coverArt?.sources||[]),authorName:s.authors?.[0]?.name??"",topics:s.topics.items||[],publishDate:a,requestId:t,color:(0,Ma.m)(s.coverArt?.extractedColors),signifierText:s.accessInfo?.signifier?.text??void 0,isPreRelease:!!s.isPreRelease}}const dr=new qa.l("searchAudiobooks","query","82ec16373818a73b4d7323c076e4f5d550ec3b0e5e2650d4715ca011dfa775fe",null);const pr=new qa.l("searchEpisodes","query","6c94e7db591c68ff6244234e1b2378b3eb6a1f5c1999b711a7bd12b9708f6322",null);function mr(e,t){return{items:hr(e?.items||[],t),totalCount:e?.totalCount||0}}function hr(e,t){return e.map((e=>yr(e,t))).filter(Oa.P)}function yr(e,t){if("Genre"!==e.data?.__typename)return null;const s=e.data,a=(0,ae.o_)(s.uri);return{type:W.c.GENRE,name:s.name,uri:a?s.uri:`spotify:genre:${s.uri}`,images:$a(s.image?.sources||[]),requestId:t,color:(0,Ma.m)(s.image?.extractedColors)}}const xr=new qa.l("searchGenres","query","9e1c0e056c46239dd1956ea915b988913c87c04ce3dadccdb537774490266f46",null);const gr={type:W.c.USER,uri:"",displayName:"",username:"",images:[]};function jr(e,t){return{items:fr(e?.items||[],t),totalCount:e?.totalCount||0}}function fr(e,t){return e.map((e=>br(e,t))).filter(Oa.P)}function br(e,t){if("Playlist"!==e.data?.__typename)return null;const s=e.data;let a=gr;if("User"===s.ownerV2?.data.__typename){const e=s.ownerV2?.data;a={type:W.c.USER,uri:e.uri||"",displayName:e.name||"",username:e.username||"",images:$a(e.avatar?.sources||[])}}return{type:W.c.PLAYLIST,uri:s.uri,name:s.name,images:$a(s.images?.items.flatMap((e=>e.sources))||[]),owner:a,requestId:t,formatListData:{type:s.format??"",attributes:(r=s.attributes??[],r.reduce(((e,t)=>(e[t.key]=t.value,e)),{}))},color:(0,Ma.m)(s.images.items[0]?.extractedColors)};var r}const Cr=new qa.l("searchPlaylists","query","fc3a690182167dbad20ac7a03f842b97be4e9737710600874cb903f30112ad58",null);function Rr(e,t){return{items:vr(e?.items||[],t),totalCount:e?.totalCount||0}}function vr(e,t){return e.map((e=>kr(e,t))).filter(Oa.P)}function kr(e,t){if("Podcast"!==e.data?.__typename)return null;const s=e.data;return{type:W.c.SHOW,uri:s.uri,name:s.name,images:$a(s.coverArt?.sources||[]),publisher:s.publisher?.name||"",topics:s.topics.items||[],requestId:t,color:(0,Ma.m)(s.coverArt?.extractedColors)}}const Er=new qa.l("searchPodcasts","query","cbd33edc7a612454640d753caff6fb1074a7868843612d257dcef5e71e837dd9",null);var Sr=s(55459);function Nr(e,t){return{items:Ar(e,t),totalCount:e?.totalCount||0}}function Ar(e,t){return e?.items.map((({item:e,matchedFields:s})=>wr(e,s,t))).filter(Oa.P)||[]}function wr(e,t,s){if("Track"!==e.data?.__typename)return null;const a=e.data,r=a.albumOfTrack,i=!!a.associations&&a.associations.associatedVideos.totalCount>0;return{type:W.c.TRACK,uri:a.uri,name:a.name,isPlayable:a.playability.playable,album:{type:W.c.ALBUM,uri:r?.uri||"",name:r?.name||"",images:$a(r?.coverArt?.sources||[])},artists:a.artists.items.map((e=>({type:W.c.ARTIST,name:e.profile.name,uri:e.uri}))),duration:{milliseconds:a.duration.totalMilliseconds},hasAssociatedVideo:i,isExplicit:"EXPLICIT"===a.contentRating?.label,is19PlusOnly:"NINETEEN_PLUS"===a.contentRating?.label,requestId:s,isLyricsMatch:!!t?.includes(V.tC.Lyrics),color:(0,Ma.m)(r?.coverArt?.extractedColors)}}const Ir=new qa.l("searchTracks","query","875aaad13da3b8cebc0951584343999525b242d3a6a45caf33423bbf6f027af3",null);function Tr(e,t){return{items:Fr(e?.items||[],t),totalCount:e?.totalCount||0}}function Fr(e,t){return e.map((e=>Pr(e,t))).filter(Oa.P)}function Pr(e,t){if("User"!==e.data?.__typename)return null;const s=e.data;return{type:W.c.USER,uri:s.uri,name:s.displayName||s.username,images:$a(s.avatar?.sources??[]),requestId:t,color:(0,Ma.m)(s.avatar?.extractedColors)}}const Ur=new qa.l("searchUsers","query","d3f7547835dc86a4fdf3997e0f79314e7580eaf4aaf2f4cb1e71e189c5dfcb1f",null);function _r(e,t){const s=e?.itemsV2??[],a=s.map((({item:e,matchedFields:s})=>{const{__typename:a}=e;switch(a){case"AlbumResponseWrapper":return sr(e,t);case"ArtistResponseWrapper":return nr(e,t);case"AudiobookResponseWrapper":return ur(e,t);case"EpisodeResponseWrapper":return Qa(e,t);case"GenreResponseWrapper":return yr(e,t);case"PlaylistResponseWrapper":return br(e,t);case"PodcastResponseWrapper":return kr(e,t);case"TrackResponseWrapper":return wr(e,s,t);case"UserResponseWrapper":return Pr(e,t);case"PreReleaseResponseWrapper":return er(e,t);case"UnknownTypeWrapper":return null;default:return(0,je.k)(a),null}})).filter(Oa.P);return{totalCount:s.length,items:a}}function qr(e,t){const s=e?.featured||[];return{artistName:s.length?Lr(e):"",items:s?.map((e=>br(e,t))).filter(Oa.P)||[],totalCount:s.length||0}}function Lr(e){const t=(0,Sr.no)(e,"itemsV2",[]);try{const e=(0,Sr.Jt)(t.map((({item:e})=>e)).filter(Boolean),"0.data");return e?.profile?.name||""}catch{return""}}const Dr=new qa.l("searchTopResultsOnly","query","17b0165c6bfa477d67f22bf6dfc31139e6ef4412d63f7f9ff32871cc906e266c",null);const Or={items:[],totalCount:0},Mr={albums:{items:[],totalCount:0},artists:{items:[],totalCount:0},episodes:{items:[],totalCount:0},genres:{items:[],totalCount:0},playlists:{items:[],totalCount:0},podcasts:{items:[],totalCount:0},audiobooks:{items:[],totalCount:0},topResults:{items:[]},tracks:{items:[],totalCount:0},users:{items:[],totalCount:0},topRecommendations:{artistName:"",items:[],totalCount:0},chipOrder:{items:[]}},Hr={albums:async function(e,t){const s=await e(ar,t),a=s?.data?.searchV2?.albumsV2;return a?tr(a,Ua(s?.extensions)):null},artists:async function(e,t){const s=await e(or,t),a=s?.data?.searchV2?.artists;return a?rr(a,Ua(s?.extensions)):null},episodes:async function(e,t){const s=await e(pr,t),a=s?.data?.searchV2?.episodes;return a?Ka(a,Ua(s?.extensions)):null},genres:async function(e,t){const s=await e(xr,t),a=s?.data?.searchV2?.genres;return a?mr(a,Ua(s?.extensions)):null},playlists:async function(e,t){const s=await e(Cr,t),a=s?.data?.searchV2?.playlists;return a?jr(a,Ua(s?.extensions)):null},podcasts:async function(e,t){const s=await e(Er,t),a=s?.data?.searchV2?.podcasts;return a?Rr(a,Ua(s?.extensions)):null},audiobooks:async function(e,t){const s=await e(dr,t),a=s?.data?.searchV2?.audiobooks;return a?cr(a,Ua(s?.extensions)):null},tracks:async function(e,t){const s=await e(Ir,t),a=s?.data?.searchV2?.tracksV2;return a?Nr(a,Ua(s?.extensions)):null},users:async function(e,t){const s=await e(Ur,t),a=s?.data?.searchV2?.users;return a?Tr(a,Ua(s?.extensions)):null},topResults:async function(e,t){const s=await e(Dr,t),a=s?.data?.searchV2?.topResultsV2;return a?_r(a,_a(s?.extensions)):null},podcastAndEpisodes:Xa};class Br{constructor(e){this._request=e}async getSearchResults(e,t=!0,s=0,a=10,r=5,i=!1,n=!1){const o={searchTerm:e,offset:s,limit:a,numberOfTopResults:r,includeAudiobooks:t,includeArtistHasConcertsField:i,includePreReleases:n},c=await this._request(Ya,o),l=c?.data?.searchV2;if(!l)return Mr;const u=Ua(c?.extensions),d=_a(c?.extensions);return{albums:tr(l.albumsV2,u),artists:rr(l.artists,u),episodes:Ka(l.episodes,u),genres:mr(l.genres,u),playlists:jr(l.playlists,u),podcasts:Rr(l.podcasts,u),audiobooks:cr(l.audiobooks??null,u),tracks:Nr(l.tracksV2,u),users:Tr(l.users,u),topResults:_r(l.topResultsV2,d),topRecommendations:qr(l.topResultsV2,d),chipOrder:l.chipOrder}}async getSearchCategoryResults(e,t,s=!1,a=!1,r=0,i=25,n=20){const o={searchTerm:e,offset:r,limit:i,numberOfTopResults:n,includeAudiobooks:s,includePreReleases:a},c=Hr[t];return await c(this._request,o)||Or}async getFullEpisodes(e,t=0,s=25){const a={searchTerm:e,offset:t,limit:s};return await Xa(this._request,a)||Or}}var Vr=s(19044),Wr=s(69862);const $r=({results:e,hasResults:t})=>{const s=(0,u.NC)(F.bRr),r=(0,ws.A)(),{isBrowser:c}=(0,n.d4)((e=>e.platform)),l=(0,n.d4)(Fa.JJ),p=(0,Ia.V)(),h=(0,m.vh)(),{version:y}=(0,m.mv)(),{category:x}=T(),g=((e,t,s)=>{const a=e?.chipOrder?.items??[];return Array.from(a.reduce(((a,r)=>{if(!r.typeName)return a;if(!s&&r.typeName===V.pb.TopResults)return a;const[i,n]=G[r.typeName];return n&&i&&(t===n||e?.[i]?.items?.length)?(a.add(n),a):a}),new Set([])))})(e,x,s),j="podcasts"!==x&&"episodes"!==x,b=s?g[0]:void 0,R=(e=>{if(!e)return!1;const[t]=e.topResults.items;return Boolean(t&&t.type===W.c.TRACK)})(e),v=(0,u.NC)(F.ijb);return(0,a.useEffect)((()=>{c||e&&t&&(({eventSender:e,country:t,isAnonymous:s,context:a,variant:r})=>{const i={category:"internal-search-test",action:"search-results-page-visit",variant:r,label:"desktop-app",context:a,os:(0,$.f)(),country:t,spt:(0,B.v8)("sp_t")};s?e.send((0,H.r)(i)):e.send((0,M._)(i))})({eventSender:h,country:l,isAnonymous:p,context:JSON.stringify({top_result_is_track:R,version:y}),variant:v})}),[l,h,t,p,c,e,R,v,y]),(0,C.jsxs)(f.pZ,{value:"search-page",children:[!r&&(0,C.jsx)(wa.g,{children:(0,C.jsx)(Ms.o,{isSearchChipsEnabled:!0})}),(0,C.jsx)(O,{searchCategories:g,selectedCategory:x??b,displayChips:j}),(0,C.jsx)("div",{className:i()("contentSpacing",{[Wr.A.narrowPage]:s&&e}),id:"searchPage",children:(0,C.jsx)(Z.E,{className:Wr.A.searchPageGrid,render:()=>(0,C.jsxs)(o.BV,{children:[(0,C.jsx)(o.qh,{path:"/",element:(0,C.jsx)(z.e,{pageId:d.$h.FIND,entityUri:"spotify:app:search",children:(0,C.jsx)(k,{})})}),(0,C.jsx)(o.qh,{path:":query",element:(0,C.jsx)(ee,{children:(0,C.jsx)(Na,{results:e,hasResults:t,category:b})})}),(0,C.jsx)(o.qh,{path:":query/:category",element:(0,C.jsx)(Y,{children:(0,C.jsx)(Os,{results:e,hasResults:t,displayChips:j})})})]})})})]})};const Gr=a.memo((function(){const e=(0,u.NC)(F.bRr),t=(0,u.NC)(F.KvH),s=(0,u.NC)(F.Jl4),r=!(0,K.n)(),[{category:i,query:n},o]=(0,Vr.o)();(0,Ta.m)("search");const[c,d]=(0,a.useState)({results:null,queryForResults:n??""}),m=c.results,h=function(e){return null!==e&&void 0!==Object.keys(e).find((t=>"chipOrder"!==t&&e[t].items.length>0))}(m),y=(0,a.useMemo)((()=>new Br((0,J.lY)(Q.n.getInstance()))),[]),{searchHistory:x,setSearchHistory:g}=(0,b.k)(),j=(0,a.useCallback)((e=>{g([e,...x])}),[x,g]),f=(0,a.useCallback)((async e=>{e===c.queryForResults&&h||o(e,i,!1)}),[c.queryForResults,i,h,o]);(0,a.useEffect)((()=>{(async()=>{if(!n)return;if(r)return void d({results:null,queryForResults:n});const a=e?20:5,i=await y.getSearchResults(n,!0,0,10,a,t,s);d({results:i,queryForResults:n})})()}),[n,y,e,r,t,s]),(0,a.useEffect)((()=>{n||d({results:null,queryForResults:""})}),[n]);const R=(0,a.useMemo)((()=>l().create().toString()),[i,c.queryForResults]),v=(0,a.useMemo)((()=>({api:y,category:i,query:c.queryForResults,onAddToHistory:j,onSearchRequest:f,serpId:R})),[y,i,j,f,c.queryForResults,R]);return(0,C.jsxs)(I,{value:v,children:[(0,C.jsx)(Aa.Q,{children:p.R.get("search.page-title")}),(0,C.jsx)($r,{results:m,hasResults:h})]})}))},65553:(e,t,s)=>{s.d(t,{a:()=>a});const a=e=>e?.linked_from?.uri||e.uri}}]);
//# sourceMappingURL=xpui-routes-search.js.map