"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[708],{23348:(e,i,t)=>{t.d(i,{n:()=>A});var s=t(59496),r=t(84875),n=t.n(r),a=t(80519),l=t(81902),c=t(26814),d=t(13492),o=t(55740),u=t(85830),m=t(36012),x=t(1938);var h=t(2238),j=t(65980),p=t(45743);const g="BkpKedcdaMGbvgXMlmcg",y="muYk5XIwKmqR9iNibk_f",f="OEFWODerafYHGp09iLlA",v="m20ShRDiGGDpJ5LSABTi",k="Hvv0e7WKQ4kyftgSQJhg",b="yxf_6IsQEmHjijEBUMTP",w="oaNVBli46GtVjaQKB15g",C="JdlKTdpMquftpMwwegZo",N="Nts_ArOCGeROTDZND3M6",E="FvDsfgxSvLvL3q8d7nQv";var I=t(4637);const R=({items:e,activeItemId:i})=>(0,I.jsx)(j.v,{children:e.map((e=>e.disabled?(0,I.jsx)(p.s,{disabled:!0,role:"menuitemradio",className:b,onClick:e.handleClick,children:e.title},e.uri):(0,I.jsx)(p.s,{role:"menuitemradio",to:e.to,end:!0,"aria-checked":e.itemId===i,className:({isActive:e})=>n()(b,{[w]:e}),onClick:e.handleClick,children:e.title},e.uri)))});var U=t(64544);const A=(0,s.memo)((function({isCentered:e,links:i,landmarkLabel:t,className:r}){const j=(0,s.useRef)(null),[p,b]=(0,s.useState)([]),[A,T]=(0,s.useState)(0),[S,B]=(0,s.useState)([]),D=function(){const[e,i]=(0,s.useState)(window.innerWidth),{scrollNodeChildRef:t}=(0,s.useContext)(m.VX),r=(0,u.y1)((e=>{e?.width&&i(e.width)}),250);return(0,x.y)({refOrElement:t,observeOnly:"width",onResize:r}),e}()??1/0,{pathname:O}=(0,a.TH)(),M=i.find((e=>e.to===O));return(0,s.useEffect)((()=>{j.current&&T(j.current.clientWidth)}),[D]),(0,s.useEffect)((()=>{if(!j.current)return;const e=Array.from(j.current.children).map((e=>e.clientWidth));b(e)}),[i]),(0,s.useEffect)((()=>{if(!j.current)return;if(p.slice(0,-1).reduce(((e,i)=>e+i),0)<=A)return void B([]);const e=p.reduce(((e,i)=>e>i?e:i),0),i=[];let t=e;p.forEach(((e,s)=>{A>=t+e?t+=e:i.push(s)})),B(i)}),[A,p]),(0,I.jsx)("nav",{className:n()(r,g),"aria-label":t,children:(0,I.jsxs)("ul",{className:e?y:N,ref:j,children:[i.filter(((e,i)=>!S.includes(i))).map((e=>{const i=e?.render??(e=>e);return(0,I.jsx)(s.Fragment,{children:i((0,I.jsx)("li",{className:f,children:e.disabled?(0,I.jsx)("div",{className:C,children:(0,I.jsx)(l.D,{variant:"mestoBold",children:e.title})}):(0,I.jsx)(U.O,{end:!0,className:({isActive:e})=>n()(C,{[w]:e}),to:e.to,onClick:e.handleClick,children:(0,I.jsx)(l.D,{variant:"mestoBold",children:e.title})})}))},e.to)})),S.length||0===p.length?(0,I.jsx)("li",{className:f,children:(0,I.jsx)(h.x,{renderInline:!0,menu:(0,I.jsx)(R,{items:i.filter(((e,i)=>S.includes(i))),activeItemId:M?.itemId}),children:(e,i,t)=>(0,I.jsxs)("button",{className:n()(v,{[k]:M}),type:"button",onClick:i,ref:t,children:[(0,I.jsx)(l.D,{variant:"mestoBold",children:M?M.title:o.ag.get("more")}),e?(0,I.jsx)(c.U,{iconSize:16,className:E,"aria-hidden":"true"}):(0,I.jsx)(d.i,{iconSize:16,className:E,"aria-hidden":"true"})]})})}):null]})})}))},39770:(e,i,t)=>{t.d(i,{I:()=>x});var s=t(41732),r=t(59496),n=t(55740),a=t(23348),l=t(52609),c=t(37463),d=t(12848);const o="vhW0kRN8JJD5UwW4TdXi";var u=t(4637);const m=()=>{const e=(0,d.Y)(),i=(0,r.useCallback)((e=>(0,u.jsx)(c.v,{placement:"bottomEnd",arrow:"topStart",title:n.ag.get("pick-and-shuffle.upsell.title.queue"),children:e})),[]),t=(0,r.useMemo)((()=>[{title:n.ag.get("playback-control.queue"),itemId:"queue",to:"/queue",uri:"spotify:app:queue",render:i,disabled:e},{title:n.ag.get("view.recently-played"),itemId:"history",to:"/history",uri:"spotify:app:history"}]),[e,i]);return(0,u.jsx)(l.w,{children:(0,u.jsx)(a.n,{className:o,links:t})})},x=({children:e})=>{const i=(0,s.nF)();return(0,u.jsxs)("section",{className:"contentSpacing",children:[e,i&&(0,u.jsx)(m,{})]})}},85158:(e,i,t)=>{t.r(i),t.d(i,{default:()=>F});var s=t(41732),r=t(81902),n=t(55740),a=t(6895),l=t(97824),c=t(4637);const d=()=>(0,c.jsxs)("div",{className:l.Z.emptyContainer,children:[(0,c.jsx)(a.Y,{iconSize:64,"aria-hidden":"true"}),(0,c.jsx)(r.D,{as:"h1",variant:"alto",semanticColor:"textBase",className:l.Z.emptyContainerTitle,children:n.ag.get("history.empty-title")}),(0,c.jsx)("p",{children:n.ag.get("history.empty-description")})]});var o=t(59496),u=t(99703),m=t(20111),x=t(91560),h=t(84389),j=t(37859),p=t(73320),g=t(65391),y=t(76163),f=t(1858),v=t(66275),k=t(88758),b=t(46061),w=t(28209),C=t(54204),N=t(4699),E=t(70916),I=t(59642),R=t(14126),U=t(80495),A=t(55207),T=t(2437),S=t(80557),B=t(84179);const D=o.memo((function({uri:e,name:i,duration_ms:t,index:s,imgUrl:r,artists:a,album:l,isExplicit:d,isMOGEFRestricted:o,contextItem:u,type:m}){const{isActive:h,isPlaying:p,triggerPlay:g,togglePlay:D}=(0,A.n)({uri:e,pages:[{items:[{...u}]}]},{featureIdentifier:"history"}),O=m===j.p.TRACK,M=m===j.p.EPISODE,P=m===j.p.CHAPTER,_=(0,U._)(e),G=(0,B.k)(e),{badges:Z,hasBadges:F}=(0,T.r)({downloadAvailability:_,isExplicit:d,isMOGEFRestricted:o}),L=a?.map((e=>e.name)).join(n.ag.getSeparator())||"";let Q;return M?Q=(0,c.jsx)(f.k,{uri:e,contextUri:e,showUri:l.uri}):P?Q=(0,c.jsx)(S.r,{uri:e,contextUri:e,showUri:l.uri}):O&&(0,y.dB)(e)?Q=(0,c.jsx)(v.N,{uri:e,contextUri:e}):O&&(Q=(0,c.jsx)(k.$,{uri:e,contextUri:e,albumUri:l.uri,artists:a})),(0,c.jsx)(x.ZP,{value:"row",index:s,children:(0,c.jsx)(N._,{menu:Q,children:(0,c.jsxs)(C.c,{uri:e,contextUri:e,index:s,ariaRowIndex:s,onTriggerPlay:()=>{g()},isActive:h,isPlayable:G,ageRestricted:o,dragMetadata:{name:i,createdBy:L},children:[(0,c.jsxs)(b.vZ,{ariaColIndex:0,children:[(0,c.jsx)(b.VG,{uri:e,src:r,isPlaying:p,isActive:h,isLocked:!1,onClick:()=>{D()},isEpisode:(0,y.hn)(e),playAriaLabel:n.ag.get("tracklist.a11y.play",i,L)}),(0,c.jsxs)(b.vm,{children:[(0,c.jsx)(b.Wh,{titleText:i,children:i}),F&&(0,c.jsxs)(b.g3,{children:[Z.download&&(0,c.jsx)(E.G,{size:16}),Z.explicit&&(0,c.jsx)(I.N,{}),Z.nineteen&&(0,c.jsx)(R.X,{className:w.Z.nineteen,size:16})]}),(0,c.jsx)(b.K9,{children:(0,y.wj)(e)?(0,c.jsx)(b.T6,{artists:a}):a[0]?.name??""})]})]}),(0,c.jsx)(b.UA,{ariaColIndex:2,children:(0,c.jsx)(b.BM,{nonInteractive:(0,y.dB)(e),uri:l.uri,name:l.name,creatorUri:a?.[0]?.uri,children:l.name})}),(0,c.jsxs)(b.mU,{ariaColIndex:1,children:[!(0,y.dB)(e)&&!P&&(0,c.jsx)(b.qS,{uri:e,type:m}),(0,c.jsx)(b.A$,{duration:t}),(0,c.jsx)(b.Zv,{menu:Q,label:n.ag.get("more.label.track",i,L)})]})]})})})}),((e,i)=>e.uri===i.uri)),O=o.memo((function({items:e}){const i=(0,o.useCallback)(((e,i)=>{const t=(0,g.X)(e.images??[],{desiredSize:40});return(0,h.G_)(e)?(0,c.jsx)(D,{index:i,uri:e.isLocal?e.uri:(0,m.$)(e),name:e.name,duration_ms:e.duration.milliseconds,imgUrl:t?.url||"",album:e.album,artists:e.artists,isExplicit:e.isExplicit??!1,isMOGEFRestricted:e.is19PlusOnly??!1,contextItem:e,type:j.p.TRACK},i+e.uri):(0,h.iw)(e)?(0,c.jsx)(D,{index:i,uri:e.uri,name:e.name,duration_ms:e.duration.milliseconds,imgUrl:t?.url||"",album:e.show,artists:[],isExplicit:!1,isMOGEFRestricted:!1,contextItem:e,type:j.p.EPISODE},i+e.uri):(0,h.G7)(e)?(0,c.jsx)(D,{index:i,uri:e.uri,name:e.name,duration_ms:e.duration.milliseconds,imgUrl:t?.url||"",album:e.book,artists:[],isExplicit:!1,isMOGEFRestricted:!1,contextItem:e,type:j.p.CHAPTER},i+e.uri):((0,h.k6)(e)||(0,h.RB)(e)||(0,p._)(e),(0,c.jsx)(u.hU,{height:`${u.dN}px`}))}),[]),t=(0,o.useMemo)((()=>[u.QD.TITLE,u.QD.ALBUM_OR_PODCAST,u.QD.DURATION]),[]),s=(0,o.useCallback)((e=>e.uri),[]);return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(x.ZP,{value:"play-history-tracklist",children:(0,c.jsx)(u.Pv,{ariaLabel:"play-history",hasHeaderRow:!0,columns:t,renderRow:i,resolveUri:s,tracks:e,nrTracks:e.length,rowPlaceholder:u.hU,limit:50})})})})),M="dt3fysZYdQ6hhWfpmjAu",P="n6LsTkKvpO88xeRyRTdw",_=()=>{const e=(0,s.U5)();return e&&e.items.length>0?(0,c.jsxs)("div",{className:M,children:[(0,c.jsx)(r.D,{as:"h1",variant:"canon",semanticColor:"textBase",className:P,children:n.ag.get("view.recently-played")}),(0,c.jsx)(O,{items:e.items})]}):(0,c.jsx)(d,{})};var G=t(39770),Z=t(9205);const F=()=>(0,s.nF)()?(0,c.jsx)(G.I,{children:(0,c.jsx)(_,{})}):(0,c.jsx)(Z.InstrumentedRedirect,{to:"/"})},20111:(e,i,t)=>{t.d(i,{$:()=>s});const s=e=>e?.linked_from?.uri||e.uri},97824:(e,i,t)=>{t.d(i,{Z:()=>s});const s={emptyContainer:"gTvMl6pwfRD9PobMSB5x",emptyContainerTitle:"hNAQG0TAe2WFYyf_iZEB",findSomething:"Zhzrb2k9nQRActS2lp4U"}}}]);
//# sourceMappingURL=xpui-routes-play-history-page.js.map